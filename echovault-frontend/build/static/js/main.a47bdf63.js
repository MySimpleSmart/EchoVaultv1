/*! For license information please see main.a47bdf63.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,r)=>{var n=r(853),a=r(43),l=r(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(i(e)!==e)throw Error(s(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),j=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var L=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function B(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case x:return"Portal";case j:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return B(e(t))}catch(r){}}return null}var z=Array.isArray,P=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},F=[],O=-1;function R(e){return{current:e}}function I(e){0>O||(e.current=F[O],F[O]=null,O--)}function V(e,t){O++,F[O]=e.current,e.current=t}var W,H,U=R(null),q=R(null),$=R(null),G=R(null);function Q(e,t){switch(V($,t),V(q,e),V(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bu(t=gu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(U),V(U,e)}function Y(){I(U),I(q),I($)}function J(e){null!==e.memoizedState&&V(G,e);var t=U.current,r=bu(t,e.type);t!==r&&(V(q,e),V(U,r))}function K(e){q.current===e&&(I(U),I(q)),G.current===e&&(I(G),dm._currentValue=T)}function X(e){if(void 0===W)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",H=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(a){var n=a}Reflect.construct(e,[],r)}else{try{r.call()}catch(l){n=l}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),s=l[0],o=l[1];if(s&&o){var i=s.split("\n"),c=o.split("\n");for(a=n=0;n<i.length&&!i[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===i.length||a===c.length)for(n=i.length-1,a=c.length-1;1<=n&&0<=a&&i[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(i[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||i[n]!==c[a]){var d="\n"+i[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?X(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,le=n.unstable_cancelCallback,se=n.unstable_shouldYield,oe=n.unstable_requestPaint,ie=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,me=n.unstable_NormalPriority,pe=n.unstable_LowPriority,he=n.unstable_IdlePriority,fe=n.log,xe=n.unstable_setDisableYieldValue,ge=null,be=null;function ye(e){if("function"===typeof fe&&xe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Ne=256,ke=262144,_e=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var a=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~l)?a=Se(n):0!==(s&=o)?a=Se(s):r||0!==(r=o&~e)&&(a=Se(r)):0!==(o=n&~l)?a=Se(o):0!==s?a=Se(s):r||0!==(r=n&~e)&&(a=Se(r)),0===a?0:0!==t&&t!==a&&0===(t&l)&&((l=a&-a)>=(r=t&-t)||32===l&&0!==(4194048&r))?t:a}function Le(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Me(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Be(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ve(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function Pe(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ve(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function De(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Te(r))&(e.suspendedLanes|t))?0:r}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Sm(e.type)}function Re(e,t){var r=D.p;try{return D.p=e,t()}finally{D.p=r}}var Ie=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Ie,We="__reactProps$"+Ie,He="__reactContainer$"+Ie,Ue="__reactEvents$"+Ie,qe="__reactListeners$"+Ie,$e="__reactHandles$"+Ie,Ge="__reactResources$"+Ie,Qe="__reactMarker$"+Ie;function Ye(e){delete e[Ve],delete e[We],delete e[Ue],delete e[qe],delete e[$e]}function Je(e){var t=e[Ve];if(t)return t;for(var r=e.parentNode;r;){if(t=r[He]||r[Ve]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Tu(e);null!==e;){if(r=e[Ve])return r;e=Tu(e)}return t}r=(e=r).parentNode}return null}function Ke(e){if(e=e[Ve]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,rt={};function nt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function it(e,t,r){if(a=t,ne.call(ot,a)||!ne.call(st,a)&&(lt.test(a)?ot[a]=!0:(st[a]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var a}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function dt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mt(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function gt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,r,n,a,l,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ut(t)):null!=r?vt(e,s,ut(r)):null!=n&&e.removeAttribute("value"),null==a&&null!=l&&(e.defaultChecked=!!l),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function yt(e,t,r,n,a,l,s,o){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=r){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return void pt(e);r=null!=r?""+ut(r):"",t=null!=t?""+ut(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),pt(e)}function vt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function jt(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ut(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,r){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ut(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(s(92));if(z(n)){if(1<n.length)throw Error(s(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=ut(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n),pt(e)}function kt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||_t.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ct(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&St(e,a,n)}else for(var l in t)t.hasOwnProperty(l)&&St(e,l,t[l])}function Lt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bt(){}var zt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Tt=null;function Ft(e){var t=Ke(e);if(t&&(e=t.stateNode)){var r=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[We]||null;if(!a)throw Error(s(90));bt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":wt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&jt(e,!!r.multiple,t,!1)}}}var Ot=!1;function Rt(e,t,r){if(Ot)return e(t,r);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Dt||null!==Tt)&&(Zc(),Dt&&(t=Dt,e=Tt,Tt=Dt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function It(e,t){var r=e.stateNode;if(null===r)return null;var n=r[We]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Vt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Km){Wt=!1}var Ut=null,qt=null,$t=null;function Gt(){if($t)return $t;var e,t,r=qt,n=r.length,a="value"in Ut?Ut.value:Ut.textContent,l=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[l-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Jt(){return!1}function Kt(e){function t(t,r,n,a,l){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Jt,this.isPropagationStopped=Jt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Xt,Zt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Kt(tr),nr=p({},tr,{view:0,detail:0}),ar=Kt(nr),lr=p({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Xt=e.screenX-er.screenX,Zt=e.screenY-er.screenY):Zt=Xt=0,er=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sr=Kt(lr),or=Kt(p({},lr,{dataTransfer:0})),ir=Kt(p({},nr,{relatedTarget:0})),cr=Kt(p({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),dr=Kt(p({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ur=Kt(p({},tr,{data:0})),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hr[e])&&!!t[e]}function xr(){return fr}var gr=Kt(p({},nr,{key:function(e){if(e.key){var t=mr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),br=Kt(p({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Kt(p({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr})),vr=Kt(p({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),jr=Kt(p({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wr=Kt(p({},tr,{newState:0,oldState:0})),Nr=[9,13,27,32],kr=Vt&&"CompositionEvent"in window,_r=null;Vt&&"documentMode"in document&&(_r=document.documentMode);var Sr=Vt&&"TextEvent"in window&&!_r,Cr=Vt&&(!kr||_r&&8<_r&&11>=_r),Lr=String.fromCharCode(32),Er=!1;function Mr(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Dr(e,t,r,n){Dt?Tt?Tt.push(n):Tt=[n]:Dt=n,0<(t=nu(t,"onChange")).length&&(r=new rr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tr=null,Fr=null;function Or(e){Yd(e,0)}function Rr(e){if(ht(Xe(e)))return e}function Ir(e,t){if("change"===e)return t}var Vr=!1;if(Vt){var Wr;if(Vt){var Hr="oninput"in document;if(!Hr){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),Hr="function"===typeof Ur.oninput}Wr=Hr}else Wr=!1;Vr=Wr&&(!document.documentMode||9<document.documentMode)}function qr(){Tr&&(Tr.detachEvent("onpropertychange",$r),Fr=Tr=null)}function $r(e){if("value"===e.propertyName&&Rr(Fr)){var t=[];Dr(t,Fr,e,Pt(e)),Rt(Or,t)}}function Gr(e,t,r){"focusin"===e?(qr(),Fr=r,(Tr=t).attachEvent("onpropertychange",$r)):"focusout"===e&&qr()}function Qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rr(Fr)}function Yr(e,t){if("click"===e)return Rr(t)}function Jr(e,t){if("input"===e||"change"===e)return Rr(t)}var Kr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xr(e,t){if(Kr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ne.call(t,a)||!Kr(e[a],t[a]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=Zr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zr(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var an=Vt&&"documentMode"in document&&11>=document.documentMode,ln=null,sn=null,on=null,cn=!1;function dn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;cn||null==ln||ln!==ft(n)||("selectionStart"in(n=ln)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},on&&Xr(on,n)||(on=n,0<(n=nu(sn,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ln)))}function un(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},pn={},hn={};function fn(e){if(pn[e])return pn[e];if(!mn[e])return e;var t,r=mn[e];for(t in r)if(r.hasOwnProperty(t)&&t in hn)return pn[e]=r[t];return e}Vt&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);var xn=fn("animationend"),gn=fn("animationiteration"),bn=fn("animationstart"),yn=fn("transitionrun"),vn=fn("transitionstart"),jn=fn("transitioncancel"),wn=fn("transitionend"),Nn=new Map,kn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Nn.set(e,t),nt(t,[e])}kn.push("scrollEnd");var Sn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cn=[],Ln=0,En=0;function Mn(){for(var e=Ln,t=En=Ln=0;t<e;){var r=Cn[t];Cn[t++]=null;var n=Cn[t];Cn[t++]=null;var a=Cn[t];Cn[t++]=null;var l=Cn[t];if(Cn[t++]=null,null!==n&&null!==a){var s=n.pending;null===s?a.next=a:(a.next=s.next,s.next=a),n.pending=a}0!==l&&Pn(r,a,l)}}function An(e,t,r,n){Cn[Ln++]=e,Cn[Ln++]=t,Cn[Ln++]=r,Cn[Ln++]=n,En|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Bn(e,t,r,n){return An(e,t,r,n),Dn(e)}function zn(e,t){return An(e,null,null,t),Dn(e)}function Pn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var a=!1,l=e.return;null!==l;)l.childLanes|=r,null!==(n=l.alternate)&&(n.childLanes|=r),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(a=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,a&&null!==t&&(a=31-ve(r),null===(n=(e=l.hiddenUpdates)[a])?e[a]=[t]:n.push(t),t.lane=536870912|r),l):null}function Dn(e){if(50<Uc)throw Uc=0,qc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Tn={};function Fn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,r,n){return new Fn(e,t,r,n)}function Rn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function In(e,t){var r=e.alternate;return null===r?((r=On(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Vn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wn(e,t,r,n,a,l){var o=0;if(n=e,"function"===typeof e)Rn(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=On(31,r,t,a)).elementType=C,e.lanes=l,e;case g:return Hn(r.children,a,l,t);case b:o=8,a|=24;break;case y:return(e=On(12,r,t,2|a)).elementType=y,e.lanes=l,e;case N:return(e=On(13,r,t,a)).elementType=N,e.lanes=l,e;case k:return(e=On(19,r,t,a)).elementType=k,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:o=10;break e;case v:o=9;break e;case w:o=11;break e;case _:o=14;break e;case S:o=16,n=null;break e}o=29,r=Error(s(130,null===e?"null":typeof e,"")),n=null}return(t=On(o,r,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Hn(e,t,r,n){return(e=On(7,e,n,t)).lanes=r,e}function Un(e,t,r){return(e=On(6,e,null,t)).lanes=r,e}function qn(e){var t=On(18,null,null,0);return t.stateNode=e,t}function $n(e,t,r){return(t=On(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=new WeakMap;function Qn(e,t){if("object"===typeof e&&null!==e){var r=Gn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Gn.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Yn=[],Jn=0,Kn=null,Xn=0,Zn=[],ea=0,ta=null,ra=1,na="";function aa(e,t){Yn[Jn++]=Xn,Yn[Jn++]=Kn,Kn=e,Xn=t}function la(e,t,r){Zn[ea++]=ra,Zn[ea++]=na,Zn[ea++]=ta,ta=e;var n=ra;e=na;var a=32-ve(n)-1;n&=~(1<<a),r+=1;var l=32-ve(t)+a;if(30<l){var s=a-a%5;l=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ra=1<<32-ve(t)+a|r<<a|n,na=l+e}else ra=1<<l|r<<a|n,na=e}function sa(e){null!==e.return&&(aa(e,1),la(e,1,0))}function oa(e){for(;e===Kn;)Kn=Yn[--Jn],Yn[Jn]=null,Xn=Yn[--Jn],Yn[Jn]=null;for(;e===ta;)ta=Zn[--ea],Zn[ea]=null,na=Zn[--ea],Zn[ea]=null,ra=Zn[--ea],Zn[ea]=null}function ia(e,t){Zn[ea++]=ra,Zn[ea++]=na,Zn[ea++]=ta,ra=t.id,na=t.overflow,ta=e}var ca=null,da=null,ua=!1,ma=null,pa=!1,ha=Error(s(519));function fa(e){throw ja(Qn(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ha}function xa(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Ve]=e,t[We]=n,r){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(r=0;r<Gd.length;r++)Jd(Gd[r],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),yt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),Nt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||cu(t.textContent,r)?(null!=n.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=n.onScroll&&Jd("scroll",t),null!=n.onScrollEnd&&Jd("scrollend",t),null!=n.onClick&&(t.onclick=Bt),t=!0):t=!1,t||fa(e,!0)}function ga(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(pa=!1);case 27:case 3:return void(pa=!0);default:ca=ca.return}}function ba(e){if(e!==ca)return!1;if(!ua)return ga(e),ua=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yu(e.type,e.memoizedProps)),t=!t),t&&da&&fa(e),ga(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));da=Du(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));da=Du(e)}else 27===r?(r=da,Su(e.type)?(e=Pu,Pu=null,da=e):da=r):da=ca?zu(e.stateNode.nextSibling):null;return!0}function ya(){da=ca=null,ua=!1}function va(){var e=ma;return null!==e&&(null===Mc?Mc=e:Mc.push.apply(Mc,e),ma=null),e}function ja(e){null===ma?ma=[e]:ma.push(e)}var wa=R(null),Na=null,ka=null;function _a(e,t,r){V(wa,t._currentValue),t._currentValue=r}function Sa(e){e._currentValue=wa.current,I(wa)}function Ca(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function La(e,t,r,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){var o=a.child;l=l.firstContext;e:for(;null!==l;){var i=l;l=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){l.lanes|=r,null!==(i=l.alternate)&&(i.lanes|=r),Ca(l.return,r,e),n||(o=null);break e}l=i.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ca(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ea(e,t,r,n){e=null;for(var a=t,l=!1;null!==a;){if(!l)if(0!==(524288&a.flags))l=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var i=a.type;Kr(a.pendingProps.value,o.value)||(null!==e?e.push(i):e=[i])}}else if(a===G.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}a=a.return}null!==e&&La(t,e,r,n),t.flags|=262144}function Ma(e){for(e=e.firstContext;null!==e;){if(!Kr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Na=e,ka=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ba(e){return Pa(Na,e)}function za(e,t){return null===Na&&Aa(e),Pa(e,t)}function Pa(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===ka){if(null===e)throw Error(s(308));ka=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ka=ka.next=t;return r}var Da="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ta=n.unstable_scheduleCallback,Fa=n.unstable_NormalPriority,Oa={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ra(){return{controller:new Da,data:new Map,refCount:0}}function Ia(e){e.refCount--,0===e.refCount&&Ta(Fa,function(){e.controller.abort()})}var Va=null,Wa=0,Ha=0,Ua=null;function qa(){if(0===--Wa&&null!==Va){null!==Ua&&(Ua.status="fulfilled");var e=Va;Va=null,Ha=0,Ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $a=P.S;P.S=function(e,t){zc=ie(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Va){var r=Va=[];Wa=0,Ha=Wd(),Ua={status:"pending",value:void 0,then:function(e){r.push(e)}}}Wa++,t.then(qa,qa)}(0,t),null!==$a&&$a(e,t)};var Ga=R(null);function Qa(){var e=Ga.current;return null!==e?e:hc.pooledCache}function Ya(e,t){V(Ga,null===t?Ga.current:t.pool)}function Ja(){var e=Qa();return null===e?null:{parent:Oa._currentValue,pool:e}}var Ka=Error(s(460)),Xa=Error(s(474)),Za=Error(s(542)),el={then:function(){}};function tl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rl(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Bt,Bt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw sl(e=t.reason),e;default:if("string"===typeof t.status)t.then(Bt,Bt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sl(e=t.reason),e}throw al=t,Ka}}function nl(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw al=t,Ka;throw t}}var al=null;function ll(){if(null===al)throw Error(s(459));var e=al;return al=null,e}function sl(e){if(e===Ka||e===Za)throw Error(s(483))}var ol=null,il=0;function cl(e){var t=il;return il+=1,null===ol&&(ol=[]),rl(ol,e,t)}function dl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ul(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ml(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=In(e,t)).index=0,e.sibling=null,e}function l(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,r,n){return null===t||6!==t.tag?((t=Un(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var l=r.type;return l===g?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===S&&nl(l)===t.type)?(dl(t=a(t,r.props),r),t.return=e,t):(dl(t=Wn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$n(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,l){return null===t||7!==t.tag?((t=Hn(r,e.mode,n,l)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Un(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return dl(r=Wn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case x:return(t=$n(t,e.mode,r)).return=e,t;case S:return m(e,t=nl(t),r)}if(z(t)||M(t))return(t=Hn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return m(e,cl(t),r);if(t.$$typeof===j)return m(e,za(e,t),r);ul(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==a?null:i(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return r.key===a?c(e,t,r,n):null;case x:return r.key===a?d(e,t,r,n):null;case S:return p(e,t,r=nl(r),n)}if(z(r)||M(r))return null!==a?null:u(e,t,r,n,null);if("function"===typeof r.then)return p(e,t,cl(r),n);if(r.$$typeof===j)return p(e,t,za(e,r),n);ul(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return i(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case x:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case S:return h(e,t,r,n=nl(n),a)}if(z(n)||M(n))return u(t,e=e.get(r)||null,n,a,null);if("function"===typeof n.then)return h(e,t,r,cl(n),a);if(n.$$typeof===j)return h(e,t,r,za(t,n),a);ul(t,n)}return null}function b(i,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===g){if(7===c.tag){r(i,c.sibling),(u=a(c,d.props.children)).return=i,i=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===S&&nl(y)===c.type){r(i,c.sibling),dl(u=a(c,d.props),d),u.return=i,i=u;break e}r(i,c);break}t(i,c),c=c.sibling}d.type===g?((u=Hn(d.props.children,i.mode,u,d.key)).return=i,i=u):(dl(u=Wn(d.type,d.key,d.props,null,i.mode,u),d),u.return=i,i=u)}return o(i);case x:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(i,c.sibling),(u=a(c,d.children||[])).return=i,i=u;break e}r(i,c);break}t(i,c),c=c.sibling}(u=$n(d,i.mode,u)).return=i,i=u}return o(i);case S:return b(i,c,d=nl(d),u)}if(z(d))return function(a,s,o,i){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=p(a,u,o[f],i);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===o.length)return r(a,u),ua&&aa(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(a,o[f],i))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return ua&&aa(a,f),c}for(u=n(u);f<o.length;f++)null!==(x=h(u,a,f,o[f],i))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=l(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),ua&&aa(a,f),c}(i,c,d,u);if(M(d)){if("function"!==typeof(y=M(d)))throw Error(s(150));return function(a,o,i,c){if(null==i)throw Error(s(151));for(var d=null,u=null,f=o,x=o=0,g=null,b=i.next();null!==f&&!b.done;x++,b=i.next()){f.index>x?(g=f,f=null):g=f.sibling;var y=p(a,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),o=l(y,o,x),null===u?d=y:u.sibling=y,u=y,f=g}if(b.done)return r(a,f),ua&&aa(a,x),d;if(null===f){for(;!b.done;x++,b=i.next())null!==(b=m(a,b.value,c))&&(o=l(b,o,x),null===u?d=b:u.sibling=b,u=b);return ua&&aa(a,x),d}for(f=n(f);!b.done;x++,b=i.next())null!==(b=h(f,a,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),o=l(b,o,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),ua&&aa(a,x),d}(i,c,d=y.call(d),u)}if("function"===typeof d.then)return b(i,c,cl(d),u);if(d.$$typeof===j)return b(i,c,za(i,d),u);ul(i,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(i,c.sibling),(u=a(c,d)).return=i,i=u):(r(i,c),(u=Un(d,i.mode,u)).return=i,i=u),o(i)):r(i,c)}return function(e,t,r,n){try{il=0;var a=b(e,t,r,n);return ol=null,a}catch(s){if(s===Ka||s===Za)throw s;var l=On(29,s,null,e.mode);return l.lanes=n,l.return=e,l}}}var pl=ml(!0),hl=ml(!1),fl=!1;function xl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yl(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&pc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Dn(e),Pn(e,null,r),t}return An(e,n,t,r),Dn(e)}function vl(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Pe(e,r)}}function jl(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,l=null;if(null!==(r=r.firstBaseUpdate)){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===l?a=l=s:l=l.next=s,r=r.next}while(null!==r);null===l?a=l=t:l=l.next=t}else a=l=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var wl=!1;function Nl(){if(wl){if(null!==Ua)throw Ua}}function kl(e,t,r,n){wl=!1;var a=e.updateQueue;fl=!1;var l=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var i=o,c=i.next;i.next=null,null===s?l=c:s.next=c,s=i;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=i))}if(null!==l){var u=a.baseState;for(s=0,d=c=i=null,o=l;;){var m=-536870913&o.lane,h=m!==o.lane;if(h?(xc&m)===m:(n&m)===m){0!==m&&m===Ha&&(wl=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,x=o;m=t;var g=r;switch(x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(g,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=x.payload)?f.call(g,u,m):f)||void 0===m)break e;u=p({},u,m);break e;case 2:fl=!0}}null!==(m=o.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=a.callbacks)?a.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,i=u):d=d.next=h,s|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}null===d&&(i=u),a.baseState=i,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===l&&(a.shared.lanes=0),kc|=s,e.lanes=s,e.memoizedState=u}}function _l(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Sl(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)_l(r[e],t)}var Cl=R(null),Ll=R(0);function El(e,t){V(Ll,e=wc),V(Cl,t),wc=e|t.baseLanes}function Ml(){V(Ll,wc),V(Cl,Cl.current)}function Al(){wc=Ll.current,I(Cl),I(Ll)}var Bl=R(null),zl=null;function Pl(e){var t=e.alternate;V(Rl,1&Rl.current),V(Bl,e),null===zl&&(null===t||null!==Cl.current||null!==t.memoizedState)&&(zl=e)}function Dl(e){V(Rl,Rl.current),V(Bl,e),null===zl&&(zl=e)}function Tl(e){22===e.tag?(V(Rl,Rl.current),V(Bl,e),null===zl&&(zl=e)):Fl()}function Fl(){V(Rl,Rl.current),V(Bl,Bl.current)}function Ol(e){I(Bl),zl===e&&(zl=null),I(Rl)}var Rl=R(0);function Il(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Au(r)||Bu(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vl=0,Wl=null,Hl=null,Ul=null,ql=!1,$l=!1,Gl=!1,Ql=0,Yl=0,Jl=null,Kl=0;function Xl(){throw Error(s(321))}function Zl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function es(e,t,r,n,a,l){return Vl=l,Wl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?xo:go,Gl=!1,l=r(n,a),Gl=!1,$l&&(l=rs(t,r,n,a)),ts(e),l}function ts(e){P.H=fo;var t=null!==Hl&&null!==Hl.next;if(Vl=0,Ul=Hl=Wl=null,ql=!1,Yl=0,Jl=null,t)throw Error(s(300));null===e||zo||null!==(e=e.dependencies)&&Ma(e)&&(zo=!0)}function rs(e,t,r,n){Wl=e;var a=0;do{if($l&&(Jl=null),Yl=0,$l=!1,25<=a)throw Error(s(301));if(a+=1,Ul=Hl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}P.H=bo,l=t(r,n)}while($l);return l}function ns(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?cs(t):t,e=e.useState()[0],(null!==Hl?Hl.memoizedState:null)!==e&&(Wl.flags|=1024),t}function as(){var e=0!==Ql;return Ql=0,e}function ls(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ss(e){if(ql){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ql=!1}Vl=0,Ul=Hl=Wl=null,$l=!1,Yl=Ql=0,Jl=null}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ul?Wl.memoizedState=Ul=e:Ul=Ul.next=e,Ul}function is(){if(null===Hl){var e=Wl.alternate;e=null!==e?e.memoizedState:null}else e=Hl.next;var t=null===Ul?Wl.memoizedState:Ul.next;if(null!==t)Ul=t,Hl=e;else{if(null===e){if(null===Wl.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Hl=e).memoizedState,baseState:Hl.baseState,baseQueue:Hl.baseQueue,queue:Hl.queue,next:null},null===Ul?Wl.memoizedState=Ul=e:Ul=Ul.next=e}return Ul}function cs(e){var t=Yl;return Yl+=1,null===Jl&&(Jl=[]),e=rl(Jl,e,t),t=Wl,null===(null===Ul?t.memoizedState:Ul.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?xo:go),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cs(e);if(e.$$typeof===j)return Ba(e)}throw Error(s(438,String(e)))}function us(e){var t=null,r=Wl.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Wl.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Wl.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=L;return t.index++,r}function ms(e,t){return"function"===typeof t?t(e):t}function ps(e){return hs(is(),Hl,e)}function hs(e,t,r){var n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=r;var a=e.baseQueue,l=n.pending;if(null!==l){if(null!==a){var o=a.next;a.next=l.next,l.next=o}t.baseQueue=a=l,n.pending=null}if(l=e.baseState,null===a)e.memoizedState=l;else{var i=o=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(xc&m)===m:(Vl&m)===m){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Ha&&(u=!0);else{if((Vl&p)===p){d=d.next,p===Ha&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=m,o=l):c=c.next=m,Wl.lanes|=p,kc|=p}m=d.action,Gl&&r(l,m),l=d.hasEagerState?d.eagerState:r(l,m)}else p={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=p,o=l):c=c.next=p,Wl.lanes|=m,kc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=l:c.next=i,!Kr(l,e.memoizedState)&&(zo=!0,u&&null!==(r=Ua)))throw r;e.memoizedState=l,e.baseState=o,e.baseQueue=c,n.lastRenderedState=l}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function fs(e){var t=is(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{l=e(l,o.action),o=o.next}while(o!==a);Kr(l,t.memoizedState)||(zo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function xs(e,t,r){var n=Wl,a=is(),l=ua;if(l){if(void 0===r)throw Error(s(407));r=r()}else r=t();var o=!Kr((Hl||a).memoizedState,r);if(o&&(a.memoizedState=r,zo=!0),a=a.queue,Vs(ys.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==Ul&&1&Ul.memoizedState.tag){if(n.flags|=2048,Ts(9,{destroy:void 0},bs.bind(null,n,a,r,t),null),null===hc)throw Error(s(349));l||0!==(127&Vl)||gs(n,t,r)}return r}function gs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Wl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wl.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function bs(e,t,r,n){t.value=r,t.getSnapshot=n,vs(t)&&js(e)}function ys(e,t,r){return r(function(){vs(t)&&js(e)})}function vs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch(n){return!0}}function js(e){var t=zn(e,2);null!==t&&Qc(t,e,2)}function ws(e){var t=os();if("function"===typeof e){var r=e;if(e=r(),Gl){ye(!0);try{r()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t}function Ns(e,t,r,n){return e.baseState=r,hs(e,Hl,"function"===typeof n?n:ms)}function ks(e,t,r,n,a){if(mo(e))throw Error(s(485));if(null!==(e=t.action)){var l={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==P.T?r(!0):l.isTransition=!1,n(l),null===(r=t.pending)?(l.next=t.pending=l,_s(t,l)):(l.next=r.next,t.pending=r.next=l)}}function _s(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var l=P.T,s={};P.T=s;try{var o=r(a,n),i=P.S;null!==i&&i(s,o),Ss(e,t,o)}catch(c){Ls(e,t,c)}finally{null!==l&&null!==s.types&&(l.types=s.types),P.T=l}}else try{Ss(e,t,l=r(a,n))}catch(d){Ls(e,t,d)}}function Ss(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){Cs(e,t,r)},function(r){return Ls(e,t,r)}):Cs(e,t,r)}function Cs(e,t,r){t.status="fulfilled",t.value=r,Es(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,_s(e,r)))}function Ls(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Es(t),t=t.next}while(t!==n)}e.action=null}function Es(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ms(e,t){return t}function As(e,t){if(ua){var r=hc.formState;if(null!==r){e:{var n=Wl;if(ua){if(da){t:{for(var a=da,l=pa;8!==a.nodeType;){if(!l){a=null;break t}if(null===(a=zu(a.nextSibling))){a=null;break t}}a="F!"===(l=a.data)||"F"===l?a:null}if(a){da=zu(a.nextSibling),n="F!"===a.data;break e}}fa(n)}n=!1}n&&(t=r[0])}}return(r=os()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:t},r.queue=n,r=io.bind(null,Wl,n),n.dispatch=r,n=ws(!1),l=uo.bind(null,Wl,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=os()).queue=a,r=ks.bind(null,Wl,a,l,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function Bs(e){return zs(is(),Hl,e)}function zs(e,t,r){if(t=hs(e,t,Ms)[0],e=ps(ms)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=cs(t)}catch(s){if(s===Ka)throw Za;throw s}else n=t;var a=(t=is()).queue,l=a.dispatch;return r!==t.memoizedState&&(Wl.flags|=2048,Ts(9,{destroy:void 0},Ps.bind(null,a,r),null)),[n,l,e]}function Ps(e,t){e.action=t}function Ds(e){var t=is(),r=Hl;if(null!==r)return zs(t,r,e);is(),t=t.memoizedState;var n=(r=is()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Ts(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=Wl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wl.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Fs(){return is().memoizedState}function Os(e,t,r,n){var a=os();Wl.flags|=e,a.memoizedState=Ts(1|t,{destroy:void 0},r,void 0===n?null:n)}function Rs(e,t,r,n){var a=is();n=void 0===n?null:n;var l=a.memoizedState.inst;null!==Hl&&null!==n&&Zl(n,Hl.memoizedState.deps)?a.memoizedState=Ts(t,l,r,n):(Wl.flags|=e,a.memoizedState=Ts(1|t,l,r,n))}function Is(e,t){Os(8390656,8,e,t)}function Vs(e,t){Rs(2048,8,e,t)}function Ws(e){var t=is().memoizedState;return function(e){Wl.flags|=4;var t=Wl.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wl.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Rs(4,2,e,t)}function Us(e,t){return Rs(4,4,e,t)}function qs(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $s(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Rs(4,4,qs.bind(null,t,e),r)}function Gs(){}function Qs(e,t){var r=is();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Zl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ys(e,t){var r=is();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Zl(t,n[1]))return n[0];if(n=e(),Gl){ye(!0);try{e()}finally{ye(!1)}}return r.memoizedState=[n,t],n}function Js(e,t,r){return void 0===r||0!==(1073741824&Vl)&&0===(261930&xc)?e.memoizedState=t:(e.memoizedState=r,e=Gc(),Wl.lanes|=e,kc|=e,r)}function Ks(e,t,r,n){return Kr(r,t)?r:null!==Cl.current?(e=Js(e,r,n),Kr(e,t)||(zo=!0),e):0===(42&Vl)||0!==(1073741824&Vl)&&0===(261930&xc)?(zo=!0,e.memoizedState=r):(e=Gc(),Wl.lanes|=e,kc|=e,t)}function Xs(e,t,r,n,a){var l=D.p;D.p=0!==l&&8>l?l:8;var s=P.T,o={};P.T=o,uo(e,!1,t,r);try{var i=a(),c=P.S;if(null!==c&&c(o,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)co(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(i,n),$c());else co(e,t,n,$c())}catch(d){co(e,t,{then:function(){},status:"rejected",reason:d},$c())}finally{D.p=l,null!==s&&null!==o.types&&(s.types=o.types),P.T=s}}function Zs(){}function eo(e,t,r,n){if(5!==e.tag)throw Error(s(476));var a=to(e).queue;Xs(e,a,t,T,null===r?Zs:function(){return ro(e),r(n)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:T},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},$c())}function no(){return Ba(dm)}function ao(){return is().memoizedState}function lo(){return is().memoizedState}function so(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=$c(),n=yl(t,e=bl(r),r);return null!==n&&(Qc(n,t,r),vl(n,t,r)),t={cache:Ra()},void(e.payload=t)}t=t.return}}function oo(e,t,r){var n=$c();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mo(e)?po(t,r):null!==(r=Bn(e,t,r,n))&&(Qc(r,e,n),ho(r,t,n))}function io(e,t,r){co(e,t,r,$c())}function co(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(mo(e))po(t,a);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=l(s,r);if(a.hasEagerState=!0,a.eagerState=o,Kr(o,s))return An(e,t,a,0),null===hc&&Mn(),!1}catch(i){}if(null!==(r=Bn(e,t,a,n)))return Qc(r,e,n),ho(r,t,n),!0}return!1}function uo(e,t,r,n){if(n={lane:2,revertLane:Wd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(t)throw Error(s(479))}else null!==(t=Bn(e,r,n,2))&&Qc(t,e,2)}function mo(e){var t=e.alternate;return e===Wl||null!==t&&t===Wl}function po(e,t){$l=ql=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ho(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Pe(e,r)}}var fo={readContext:Ba,use:ds,useCallback:Xl,useContext:Xl,useEffect:Xl,useImperativeHandle:Xl,useLayoutEffect:Xl,useInsertionEffect:Xl,useMemo:Xl,useReducer:Xl,useRef:Xl,useState:Xl,useDebugValue:Xl,useDeferredValue:Xl,useTransition:Xl,useSyncExternalStore:Xl,useId:Xl,useHostTransitionStatus:Xl,useFormState:Xl,useActionState:Xl,useOptimistic:Xl,useMemoCache:Xl,useCacheRefresh:Xl};fo.useEffectEvent=Xl;var xo={readContext:Ba,use:ds,useCallback:function(e,t){return os().memoizedState=[e,void 0===t?null:t],e},useContext:Ba,useEffect:Is,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Os(4194308,4,qs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){Os(4,2,e,t)},useMemo:function(e,t){var r=os();t=void 0===t?null:t;var n=e();if(Gl){ye(!0);try{e()}finally{ye(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=os();if(void 0!==r){var a=r(t);if(Gl){ye(!0);try{r(t)}finally{ye(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=oo.bind(null,Wl,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},os().memoizedState=e},useState:function(e){var t=(e=ws(e)).queue,r=io.bind(null,Wl,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Gs,useDeferredValue:function(e,t){return Js(os(),e,t)},useTransition:function(){var e=ws(!1);return e=Xs.bind(null,Wl,e.queue,!0,!1),os().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Wl,a=os();if(ua){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===hc)throw Error(s(349));0!==(127&xc)||gs(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Is(ys.bind(null,n,l,e),[e]),n.flags|=2048,Ts(9,{destroy:void 0},bs.bind(null,n,l,r,t),null),r},useId:function(){var e=os(),t=hc.identifierPrefix;if(ua){var r=na;t="_"+t+"R_"+(r=(ra&~(1<<32-ve(ra)-1)).toString(32)+r),0<(r=Ql++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Kl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:no,useFormState:As,useActionState:As,useOptimistic:function(e){var t=os();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uo.bind(null,Wl,!0,r),r.dispatch=t,[e,t]},useMemoCache:us,useCacheRefresh:function(){return os().memoizedState=so.bind(null,Wl)},useEffectEvent:function(e){var t=os(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&pc))throw Error(s(440));return r.impl.apply(void 0,arguments)}}},go={readContext:Ba,use:ds,useCallback:Qs,useContext:Ba,useEffect:Vs,useImperativeHandle:$s,useInsertionEffect:Hs,useLayoutEffect:Us,useMemo:Ys,useReducer:ps,useRef:Fs,useState:function(){return ps(ms)},useDebugValue:Gs,useDeferredValue:function(e,t){return Ks(is(),Hl.memoizedState,e,t)},useTransition:function(){var e=ps(ms)[0],t=is().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:xs,useId:ao,useHostTransitionStatus:no,useFormState:Bs,useActionState:Bs,useOptimistic:function(e,t){return Ns(is(),0,e,t)},useMemoCache:us,useCacheRefresh:lo};go.useEffectEvent=Ws;var bo={readContext:Ba,use:ds,useCallback:Qs,useContext:Ba,useEffect:Vs,useImperativeHandle:$s,useInsertionEffect:Hs,useLayoutEffect:Us,useMemo:Ys,useReducer:fs,useRef:Fs,useState:function(){return fs(ms)},useDebugValue:Gs,useDeferredValue:function(e,t){var r=is();return null===Hl?Js(r,e,t):Ks(r,Hl.memoizedState,e,t)},useTransition:function(){var e=fs(ms)[0],t=is().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:xs,useId:ao,useHostTransitionStatus:no,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){var r=is();return null!==Hl?Ns(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:us,useCacheRefresh:lo};function yo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:p({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}bo.useEffectEvent=Ws;var vo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$c(),a=bl(n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=yl(e,a,n))&&(Qc(t,e,n),vl(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$c(),a=bl(n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=yl(e,a,n))&&(Qc(t,e,n),vl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$c(),n=bl(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=yl(e,n,r))&&(Qc(t,e,r),vl(t,e,r))}};function jo(e,t,r,n,a,l,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,l,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xr(r,n)||!Xr(a,l))}function wo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function No(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var a in r===t&&(r=p({},r)),e)void 0===r[a]&&(r[a]=e[a]);return r}function ko(e){Sn(e)}function _o(e){console.error(e)}function So(e){Sn(e)}function Co(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Lo(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Eo(e,t,r){return(r=bl(r)).tag=3,r.payload={element:null},r.callback=function(){Co(e,t)},r}function Mo(e){return(e=bl(e)).tag=3,e}function Ao(e,t,r,n){var a=r.type.getDerivedStateFromError;if("function"===typeof a){var l=n.value;e.payload=function(){return a(l)},e.callback=function(){Lo(t,r,n)}}var s=r.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Lo(t,r,n),"function"!==typeof a&&(null===Tc?Tc=new Set([this]):Tc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Bo=Error(s(461)),zo=!1;function Po(e,t,r,n){t.child=null===e?hl(t,null,r,n):pl(t,e.child,r,n)}function Do(e,t,r,n,a){r=r.render;var l=t.ref;if("ref"in n){var s={};for(var o in n)"ref"!==o&&(s[o]=n[o])}else s=n;return Aa(t),n=es(e,t,r,s,l,a),o=as(),null===e||zo?(ua&&o&&sa(t),t.flags|=1,Po(e,t,n,a),t.child):(ls(e,t,a),ai(e,t,a))}function To(e,t,r,n,a){if(null===e){var l=r.type;return"function"!==typeof l||Rn(l)||void 0!==l.defaultProps||null!==r.compare?((e=Wn(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Fo(e,t,l,n,a))}if(l=e.child,!li(e,a)){var s=l.memoizedProps;if((r=null!==(r=r.compare)?r:Xr)(s,n)&&e.ref===t.ref)return ai(e,t,a)}return t.flags|=1,(e=In(l,n)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,r,n,a){if(null!==e){var l=e.memoizedProps;if(Xr(l,n)&&e.ref===t.ref){if(zo=!1,t.pendingProps=n=l,!li(e,a))return t.lanes=e.lanes,ai(e,t,a);0!==(131072&e.flags)&&(zo=!0)}}return Uo(e,t,r,n,a)}function Oo(e,t,r,n){var a=n.children,l=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(l=null!==l?l.baseLanes|r:r,null!==e){for(n=t.child=e.child,a=0;null!==n;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~l}else n=0,t.child=null;return Io(e,t,l,r,n)}if(0===(536870912&r))return n=t.lanes=536870912,Io(e,t,null!==l?l.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==l?l.cachePool:null),null!==l?El(t,l):Ml(),Tl(t)}else null!==l?(Ya(0,l.cachePool),El(t,l),Fl(),t.memoizedState=null):(null!==e&&Ya(0,null),Ml(),Fl());return Po(e,t,a,r),t.child}function Ro(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Io(e,t,r,n,a){var l=Qa();return l=null===l?null:{parent:Oa._currentValue,pool:l},t.memoizedState={baseLanes:r,cachePool:l},null!==e&&Ya(0,null),Ml(),Tl(t),null!==e&&Ea(e,t,n,!0),t.childLanes=a,null}function Vo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Wo(e,t,r){return pl(t,e.child,null,r),(e=Vo(t,t.pendingProps)).flags|=2,Ol(t),t.memoizedState=null,e}function Ho(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(s(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Uo(e,t,r,n,a){return Aa(t),r=es(e,t,r,n,void 0,a),n=as(),null===e||zo?(ua&&n&&sa(t),t.flags|=1,Po(e,t,r,a),t.child):(ls(e,t,a),ai(e,t,a))}function qo(e,t,r,n,a,l){return Aa(t),t.updateQueue=null,r=rs(t,n,r,a),ts(e),n=as(),null===e||zo?(ua&&n&&sa(t),t.flags|=1,Po(e,t,r,l),t.child):(ls(e,t,l),ai(e,t,l))}function $o(e,t,r,n,a){if(Aa(t),null===t.stateNode){var l=Tn,s=r.contextType;"object"===typeof s&&null!==s&&(l=Ba(s)),l=new r(n,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=vo,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=n,l.state=t.memoizedState,l.refs={},xl(t),s=r.contextType,l.context="object"===typeof s&&null!==s?Ba(s):Tn,l.state=t.memoizedState,"function"===typeof(s=r.getDerivedStateFromProps)&&(yo(t,r,s,n),l.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(s=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),s!==l.state&&vo.enqueueReplaceState(l,l.state,null),kl(t,n,l,a),Nl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){l=t.stateNode;var o=t.memoizedProps,i=No(r,o);l.props=i;var c=l.context,d=r.contextType;s=Tn,"object"===typeof d&&null!==d&&(s=Ba(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof l.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o||c!==s)&&wo(t,l,n,s),fl=!1;var m=t.memoizedState;l.state=m,kl(t,n,l,a),Nl(),c=t.memoizedState,o||m!==c||fl?("function"===typeof u&&(yo(t,r,u,n),c=t.memoizedState),(i=fl||jo(t,r,i,n,m,c,s))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=s,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,gl(e,t),d=No(r,s=t.memoizedProps),l.props=d,u=t.pendingProps,m=l.context,c=r.contextType,i=Tn,"object"===typeof c&&null!==c&&(i=Ba(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s!==u||m!==i)&&wo(t,l,n,i),fl=!1,m=t.memoizedState,l.state=m,kl(t,n,l,a),Nl();var p=t.memoizedState;s!==u||m!==p||fl||null!==e&&null!==e.dependencies&&Ma(e.dependencies)?("function"===typeof o&&(yo(t,r,o,n),p=t.memoizedState),(d=fl||jo(t,r,d,n,m,p,i)||null!==e&&null!==e.dependencies&&Ma(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,p,i),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,p,i)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=i,n=d):("function"!==typeof l.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return l=n,Ho(e,t),n=0!==(128&t.flags),l||n?(l=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&n?(t.child=pl(t,e.child,null,a),t.child=pl(t,null,r,a)):Po(e,t,r,a),t.memoizedState=l.state,e=t.child):e=ai(e,t,a),e}function Go(e,t,r,n){return ya(),t.flags|=256,Po(e,t,r,n),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Ja()}}function Jo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Cc),e}function Ko(e,t,r){var n,a=t.pendingProps,l=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Rl.current)),n&&(l=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ua){if(l?Pl(t):Fl(),(e=da)?null!==(e=null!==(e=Mu(e,pa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=qn(e)).return=t,t.child=r,ca=t,da=null):e=null,null===e)throw fa(t);return Bu(e)?t.lanes=32:t.lanes=536870912,null}var i=a.children;return a=a.fallback,l?(Fl(),i=Zo({mode:"hidden",children:i},l=t.mode),a=Hn(a,l,r,null),i.return=t,a.return=t,i.sibling=a,t.child=i,(a=t.child).memoizedState=Yo(r),a.childLanes=Jo(e,n,r),t.memoizedState=Qo,Ro(null,a)):(Pl(t),Xo(t,i))}var c=e.memoizedState;if(null!==c&&null!==(i=c.dehydrated)){if(o)256&t.flags?(Pl(t),t.flags&=-257,t=ei(e,t,r)):null!==t.memoizedState?(Fl(),t.child=e.child,t.flags|=128,t=null):(Fl(),i=a.fallback,l=t.mode,a=Zo({mode:"visible",children:a.children},l),(i=Hn(i,l,r,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,pl(t,e.child,null,r),(a=t.child).memoizedState=Yo(r),a.childLanes=Jo(e,n,r),t.memoizedState=Qo,t=Ro(null,a));else if(Pl(t),Bu(i)){if(n=i.nextSibling&&i.nextSibling.dataset)var d=n.dgst;n=d,(a=Error(s(419))).stack="",a.digest=n,ja({value:a,source:null,stack:null}),t=ei(e,t,r)}else if(zo||Ea(e,t,r,!1),n=0!==(r&e.childLanes),zo||n){if(null!==(n=hc)&&(0!==(a=De(n,r))&&a!==c.retryLane))throw c.retryLane=a,zn(e,a),Qc(n,e,a),Bo;Au(i)||sd(),t=ei(e,t,r)}else Au(i)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=zu(i.nextSibling),ca=t,ua=!0,ma=null,pa=!1,null!==e&&ia(t,e),(t=Xo(t,a.children)).flags|=4096);return t}return l?(Fl(),i=a.fallback,l=t.mode,d=(c=e.child).sibling,(a=In(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?i=In(d,i):(i=Hn(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,Ro(null,a),a=t.child,null===(i=e.child.memoizedState)?i=Yo(r):(null!==(l=i.cachePool)?(c=Oa._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ja(),i={baseLanes:i.baseLanes|r,cachePool:l}),a.memoizedState=i,a.childLanes=Jo(e,n,r),t.memoizedState=Qo,Ro(e.child,a)):(Pl(t),e=(r=e.child).sibling,(r=In(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Xo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=On(22,e,null,t)).lanes=0,e}function ei(e,t,r){return pl(t,e.child,null,r),(e=Xo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ti(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ca(e.return,t,r)}function ri(e,t,r,n,a,l){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a,s.treeForkCount=l)}function ni(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;n=n.children;var s=Rl.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,V(Rl,s),Po(e,t,n,r),n=ua?Xn:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,r,t);else if(19===e.tag)ti(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Il(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ri(t,!1,a,r,l,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Il(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ri(t,!0,r,null,l,n);break;case"together":ri(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ai(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ea(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=In(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=In(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function li(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ma(e))}function si(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)zo=!0;else{if(!li(e,r)&&0===(128&t.flags))return zo=!1,function(e,t,r){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_a(0,Oa,e.memoizedState.cache),ya();break;case 27:case 5:J(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_a(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Dl(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Pl(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Ko(e,t,r):(Pl(t),null!==(e=ai(e,t,r))?e.sibling:null);Pl(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Ea(e,t,r,!1),n=0!==(r&t.childLanes)),a){if(n)return ni(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),V(Rl,Rl.current),n)break;return null;case 22:return t.lanes=0,Oo(e,t,r,t.pendingProps);case 24:_a(0,Oa,e.memoizedState.cache)}return ai(e,t,r)}(e,t,r);zo=0!==(131072&e.flags)}else zo=!1,ua&&0!==(1048576&t.flags)&&la(t,Xn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=nl(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===w){t.tag=11,t=Do(null,t,e,n,r);break e}if(a===_){t.tag=14,t=To(null,t,e,n,r);break e}}throw t=B(e)||e,Error(s(306,t,""))}Rn(e)?(n=No(e,n),t.tag=1,t=$o(null,t,e,n,r)):(t.tag=0,t=Uo(null,t,e,n,r))}return t;case 0:return Uo(e,t,t.type,t.pendingProps,r);case 1:return $o(e,t,n=t.type,a=No(n,t.pendingProps),r);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));n=t.pendingProps;var l=t.memoizedState;a=l.element,gl(e,t),kl(t,n,null,r);var o=t.memoizedState;if(n=o.cache,_a(0,Oa,n),n!==l.cache&&La(t,[Oa],r,!0),Nl(),n=o.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Go(e,t,n,r);break e}if(n!==a){ja(a=Qn(Error(s(424)),t)),t=Go(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=zu(e.firstChild),ca=t,ua=!0,ma=null,pa=!0,r=hl(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ya(),n===a){t=ai(e,t,r);break e}Po(e,t,n,r)}t=t.child}return t;case 26:return Ho(e,t),null===e?(r=qu(t.type,null,t.pendingProps,null))?t.memoizedState=r:ua||(r=t.type,e=t.pendingProps,(n=xu($.current).createElement(r))[Ve]=t,n[We]=e,mu(n,r,e),et(n),t.stateNode=n):t.memoizedState=qu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&ua&&(n=t.stateNode=Fu(t.type,t.pendingProps,$.current),ca=t,pa=!0,a=da,Su(t.type)?(Pu=a,da=zu(n.firstChild)):da=a),Po(e,t,t.pendingProps.children,r),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ua&&((a=n=da)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===l)return e}if(null===(e=zu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,pa))?(t.stateNode=n,ca=t,da=zu(n.firstChild),pa=!1,a=!0):a=!1),a||fa(t)),J(t),a=t.type,l=t.pendingProps,o=null!==e?e.memoizedProps:null,n=l.children,yu(a,l)?n=null:null!==o&&yu(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=es(e,t,ns,null,null,r),dm._currentValue=a),Ho(e,t),Po(e,t,n,r),t.child;case 6:return null===e&&ua&&((e=r=da)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=zu(e.nextSibling)))return null}return e}(r,t.pendingProps,pa))?(t.stateNode=r,ca=t,da=null,e=!0):e=!1),e||fa(t)),null;case 13:return Ko(e,t,r);case 4:return Q(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=pl(t,null,n,r):Po(e,t,n,r),t.child;case 11:return Do(e,t,t.type,t.pendingProps,r);case 7:return Po(e,t,t.pendingProps,r),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,_a(0,t.type,n.value),Po(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Aa(t),n=n(a=Ba(a)),t.flags|=1,Po(e,t,n,r),t.child;case 14:return To(e,t,t.type,t.pendingProps,r);case 15:return Fo(e,t,t.type,t.pendingProps,r);case 19:return ni(e,t,r);case 31:return function(e,t,r){var n=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ua){if("hidden"===n.mode)return e=Vo(t,n),t.lanes=536870912,Ro(null,e);if(Dl(t),(e=da)?null!==(e=null!==(e=Mu(e,pa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},(r=qn(e)).return=t,t.child=r,ca=t,da=null):e=null,null===e)throw fa(t);return t.lanes=536870912,null}return Vo(t,n)}var l=e.memoizedState;if(null!==l){var o=l.dehydrated;if(Dl(t),a)if(256&t.flags)t.flags&=-257,t=Wo(e,t,r);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(zo||Ea(e,t,r,!1),a=0!==(r&e.childLanes),zo||a){if(null!==(n=hc)&&0!==(o=De(n,r))&&o!==l.retryLane)throw l.retryLane=o,zn(e,o),Qc(n,e,o),Bo;sd(),t=Wo(e,t,r)}else e=l.treeContext,da=zu(o.nextSibling),ca=t,ua=!0,ma=null,pa=!1,null!==e&&ia(t,e),(t=Vo(t,n)).flags|=4096;return t}return(e=In(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return Oo(e,t,r,t.pendingProps);case 24:return Aa(t),n=Ba(Oa),null===e?(null===(a=Qa())&&(a=hc,l=Ra(),a.pooledCache=l,l.refCount++,null!==l&&(a.pooledCacheLanes|=r),a=l),t.memoizedState={parent:n,cache:a},xl(t),_a(0,Oa,a)):(0!==(e.lanes&r)&&(gl(e,t),kl(t,null,null,r),Nl()),a=e.memoizedState,l=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),_a(0,Oa,n)):(n=l.cache,_a(0,Oa,n),n!==a.cache&&La(t,[Oa],r,!0))),Po(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function oi(e){e.flags|=4}function ii(e,t,r,n,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!nd())throw al=el,Xa;e.flags|=8192}}else e.flags&=-16777217}function ci(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!am(t)){if(!nd())throw al=el,Xa;e.flags|=8192}}function di(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Me():536870912,e.lanes|=t,Lc|=t)}function ui(e,t){if(!ua)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=65011712&a.subtreeFlags,n|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pi(e,t,r){var n=t.pendingProps;switch(oa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mi(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sa(Oa),Y(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ba(t)?oi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,va())),mi(t),null;case 26:var a=t.type,l=t.memoizedState;return null===e?(oi(t),null!==l?(mi(t),ci(t,l)):(mi(t),ii(t,a,0,0,r))):l?l!==e.memoizedState?(oi(t),mi(t),ci(t,l)):(mi(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&oi(t),mi(t),ii(t,a,0,0,r)),null;case 27:if(K(t),r=$.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&oi(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return mi(t),null}e=U.current,ba(t)?xa(t):(e=Fu(a,n,r),t.stateNode=e,oi(t))}return mi(t),null;case 5:if(K(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&oi(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return mi(t),null}if(l=U.current,ba(t))xa(t);else{var o=xu($.current);switch(l){case 1:l=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:l=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":l=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":l=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(l=o.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"===typeof n.is?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?l.multiple=!0:n.size&&(l.size=n.size);break;default:l="string"===typeof n.is?o.createElement(a,{is:n.is}):o.createElement(a)}}l[Ve]=t,l[We]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)l.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=l;e:switch(mu(l,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&oi(t)}}return mi(t),ii(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&oi(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=$.current,ba(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(a=ca))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||cu(e.nodeValue,r)))||fa(t,!0)}else(e=xu(e).createTextNode(n))[Ve]=t,t.stateNode=e}return mi(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(n=ba(t),null!==r){if(null===e){if(!n)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ve]=t}else ya(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),e=!1}else r=va(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Ol(t),t):(Ol(t),null);if(0!==(128&t.flags))throw Error(s(558))}return mi(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ba(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Ve]=t}else ya(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),a=!1}else a=va(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Ol(t),t):(Ol(t),null)}return Ol(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==n,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool),l=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),di(t,t.updateQueue),mi(t),null);case 4:return Y(),null===e&&Zd(t.stateNode.containerInfo),mi(t),null;case 10:return Sa(t.type),mi(t),null;case 19:if(I(Rl),null===(n=t.memoizedState))return mi(t),null;if(a=0!==(128&t.flags),null===(l=n.rendering))if(a)ui(n,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Il(e))){for(t.flags|=128,ui(n,!1),e=l.updateQueue,t.updateQueue=e,di(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Vn(r,e),r=r.sibling;return V(Rl,1&Rl.current|2),ua&&aa(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&ie()>Pc&&(t.flags|=128,a=!0,ui(n,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Il(l))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,di(t,e),ui(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!ua)return mi(t),null}else 2*ie()-n.renderingStartTime>Pc&&536870912!==r&&(t.flags|=128,a=!0,ui(n,!1),t.lanes=4194304);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=n.last)?e.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ie(),e.sibling=null,r=Rl.current,V(Rl,a?1&r|2:1&r),ua&&aa(t,n.treeForkCount),e):(mi(t),null);case 22:case 23:return Ol(t),Al(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(mi(t),6&t.subtreeFlags&&(t.flags|=8192)):mi(t),null!==(r=t.updateQueue)&&di(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&I(Ga),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sa(Oa),mi(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function hi(e,t){switch(oa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sa(Oa),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 31:if(null!==t.memoizedState){if(Ol(t),null===t.alternate)throw Error(s(340));ya()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ol(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ya()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return I(Rl),null;case 4:return Y(),null;case 10:return Sa(t.type),null;case 22:case 23:return Ol(t),Al(),null!==e&&I(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sa(Oa),null;default:return null}}function fi(e,t){switch(oa(t),t.tag){case 3:Sa(Oa),Y();break;case 26:case 27:case 5:K(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Ol(t);break;case 13:Ol(t);break;case 19:I(Rl);break;case 10:Sa(t.type);break;case 22:case 23:Ol(t),Al(),null!==e&&I(Ga);break;case 24:Sa(Oa)}}function xi(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var l=r.create,s=r.inst;n=l(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){Nd(t,t.return,o)}}function gi(e,t,r){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var l=a.next;n=l;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var i=r,c=o;try{c()}catch(d){Nd(a,i,d)}}}n=n.next}while(n!==l)}}catch(d){Nd(t,t.return,d)}}function bi(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Sl(t,r)}catch(n){Nd(e,e.return,n)}}}function yi(e,t,r){r.props=No(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Nd(e,t,n)}}function vi(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(a){Nd(e,t,a)}}function ji(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(a){Nd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(l){Nd(e,t,l)}else r.current=null}function wi(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){Nd(e,e.return,a)}}function Ni(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,l=null,o=null,i=null,c=null,d=null,u=null;for(h in r){var m=r[h];if(r.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(h)||du(e,t,h,null,n,m)}}for(var p in n){var h=n[p];if(m=r[p],n.hasOwnProperty(p)&&(null!=h||null!=m))switch(p){case"type":l=h;break;case"name":a=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":o=h;break;case"defaultValue":i=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:h!==m&&du(e,t,p,h,n,m)}}return void bt(e,o,i,c,d,u,l,a);case"select":for(l in h=o=i=p=null,r)if(c=r[l],r.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(l)||du(e,t,l,null,n,c)}for(a in n)if(l=n[a],c=r[a],n.hasOwnProperty(a)&&(null!=l||null!=c))switch(a){case"value":p=l;break;case"defaultValue":i=l;break;case"multiple":o=l;default:l!==c&&du(e,t,a,l,n,c)}return t=i,r=o,n=h,void(null!=p?jt(e,!!r,p,!1):!!n!==!!r&&(null!=t?jt(e,!!r,t,!0):jt(e,!!r,r?[]:"",!1)));case"textarea":for(i in h=p=null,r)if(a=r[i],r.hasOwnProperty(i)&&null!=a&&!n.hasOwnProperty(i))switch(i){case"value":case"children":break;default:du(e,t,i,null,n,a)}for(o in n)if(a=n[o],l=r[o],n.hasOwnProperty(o)&&(null!=a||null!=l))switch(o){case"value":p=a;break;case"defaultValue":h=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==l&&du(e,t,o,a,n,l)}return void wt(e,p,h);case"option":for(var f in r)if(p=r[f],r.hasOwnProperty(f)&&null!=p&&!n.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,n,p);for(c in n)if(p=n[c],h=r[c],n.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else du(e,t,c,p,n,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)p=r[x],r.hasOwnProperty(x)&&null!=p&&!n.hasOwnProperty(x)&&du(e,t,x,null,n,p);for(d in n)if(p=n[d],h=r[d],n.hasOwnProperty(d)&&p!==h&&(null!=p||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:du(e,t,d,p,n,h)}return;default:if(Lt(t)){for(var g in r)p=r[g],r.hasOwnProperty(g)&&void 0!==p&&!n.hasOwnProperty(g)&&uu(e,t,g,void 0,n,p);for(u in n)p=n[u],h=r[u],!n.hasOwnProperty(u)||p===h||void 0===p&&void 0===h||uu(e,t,u,p,n,h);return}}for(var b in r)p=r[b],r.hasOwnProperty(b)&&null!=p&&!n.hasOwnProperty(b)&&du(e,t,b,null,n,p);for(m in n)p=n[m],h=r[m],!n.hasOwnProperty(m)||p===h||null==p&&null==h||du(e,t,m,p,n,h)}(n,e.type,r,t),n[We]=t}catch(a){Nd(e,e.return,a)}}function ki(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Su(e.type)||4===e.tag}function _i(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ki(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Su(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Si(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Bt));else if(4!==n&&(27===n&&Su(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Si(e,t,r),e=e.sibling;null!==e;)Si(e,t,r),e=e.sibling}function Ci(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&Su(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(Ci(e,t,r),e=e.sibling;null!==e;)Ci(e,t,r),e=e.sibling}function Li(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);mu(t,n,r),t[Ve]=e,t[We]=r}catch(l){Nd(e,e.return,l)}}var Ei=!1,Mi=!1,Ai=!1,Bi="function"===typeof WeakSet?WeakSet:Set,zi=null;function Pi(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(e,r),4&n&&xi(5,r);break;case 1:if(Qi(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){Nd(r,r.return,s)}else{var a=No(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Nd(r,r.return,o)}}64&n&&bi(r),512&n&&vi(r,r.return);break;case 3:if(Qi(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Sl(e,t)}catch(s){Nd(r,r.return,s)}}break;case 27:null===t&&4&n&&Li(r);case 26:case 5:Qi(e,r),null===t&&4&n&&wi(r),512&n&&vi(r,r.return);break;case 12:Qi(e,r);break;case 31:Qi(e,r),4&n&&Ii(e,r);break;case 13:Qi(e,r),4&n&&Vi(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=Cd.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Ei)){t=null!==t&&null!==t.memoizedState||Mi,a=Ei;var l=Mi;Ei=n,(Mi=t)&&!l?Ji(e,r,0!==(8772&r.subtreeFlags)):Qi(e,r),Ei=a,Mi=l}break;case 30:break;default:Qi(e,r)}}function Di(e){var t=e.alternate;null!==t&&(e.alternate=null,Di(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ti=null,Fi=!1;function Oi(e,t,r){for(r=r.child;null!==r;)Ri(e,t,r),r=r.sibling}function Ri(e,t,r){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,r)}catch(l){}switch(r.tag){case 26:Mi||ji(r,t),Oi(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Mi||ji(r,t);var n=Ti,a=Fi;Su(r.type)&&(Ti=r.stateNode,Fi=!1),Oi(e,t,r),Ou(r.stateNode),Ti=n,Fi=a;break;case 5:Mi||ji(r,t);case 6:if(n=Ti,a=Fi,Ti=null,Oi(e,t,r),Fi=a,null!==(Ti=n))if(Fi)try{(9===Ti.nodeType?Ti.body:"HTML"===Ti.nodeName?Ti.ownerDocument.body:Ti).removeChild(r.stateNode)}catch(s){Nd(r,t,s)}else try{Ti.removeChild(r.stateNode)}catch(s){Nd(r,t,s)}break;case 18:null!==Ti&&(Fi?(Cu(9===(e=Ti).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Um(e)):Cu(Ti,r.stateNode));break;case 4:n=Ti,a=Fi,Ti=r.stateNode.containerInfo,Fi=!0,Oi(e,t,r),Ti=n,Fi=a;break;case 0:case 11:case 14:case 15:gi(2,r,t),Mi||gi(4,r,t),Oi(e,t,r);break;case 1:Mi||(ji(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&yi(r,t,n)),Oi(e,t,r);break;case 21:Oi(e,t,r);break;case 22:Mi=(n=Mi)||null!==r.memoizedState,Oi(e,t,r),Mi=n;break;default:Oi(e,t,r)}}function Ii(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Um(e)}catch(r){Nd(t,t.return,r)}}}function Vi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Um(e)}catch(r){Nd(t,t.return,r)}}function Wi(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Bi),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Bi),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Ld.bind(null,e,t);t.then(n,n)}})}function Hi(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n],l=e,o=t,i=o;e:for(;null!==i;){switch(i.tag){case 27:if(Su(i.type)){Ti=i.stateNode,Fi=!1;break e}break;case 5:Ti=i.stateNode,Fi=!1;break e;case 3:case 4:Ti=i.stateNode.containerInfo,Fi=!0;break e}i=i.return}if(null===Ti)throw Error(s(160));Ri(l,o,a),Ti=null,Fi=!1,null!==(l=a.alternate)&&(l.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qi(t,e),t=t.sibling}var Ui=null;function qi(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hi(t,e),$i(e),4&n&&(gi(3,e,e.return),xi(3,e),gi(5,e,e.return));break;case 1:Hi(t,e),$i(e),512&n&&(Mi||null===r||ji(r,r.return)),64&n&&Ei&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var a=Ui;if(Hi(t,e),$i(e),512&n&&(Mi||null===r||ji(r,r.return)),4&n){var l=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(l=a.getElementsByTagName("title")[0])||l[Qe]||l[Ve]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=a.createElement(n),a.head.insertBefore(l,a.querySelector("head > title"))),mu(l,n,r),l[Ve]=e,et(l),n=l;break e;case"link":var o=rm("link","href",a).get(n+(r.href||""));if(o)for(var i=0;i<o.length;i++)if((l=o[i]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&l.getAttribute("rel")===(null==r.rel?null:r.rel)&&l.getAttribute("title")===(null==r.title?null:r.title)&&l.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(i,1);break t}mu(l=a.createElement(n),n,r),a.head.appendChild(l);break;case"meta":if(o=rm("meta","content",a).get(n+(r.content||"")))for(i=0;i<o.length;i++)if((l=o[i]).getAttribute("content")===(null==r.content?null:""+r.content)&&l.getAttribute("name")===(null==r.name?null:r.name)&&l.getAttribute("property")===(null==r.property?null:r.property)&&l.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&l.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(i,1);break t}mu(l=a.createElement(n),n,r),a.head.appendChild(l);break;default:throw Error(s(468,n))}l[Ve]=e,et(l),n=l}e.stateNode=n}else nm(a,e.type,e.stateNode);else e.stateNode=Ku(a,n,e.memoizedProps);else l!==n?(null===l?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):l.count--,null===n?nm(a,e.type,e.stateNode):Ku(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Ni(e,e.memoizedProps,r.memoizedProps)}break;case 27:Hi(t,e),$i(e),512&n&&(Mi||null===r||ji(r,r.return)),null!==r&&4&n&&Ni(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Hi(t,e),$i(e),512&n&&(Mi||null===r||ji(r,r.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(f){Nd(e,e.return,f)}}4&n&&null!=e.stateNode&&Ni(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&n&&(Ai=!0);break;case 6:if(Hi(t,e),$i(e),4&n){if(null===e.stateNode)throw Error(s(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){Nd(e,e.return,f)}}break;case 3:if(tm=null,a=Ui,Ui=Vu(t.containerInfo),Hi(t,e),Ui=a,$i(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Um(t.containerInfo)}catch(f){Nd(e,e.return,f)}Ai&&(Ai=!1,Gi(e));break;case 4:n=Ui,Ui=Vu(e.stateNode.containerInfo),Hi(t,e),$i(e),Ui=n;break;case 12:default:Hi(t,e),$i(e);break;case 31:case 19:Hi(t,e),$i(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Wi(e,n)));break;case 13:Hi(t,e),$i(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Bc=ie()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Wi(e,n)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=Ei,u=Mi;if(Ei=d||a,Mi=u||c,Hi(t,e),Mi=u,Ei=d,$i(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||Ei||Mi||Yi(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(l=c.stateNode,a)"function"===typeof(o=l.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{i=c.stateNode;var m=c.memoizedProps.style,p=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;i.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){Nd(c,c.return,f)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){Nd(c,c.return,f)}}}else if(18===t.tag){if(null===r){c=t;try{var h=c.stateNode;a?Lu(h,!0):Lu(c.stateNode,!1)}catch(f){Nd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Wi(e,r))));case 30:case 21:}}function $i(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(ki(n)){r=n;break}n=n.return}if(null==r)throw Error(s(160));switch(r.tag){case 27:var a=r.stateNode;Ci(e,_i(e),a);break;case 5:var l=r.stateNode;32&r.flags&&(kt(l,""),r.flags&=-33),Ci(e,_i(e),l);break;case 3:case 4:var o=r.stateNode.containerInfo;Si(e,_i(e),o);break;default:throw Error(s(161))}}catch(i){Nd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qi(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Pi(e,t.alternate,t),t=t.sibling}function Yi(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gi(4,t,t.return),Yi(t);break;case 1:ji(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&yi(t,t.return,r),Yi(t);break;case 27:Ou(t.stateNode);case 26:case 5:ji(t,t.return),Yi(t);break;case 22:null===t.memoizedState&&Yi(t);break;default:Yi(t)}e=e.sibling}}function Ji(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Ji(a,l,r),xi(4,l);break;case 1:if(Ji(a,l,r),"function"===typeof(a=(n=l).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Nd(n,n.return,c)}if(null!==(a=(n=l).updateQueue)){var o=n.stateNode;try{var i=a.shared.hiddenCallbacks;if(null!==i)for(a.shared.hiddenCallbacks=null,a=0;a<i.length;a++)_l(i[a],o)}catch(c){Nd(n,n.return,c)}}r&&64&s&&bi(l),vi(l,l.return);break;case 27:Li(l);case 26:case 5:Ji(a,l,r),r&&null===n&&4&s&&wi(l),vi(l,l.return);break;case 12:Ji(a,l,r);break;case 31:Ji(a,l,r),r&&4&s&&Ii(a,l);break;case 13:Ji(a,l,r),r&&4&s&&Vi(a,l);break;case 22:null===l.memoizedState&&Ji(a,l,r),vi(l,l.return);break;case 30:break;default:Ji(a,l,r)}t=t.sibling}}function Ki(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Ia(r))}function Xi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ia(e))}function Zi(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,n),t=t.sibling}function ec(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zi(e,t,r,n),2048&a&&xi(9,t);break;case 1:case 31:case 13:default:Zi(e,t,r,n);break;case 3:Zi(e,t,r,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ia(e)));break;case 12:if(2048&a){Zi(e,t,r,n),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,o=l.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){Nd(t,t.return,i)}}else Zi(e,t,r,n);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,null!==t.memoizedState?2&l._visibility?Zi(e,t,r,n):rc(e,t):2&l._visibility?Zi(e,t,r,n):(l._visibility|=2,tc(e,t,r,n,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Ki(s,t);break;case 24:Zi(e,t,r,n),2048&a&&Xi(t.alternate,t)}}function tc(e,t,r,n,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var l=e,s=t,o=r,i=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(l,s,o,i,a),xi(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?tc(l,s,o,i,a):rc(l,s):(d._visibility|=2,tc(l,s,o,i,a)),a&&2048&c&&Ki(s.alternate,s);break;case 24:tc(l,s,o,i,a),a&&2048&c&&Xi(s.alternate,s);break;default:tc(l,s,o,i,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:rc(r,n),2048&a&&Ki(n.alternate,n);break;case 24:rc(r,n),2048&a&&Xi(n.alternate,n);break;default:rc(r,n)}t=t.sibling}}var nc=8192;function ac(e,t,r){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)lc(e,t,r),e=e.sibling}function lc(e,t,r){switch(e.tag){case 26:ac(e,t,r),e.flags&nc&&null!==e.memoizedState&&function(e,t,r,n){if("stylesheet"===r.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var a=$u(n.href),l=t.querySelector(Gu(a));if(l)return null!==(t=l._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sm.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=l,void et(l);l=t.ownerDocument||t,n=Qu(n),(a=Ru.get(a))&&Zu(n,a),et(l=l.createElement("link"));var s=l;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),mu(l,"link",n),r.instance=l}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=sm.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Ui,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,r);break;case 3:case 4:var n=Ui;Ui=Vu(e.stateNode.containerInfo),ac(e,t,r),Ui=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,ac(e,t,r),nc=n):ac(e,t,r))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];zi=n,dc(n,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ic(e),e=e.sibling}function ic(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&gi(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];zi=n,dc(n,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:gi(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==zi;){var r=zi;switch(r.tag){case 0:case 11:case 15:gi(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ia(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,zi=n;else e:for(r=e;null!==zi;){var a=(n=zi).sibling,l=n.return;if(Di(n),n===r){zi=null;break e}if(null!==a){a.return=l,zi=a;break e}zi=l}}}var uc={getCacheForType:function(e){var t=Ba(Oa),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ba(Oa).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,pc=0,hc=null,fc=null,xc=0,gc=0,bc=null,yc=!1,vc=!1,jc=!1,wc=0,Nc=0,kc=0,_c=0,Sc=0,Cc=0,Lc=0,Ec=null,Mc=null,Ac=!1,Bc=0,zc=0,Pc=1/0,Dc=null,Tc=null,Fc=0,Oc=null,Rc=null,Ic=0,Vc=0,Wc=null,Hc=null,Uc=0,qc=null;function $c(){return 0!==(2&pc)&&0!==xc?xc&-xc:null!==P.T?Wd():Oe()}function Gc(){if(0===Cc)if(0===(536870912&xc)||ua){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Cc=e}else Cc=536870912;return null!==(e=Bl.current)&&(e.flags|=32),Cc}function Qc(e,t,r){(e!==hc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(td(e,0),Xc(e,xc,Cc,!1)),Be(e,r),0!==(2&pc)&&e===hc||(e===hc&&(0===(2&pc)&&(_c|=r),4===Nc&&Xc(e,xc,Cc,!1)),Dd(e))}function Yc(e,t,r){if(0!==(6&pc))throw Error(s(327));for(var n=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Le(e,t),a=n?function(e,t){var r=pc;pc|=2;var n=ad(),a=ld();hc!==e||xc!==t?(Dc=null,Pc=ie()+500,td(e,t)):vc=Le(e,t);e:for(;;)try{if(0!==gc&&null!==fc){t=fc;var l=bc;t:switch(gc){case 1:gc=0,bc=null,md(e,t,l,1);break;case 2:case 9:if(tl(l)){gc=0,bc=null,ud(t);break}t=function(){2!==gc&&9!==gc||hc!==e||(gc=7),Dd(e)},l.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:tl(l)?(gc=0,bc=null,ud(t)):(gc=0,bc=null,md(e,t,l,7));break;case 5:var o=null;switch(fc.tag){case 26:o=fc.memoizedState;case 5:case 27:var i=fc;if(o?am(o):i.stateNode.complete){gc=0,bc=null;var c=i.sibling;if(null!==c)fc=c;else{var d=i.return;null!==d?(fc=d,pd(d)):fc=null}break t}}gc=0,bc=null,md(e,t,l,5);break;case 6:gc=0,bc=null,md(e,t,l,6);break;case 8:ed(),Nc=6;break e;default:throw Error(s(462))}}cd();break}catch(u){rd(e,u)}return ka=Na=null,P.H=n,P.A=a,pc=r,null!==fc?0:(hc=null,xc=0,Mn(),Nc)}(e,t):od(e,t,!0),l=n;;){if(0===a){vc&&!n&&Xc(e,t,0,!1);break}if(r=e.current.alternate,!l||Kc(r)){if(2===a){if(l=t,e.errorRecoveryDisabledLanes&l)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var i=e;a=Ec;var c=i.current.memoizedState.isDehydrated;if(c&&(td(i,o).flags|=256),2!==(o=od(i,o,!1))){if(jc&&!c){i.errorRecoveryDisabledLanes|=l,_c|=l,a=4;break e}l=Mc,Mc=a,null!==l&&(null===Mc?Mc=l:Mc.push.apply(Mc,l))}a=o}if(l=!1,2!==a)continue}}if(1===a){td(e,0),Xc(e,t,0,!0);break}e:{switch(n=e,l=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(n,t,Cc,!yc);break e;case 2:Mc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=Bc+300-ie())){if(Xc(n,t,Cc,!yc),0!==Ce(n,0,!0))break e;Ic=t,n.timeoutHandle=ju(Jc.bind(null,n,r,Mc,Dc,Ac,t,Cc,_c,Lc,yc,l,"Throttled",-0,0),a)}else Jc(n,r,Mc,Dc,Ac,t,Cc,_c,Lc,yc,l,null,-0,0)}break}a=od(e,t,!1),l=!1}Dd(e)}function Jc(e,t,r,n,a,l,s,o,i,c,d,u,m,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){lc(t,l,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bt});var h=(62914560&l)===l?Bc-ie():(4194048&l)===l?zc-ie():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&im(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&im(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lm&&(lm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],l=a.transferSize,s=a.initiatorType,o=a.duration;if(l&&o&&pu(s)){for(s=0,o=a.responseEnd,n+=1;n<r.length;n++){var i=r[n],c=i.startTime;if(c>o)break;var d=i.transferSize,u=i.initiatorType;d&&pu(u)&&(s+=d*((i=i.responseEnd)<o?1:(o-c)/(i-c)))}if(--n,t+=8*(l+s)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&im(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}(u,h)))return Ic=l,e.cancelPendingCommit=h(fd.bind(null,e,t,l,r,n,a,s,o,i,d,u,null,m,p)),void Xc(e,l,s,!c)}fd(e,t,l,r,n,a,s,o,i)}function Kc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Kr(l(),a))return!1}catch(s){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,r,n){t&=~Sc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var l=31-ve(a),s=1<<l;n[l]=-1,a&=~s}0!==r&&ze(e,r,t)}function Zc(){return 0!==(6&pc)||(Td(0,!1),!1)}function ed(){if(null!==fc){if(0===gc)var e=fc.return;else ka=Na=null,ss(e=fc),ol=null,il=0,e=fc;for(;null!==e;)fi(e.alternate,e),e=e.return;fc=null}}function td(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,wu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Ic=0,ed(),hc=e,fc=r=In(e.current,null),xc=t,gc=0,bc=null,yc=!1,vc=Le(e,t),jc=!1,Lc=Cc=Sc=_c=kc=Nc=0,Mc=Ec=null,Ac=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-ve(n),l=1<<a;t|=e[a],n&=~l}return wc=t,Mn(),r}function rd(e,t){Wl=null,P.H=fo,t===Ka||t===Za?(t=ll(),gc=3):t===Xa?(t=ll(),gc=4):gc=t===Bo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===fc&&(Nc=1,Co(e,Qn(t,e.current)))}function nd(){var e=Bl.current;return null===e||((4194048&xc)===xc?null===zl:((62914560&xc)===xc||0!==(536870912&xc))&&e===zl)}function ad(){var e=P.H;return P.H=fo,null===e?fo:e}function ld(){var e=P.A;return P.A=uc,e}function sd(){Nc=4,yc||(4194048&xc)!==xc&&null!==Bl.current||(vc=!0),0===(134217727&kc)&&0===(134217727&_c)||null===hc||Xc(hc,xc,Cc,!1)}function od(e,t,r){var n=pc;pc|=2;var a=ad(),l=ld();hc===e&&xc===t||(Dc=null,td(e,t)),t=!1;var s=Nc;e:for(;;)try{if(0!==gc&&null!==fc){var o=fc,i=bc;switch(gc){case 8:ed(),s=6;break e;case 3:case 2:case 9:case 6:null===Bl.current&&(t=!0);var c=gc;if(gc=0,bc=null,md(e,o,i,c),r&&vc){s=0;break e}break;default:c=gc,gc=0,bc=null,md(e,o,i,c)}}id(),s=Nc;break}catch(d){rd(e,d)}return t&&e.shellSuspendCounter++,ka=Na=null,pc=n,P.H=a,P.A=l,null===fc&&(hc=null,xc=0,Mn()),s}function id(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!se();)dd(fc)}function dd(e){var t=si(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?pd(e):fc=t}function ud(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=qo(r,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=qo(r,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:ss(t);default:fi(r,t),t=si(r,t=fc=Vn(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?pd(e):fc=t}function md(e,t,r,n){ka=Na=null,ss(t),ol=null,il=0;var a=t.return;try{if(function(e,t,r,n,a){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Ea(t,r,a,!0),null!==(r=Bl.current)){switch(r.tag){case 31:case 13:return null===zl?sd():null===r.alternate&&0===Nc&&(Nc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===el?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),kd(e,n,a)),!1;case 22:return r.flags|=65536,n===el?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),kd(e,n,a)),!1}throw Error(s(435,r.tag))}return kd(e,n,a),sd(),!1}if(ua)return null!==(t=Bl.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==ha&&ja(Qn(e=Error(s(422),{cause:n}),r))):(n!==ha&&ja(Qn(t=Error(s(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=Qn(n,r),jl(e,a=Eo(e.stateNode,n,a)),4!==Nc&&(Nc=2)),!1;var l=Error(s(520),{cause:n});if(l=Qn(l,r),null===Ec?Ec=[l]:Ec.push(l),4!==Nc&&(Nc=2),null===t)return!0;n=Qn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,jl(r,e=Eo(r.stateNode,n,e)),!1;case 1:if(t=r.type,l=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Tc||!Tc.has(l))))return r.flags|=65536,a&=-a,r.lanes|=a,Ao(a=Mo(a),e,r,n),jl(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,xc))return Nc=1,Co(e,Qn(r,e.current)),void(fc=null)}catch(l){if(null!==a)throw fc=a,l;return Nc=1,Co(e,Qn(r,e.current)),void(fc=null)}32768&t.flags?(ua||1===n?e=!0:vc||0!==(536870912&xc)?e=!1:(yc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Bl.current)&&13===n.tag&&(n.flags|=16384))),hd(t,e)):pd(t)}function pd(e){var t=e;do{if(0!==(32768&t.flags))return void hd(t,yc);e=t.return;var r=pi(t.alternate,t,wc);if(null!==r)return void(fc=r);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Nc&&(Nc=5)}function hd(e,t){do{var r=hi(e.alternate,e);if(null!==r)return r.flags&=32767,void(fc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=r}while(null!==e);Nc=6,fc=null}function fd(e,t,r,n,a,l,o,i,c){e.cancelPendingCommit=null;do{vd()}while(0!==Fc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(l=t.lanes|t.childLanes,function(e,t,r,n,a,l){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(r=s&~r;0<r;){var d=31-ve(r),u=1<<d;o[d]=0,i[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var p=m[d];null!==p&&(p.lane&=-536870913)}r&=~u}0!==n&&ze(e,n,0),0!==l&&0===a&&0!==e.tag&&(e.suspendedLanes|=l&~(s&~t))}(e,r,l|=En,o,i,c),e===hc&&(fc=hc=null,xc=0),Rc=t,Oc=e,Ic=r,Vc=l,Wc=a,Hc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(me,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null,a=D.p,D.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,hu=ym,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(x){r=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==r||0!==a&&3!==m.nodeType||(i=o+a),m!==l||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++d===a&&(i=o),p===l&&++u===n&&(c=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}r=-1===i||-1===c?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fu={focusedElem:e,selectionRange:r},ym=!1,zi=t;null!==zi;)if(e=(t=zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,zi=e;else for(;null!==zi;){switch(l=(t=zi).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(a=e[r]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,r=t,a=l.memoizedProps,l=l.memoizedState,n=r.stateNode;try{var f=No(r.type,a);e=n.getSnapshotBeforeUpdate(f,l),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){Nd(r,r.return,g)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Eu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,zi=e;break}zi=t.return}}(e,t)}finally{pc=o,D.p=a,P.T=n}}Fc=1,xd(),gd(),bd()}}function xd(){if(1===Fc){Fc=0;var e=Oc,t=Rc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null;var n=D.p;D.p=2;var a=pc;pc|=4;try{qi(t,e);var l=fu,s=rn(e.containerInfo),o=l.focusedElem,i=l.selectionRange;if(s!==o&&o&&o.ownerDocument&&tn(o.ownerDocument.documentElement,o)){if(null!==i&&nn(o)){var c=i.start,d=i.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var p=m.getSelection(),h=o.textContent.length,f=Math.min(i.start,h),x=void 0===i.end?f:Math.min(i.end,h);!p.extend&&f>x&&(s=x,x=f,f=s);var g=en(o,f),b=en(o,x);if(g&&b&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=u.createRange();y.setStart(g.node,g.offset),p.removeAllRanges(),f>x?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ym=!!hu,fu=hu=null}finally{pc=a,D.p=n,P.T=r}}e.current=t,Fc=2}}function gd(){if(2===Fc){Fc=0;var e=Oc,t=Rc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=P.T,P.T=null;var n=D.p;D.p=2;var a=pc;pc|=4;try{Pi(e,t.alternate,t)}finally{pc=a,D.p=n,P.T=r}}Fc=3}}function bd(){if(4===Fc||3===Fc){Fc=0,oe();var e=Oc,t=Rc,r=Ic,n=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Rc=Oc=null,yd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Tc=null),Fe(r),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==n){t=P.T,a=D.p,D.p=2,P.T=null;try{for(var l=e.onRecoverableError,s=0;s<n.length;s++){var o=n[s];l(o.value,{componentStack:o.stack})}}finally{P.T=t,D.p=a}}0!==(3&Ic)&&vd(),Dd(e),a=e.pendingLanes,0!==(261930&r)&&0!==(42&a)?e===qc?Uc++:(Uc=0,qc=e):Uc=0,Td(0,!1)}}function yd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ia(t)))}function vd(){return xd(),gd(),bd(),jd()}function jd(){if(5!==Fc)return!1;var e=Oc,t=Vc;Vc=0;var r=Fe(Ic),n=P.T,a=D.p;try{D.p=32>r?32:r,P.T=null,r=Wc,Wc=null;var l=Oc,o=Ic;if(Fc=0,Rc=Oc=null,Ic=0,0!==(6&pc))throw Error(s(331));var i=pc;if(pc|=4,ic(l.current),ec(l,l.current,o,r),pc=i,Td(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,l)}catch(c){}return!0}finally{D.p=a,P.T=n,yd(e,t)}}function wd(e,t,r){t=Qn(r,t),null!==(e=yl(e,t=Eo(e.stateNode,t,2),2))&&(Be(e,2),Dd(e))}function Nd(e,t,r){if(3===e.tag)wd(e,e,r);else for(;null!==t;){if(3===t.tag){wd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Tc||!Tc.has(n))){e=Qn(r,e),null!==(n=yl(t,r=Mo(2),2))&&(Ao(r,n,t,e),Be(n,2),Dd(n));break}}t=t.return}}function kd(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new mc;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(jc=!0,a.add(r),e=_d.bind(null,e,t,r),t.then(e,e))}function _d(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,hc===e&&(xc&r)===r&&(4===Nc||3===Nc&&(62914560&xc)===xc&&300>ie()-Bc?0===(2&pc)&&td(e,0):Sc|=r,Lc===xc&&(Lc=0)),Dd(e)}function Sd(e,t){0===t&&(t=Me()),null!==(e=zn(e,t))&&(Be(e,t),Dd(e))}function Cd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sd(e,r)}function Ld(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==n&&n.delete(t),Sd(e,r)}var Ed=null,Md=null,Ad=!1,Bd=!1,zd=!1,Pd=0;function Dd(e){e!==Md&&null===e.next&&(null===Md?Ed=Md=e:Md=Md.next=e),Bd=!0,Ad||(Ad=!0,ku(function(){0!==(6&pc)?ae(de,Fd):Od()}))}function Td(e,t){if(!zd&&Bd){zd=!0;do{for(var r=!1,n=Ed;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var l=0;else{var s=n.suspendedLanes,o=n.pingedLanes;l=(1<<31-ve(42|e)+1)-1,l=201326741&(l&=a&~(s&~o))?201326741&l|1:l?2|l:0}0!==l&&(r=!0,Vd(n,l))}else l=xc,0===(3&(l=Ce(n,n===hc?l:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Le(n,l)||(r=!0,Vd(n,l));n=n.next}}while(r);zd=!1}}function Fd(){Od()}function Od(){Bd=Ad=!1;var e=0;0!==Pd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vu&&(vu=e,!0);return vu=null,!1}()&&(e=Pd);for(var t=ie(),r=null,n=Ed;null!==n;){var a=n.next,l=Rd(n,t);0===l?(n.next=null,null===r?Ed=a:r.next=a,null===a&&(Md=r)):(r=n,(0!==e||0!==(3&l))&&(Bd=!0)),n=a}0!==Fc&&5!==Fc||Td(e,!1),0!==Pd&&(Pd=0)}function Rd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var s=31-ve(l),o=1<<s,i=a[s];-1===i?0!==(o&r)&&0===(o&n)||(a[s]=Ee(o,t)):i<=t&&(e.expiredLanes|=o),l&=~o}if(r=xc,r=Ce(e,e===(t=hc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&le(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Le(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&le(n),Fe(r)){case 2:case 8:r=ue;break;case 32:default:r=me;break;case 268435456:r=he}return n=Id.bind(null,e),r=ae(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&le(n),e.callbackPriority=2,e.callbackNode=null,2}function Id(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(vd()&&e.callbackNode!==r)return null;var n=xc;return 0===(n=Ce(e,e===hc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,n,t),Rd(e,ie()),null!=e.callbackNode&&e.callbackNode===r?Id.bind(null,e):null)}function Vd(e,t){if(vd())return null;Yc(e,t,!0)}function Wd(){if(0===Pd){var e=Ha;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Pd=e}return Pd}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Ud(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var qd=0;qd<kn.length;qd++){var $d=kn[qd];_n($d.toLowerCase(),"on"+($d[0].toUpperCase()+$d.slice(1)))}_n(xn,"onAnimationEnd"),_n(gn,"onAnimationIteration"),_n(bn,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(yn,"onTransitionRun"),_n(vn,"onTransitionStart"),_n(jn,"onTransitionCancel"),_n(wn,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function Yd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],i=o.instance,c=o.currentTarget;if(o=o.listener,i!==l&&a.isPropagationStopped())break e;l=o,a.currentTarget=c;try{l(a)}catch(d){Sn(d)}a.currentTarget=null,l=i}else for(s=0;s<n.length;s++){if(i=(o=n[s]).instance,c=o.currentTarget,o=o.listener,i!==l&&a.isPropagationStopped())break e;l=o,a.currentTarget=c;try{l(a)}catch(d){Sn(d)}a.currentTarget=null,l=i}}}}function Jd(e,t){var r=t[Ue];void 0===r&&(r=t[Ue]=new Set);var n=e+"__bubble";r.has(n)||(eu(t,e,2,!1),r.add(n))}function Kd(e,t,r){var n=0;t&&(n|=4),eu(r,e,n,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Xd]){e[Xd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qd.has(t)||Kd(t,!1,e),Kd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xd]||(t[Xd]=!0,Kd("selectionchange",!1,t))}}function eu(e,t,r,n){switch(Sm(t)){case 2:var a=vm;break;case 8:a=jm;break;default:a=wm}r=a.bind(null,t,r,e),a=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function tu(e,t,r,n,a){var l=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Je(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){n=l=s;continue e}o=o.parentNode}}n=n.return}Rt(function(){var n=l,a=Pt(r),s=[];e:{var o=Nn.get(e);if(void 0!==o){var c=rr,d=e;switch(e){case"keypress":if(0===Qt(r))break e;case"keydown":case"keyup":c=gr;break;case"focusin":d="focus",c=ir;break;case"focusout":d="blur",c=ir;break;case"beforeblur":case"afterblur":c=ir;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yr;break;case xn:case gn:case bn:c=cr;break;case wn:c=vr;break;case"scroll":case"scrollend":c=ar;break;case"wheel":c=jr;break;case"copy":case"cut":case"paste":c=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=br;break;case"toggle":case"beforetoggle":c=wr}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var h,f=n;null!==f;){var x=f;if(h=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===h||null===p||null!=(x=It(f,p))&&u.push(ru(f,x,h)),m)break;f=f.return}0<u.length&&(o=new c(o,d,null,r,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===zt||!(d=r.relatedTarget||r.fromElement)||!Je(d)&&!d[He])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(d=(d=r.relatedTarget||r.toElement)?Je(d):null)&&(m=i(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=sr,x="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=br,x="onPointerLeave",p="onPointerEnter",f="pointer"),m=null==c?o:Xe(c),h=null==d?o:Xe(d),(o=new u(x,f+"leave",c,r,a)).target=m,o.relatedTarget=h,x=null,Je(a)===n&&((u=new u(p,f+"enter",d,r,a)).target=h,u.relatedTarget=m,x=u),m=x,c&&d)e:{for(u=au,f=d,h=0,x=p=c;x;x=u(x))h++;x=0;for(var g=f;g;g=u(g))x++;for(;0<h-x;)p=u(p),h--;for(;0<x-h;)f=u(f),x--;for(;h--;){if(p===f||null!==f&&p===f.alternate){u=p;break e}p=u(p),f=u(f)}u=null}else u=null;null!==c&&lu(s,o,c,u,!1),null!==d&&null!==m&&lu(s,m,d,u,!0)}if("select"===(c=(o=n?Xe(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=Ir;else if(Pr(o))if(Vr)b=Jr;else{b=Qr;var y=Gr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Lt(n.elementType)&&(b=Ir):b=Yr;switch(b&&(b=b(e,n))?Dr(s,b,r,a):(y&&y(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&vt(o,"number",o.value)),y=n?Xe(n):window,e){case"focusin":(Pr(y)||"true"===y.contentEditable)&&(ln=y,sn=n,on=null);break;case"focusout":on=sn=ln=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,dn(s,r,a);break;case"selectionchange":if(an)break;case"keydown":case"keyup":dn(s,r,a)}var v;if(kr)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Br?Mr(e,r)&&(j="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(j="onCompositionStart");j&&(Cr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==j?"onCompositionEnd"===j&&Br&&(v=Gt()):(qt="value"in(Ut=a)?Ut.value:Ut.textContent,Br=!0)),0<(y=nu(n,j)).length&&(j=new ur(j,e,null,r,a),s.push({event:j,listeners:y}),v?j.data=v:null!==(v=Ar(r))&&(j.data=v))),(v=Sr?function(e,t){switch(e){case"compositionend":return Ar(t);case"keypress":return 32!==t.which?null:(Er=!0,Lr);case"textInput":return(e=t.data)===Lr&&Er?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!kr&&Mr(e,t)?(e=Gt(),$t=qt=Ut=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(j=nu(n,"onBeforeInput")).length&&(y=new ur("onBeforeInput","beforeinput",null,r,a),s.push({event:y,listeners:j}),y.data=v)),function(e,t,r,n,a){if("submit"===t&&r&&r.stateNode===a){var l=Hd((a[We]||null).action),s=n.submitter;s&&null!==(t=(t=s[We]||null)?Hd(t.formAction):s.getAttribute("formAction"))&&(l=t,s=null);var o=new rr("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Pd){var e=s?Ud(a,s):new FormData(a);eo(r,{pending:!0,data:e,method:a.method,action:l},null,e)}}else"function"===typeof l&&(o.preventDefault(),e=s?Ud(a,s):new FormData(a),eo(r,{pending:!0,data:e,method:a.method,action:l},l,e))},currentTarget:a}]})}}(s,e,n,r,a)}Yd(s,t)})}function ru(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nu(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,l=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===l||(null!=(a=It(e,r))&&n.unshift(ru(e,a,l)),null!=(a=It(e,t))&&n.push(ru(e,a,l))),3===e.tag)return n;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lu(e,t,r,n,a){for(var l=t._reactName,s=[];null!==r&&r!==n;){var o=r,i=o.alternate,c=o.stateNode;if(o=o.tag,null!==i&&i===n)break;5!==o&&26!==o&&27!==o||null===c||(i=c,a?null!=(c=It(r,l))&&s.unshift(ru(r,c,i)):a||null!=(c=It(r,l))&&s.push(ru(r,c,i))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var su=/\r\n?/g,ou=/\u0000|\uFFFD/g;function iu(e){return("string"===typeof e?e:""+e).replace(su,"\n").replace(ou,"")}function cu(e,t){return t=iu(t),iu(e)===t}function du(e,t,r,n,a,l){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,n);break;case"style":Ct(e,n,l);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===r?("input"!==t&&du(e,t,"name",a.name,a,null),du(e,t,"formEncType",a.formEncType,a,null),du(e,t,"formMethod",a.formMethod,a,null),du(e,t,"formTarget",a.formTarget,a,null)):(du(e,t,"encType",a.encType,a,null),du(e,t,"method",a.method,a,null),du(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Bt);break;case"onScroll":null!=n&&Jd("scroll",e);break;case"onScrollEnd":null!=n&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=At(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),it(e,"popover",n);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":it(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&it(e,r=Et.get(r)||r,n)}}function uu(e,t,r,n,a,l){switch(r){case"style":Ct(e,n,l);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=r}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Jd("scroll",e);break;case"onScrollEnd":null!=n&&Jd("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Bt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"===typeof(l=null!=(l=e[We]||null)?l[r]:null)&&e.removeEventListener(t,l,a),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):it(e,r,n):("function"!==typeof l&&null!==l&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a)))}}function mu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var n,a=!1,l=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:du(e,t,n,o,r,null)}}return l&&du(e,t,"srcSet",r.srcSet,r,null),void(a&&du(e,t,"src",r.src,r,null));case"input":Jd("invalid",e);var i=n=o=l=null,c=null,d=null;for(a in r)if(r.hasOwnProperty(a)){var u=r[a];if(null!=u)switch(a){case"name":l=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":i=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:du(e,t,a,u,r,null)}}return void yt(e,n,i,c,d,o,l,!1);case"select":for(l in Jd("invalid",e),a=o=n=null,r)if(r.hasOwnProperty(l)&&null!=(i=r[l]))switch(l){case"value":n=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:du(e,t,l,i,r,null)}return t=n,r=o,e.multiple=!!a,void(null!=t?jt(e,!!a,t,!1):null!=r&&jt(e,!!a,r,!0));case"textarea":for(o in Jd("invalid",e),n=l=a=null,r)if(r.hasOwnProperty(o)&&null!=(i=r[o]))switch(o){case"value":a=i;break;case"defaultValue":l=i;break;case"children":n=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:du(e,t,o,i,r,null)}return void Nt(e,a,l,n);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else du(e,t,c,a,r,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(a=0;a<Gd.length;a++)Jd(Gd[a],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(a=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:du(e,t,d,a,r,null)}return;default:if(Lt(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(a=r[u])&&uu(e,t,u,a,r,void 0));return}}for(i in r)r.hasOwnProperty(i)&&(null!=(a=r[i])&&du(e,t,i,a,r,null))}function pu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hu=null,fu=null;function xu(e){return 9===e.nodeType?e:e.ownerDocument}function gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,wu="function"===typeof clearTimeout?clearTimeout:void 0,Nu="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nu?function(e){return Nu.resolve(null).then(e).catch(_u)}:ju;function _u(e){setTimeout(function(){throw e})}function Su(e){return"head"===e}function Cu(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)||"/&"===r){if(0===n)return e.removeChild(a),void Um(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)Ou(e.ownerDocument.documentElement);else if("head"===r){Ou(r=e.ownerDocument.head);for(var l=r.firstChild;l;){var s=l.nextSibling,o=l.nodeName;l[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===l.rel.toLowerCase()||r.removeChild(l),l=s}}else"body"===r&&Ou(e.ownerDocument.body);r=a}while(r);Um(t)}function Lu(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Eu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Eu(r),Ye(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Mu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=zu(e.nextSibling)))return null}return e}function Au(e){return"$?"===e.data||"$~"===e.data}function Bu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function zu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Pu=null;function Du(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return zu(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Tu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Fu(e,t,r){switch(t=xu(r),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Ou(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Ru=new Map,Iu=new Set;function Vu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Wu=D.d;D.d={f:function(){var e=Wu.f(),t=Zc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Wu.r(e)},D:function(e){Wu.D(e),Uu("dns-prefetch",e,null)},C:function(e,t){Wu.C(e,t),Uu("preconnect",e,t)},L:function(e,t,r){Wu.L(e,t,r);var n=Hu;if(n&&e&&t){var a='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(a+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(a+='[imagesizes="'+gt(r.imageSizes)+'"]')):a+='[href="'+gt(e)+'"]';var l=a;switch(t){case"style":l=$u(e);break;case"script":l=Yu(e)}Ru.has(l)||(e=p({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Ru.set(l,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(Gu(l))||"script"===t&&n.querySelector(Ju(l))||(mu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){Wu.m(e,t);var r=Hu;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',l=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Yu(e)}if(!Ru.has(l)&&(e=p({rel:"modulepreload",href:e},t),Ru.set(l,e),null===r.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ju(l)))return}mu(n=r.createElement("link"),"link",e),et(n),r.head.appendChild(n)}}},X:function(e,t){Wu.X(e,t);var r=Hu;if(r&&e){var n=Ze(r).hoistableScripts,a=Yu(e),l=n.get(a);l||((l=r.querySelector(Ju(a)))||(e=p({src:e,async:!0},t),(t=Ru.get(a))&&em(e,t),et(l=r.createElement("script")),mu(l,"link",e),r.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(a,l))}},S:function(e,t,r){Wu.S(e,t,r);var n=Hu;if(n&&e){var a=Ze(n).hoistableStyles,l=$u(e);t=t||"default";var s=a.get(l);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Gu(l)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Ru.get(l))&&Zu(e,r);var i=s=n.createElement("link");et(i),mu(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){o.loading|=1}),i.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Xu(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(l,s)}}},M:function(e,t){Wu.M(e,t);var r=Hu;if(r&&e){var n=Ze(r).hoistableScripts,a=Yu(e),l=n.get(a);l||((l=r.querySelector(Ju(a)))||(e=p({src:e,async:!0,type:"module"},t),(t=Ru.get(a))&&em(e,t),et(l=r.createElement("script")),mu(l,"link",e),r.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(a,l))}}};var Hu="undefined"===typeof document?null:document;function Uu(e,t,r){var n=Hu;if(n&&"string"===typeof t&&t){var a=gt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof r&&(a+='[crossorigin="'+r+'"]'),Iu.has(a)||(Iu.add(a),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(a)&&(mu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function qu(e,t,r,n){var a,l,o,i,c=(c=$.current)?Vu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=$u(r.href),(n=(r=Ze(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=$u(r.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Gu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Ru.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ru.set(e,r),d||(a=c,l=e,o=r,i=u.state,a.querySelector('link[rel="preload"][as="style"]['+l+"]")?i.loading=1:(l=a.createElement("link"),i.preload=l,l.addEventListener("load",function(){return i.loading|=1}),l.addEventListener("error",function(){return i.loading|=2}),mu(l,"link",o),et(l),a.head.appendChild(l))))),t&&null===n)throw Error(s(528,""));return u}if(t&&null!==n)throw Error(s(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yu(r),(n=(r=Ze(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $u(e){return'href="'+gt(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function Qu(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yu(e){return'[src="'+gt(e)+'"]'}function Ju(e){return"script[async]"+e}function Ku(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(n)return t.instance=n,et(n),n;var a=p({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),mu(n,"style",a),Xu(n,r.precedence,e),t.instance=n;case"stylesheet":a=$u(r.href);var l=e.querySelector(Gu(a));if(l)return t.state.loading|=4,t.instance=l,et(l),l;n=Qu(r),(a=Ru.get(a))&&Zu(n,a),et(l=(e.ownerDocument||e).createElement("link"));var o=l;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),mu(l,"link",n),t.state.loading|=4,Xu(l,r.precedence,e),t.instance=l;case"script":return l=Yu(r.src),(a=e.querySelector(Ju(l)))?(t.instance=a,et(a),a):(n=r,(a=Ru.get(l))&&em(n=p({},r),a),et(a=(e=e.ownerDocument||e).createElement("script")),mu(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Xu(n,r.precedence,e));return t.instance}function Xu(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,l=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)l=o;else if(l!==a)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function rm(e,t,r){if(null===tm){var n=new Map,a=tm=new Map;a.set(r,n)}else(n=(a=tm).get(r))||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var l=r[a];if(!(l[Qe]||l[Ve]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var s=l.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(l):n.set(s,[l])}}return n}function nm(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function am(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var lm=0;function sm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var om=null;function im(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,om=new Map,t.forEach(cm,e),om=null,sm.call(e))}function cm(e,t){if(!(4&t.state.loading)){var r=om.get(e);if(r)var n=r.get(null);else{r=new Map,om.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<a.length;l++){var s=a[l];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}s=(a=t.instance).getAttribute("data-precedence"),(l=r.get(s)||n)===n&&r.set(null,a),r.set(s,a),this.count++,n=sm.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),l?l.parentNode.insertBefore(a,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dm={$$typeof:j,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function um(e,t,r,n,a,l,s,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function mm(e,t,r,n,a,l,s,o,i,c,d,u){return e=new um(e,t,r,s,i,c,d,u,o),t=1,!0===l&&(t|=24),l=On(3,null,null,t),e.current=l,l.stateNode=e,(t=Ra()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:n,isDehydrated:r,cache:t},xl(l),e}function pm(e){return e?e=Tn:Tn}function hm(e,t,r,n,a,l){a=pm(a),null===n.context?n.context=a:n.pendingContext=a,(n=bl(t)).payload={element:r},null!==(l=void 0===l?null:l)&&(n.callback=l),null!==(r=yl(e,n,t))&&(Qc(r,0,t),vl(r,e,t))}function fm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function xm(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function gm(e){if(13===e.tag||31===e.tag){var t=zn(e,67108864);null!==t&&Qc(t,0,67108864),xm(e,67108864)}}function bm(e){if(13===e.tag||31===e.tag){var t=$c(),r=zn(e,t=Te(t));null!==r&&Qc(r,0,t),xm(e,t)}}var ym=!0;function vm(e,t,r,n){var a=P.T;P.T=null;var l=D.p;try{D.p=2,wm(e,t,r,n)}finally{D.p=l,P.T=a}}function jm(e,t,r,n){var a=P.T;P.T=null;var l=D.p;try{D.p=8,wm(e,t,r,n)}finally{D.p=l,P.T=a}}function wm(e,t,r,n){if(ym){var a=Nm(n);if(null===a)tu(e,t,n,km,r),Dm(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Lm=Tm(Lm,e,t,r,n,a),!0;case"dragenter":return Em=Tm(Em,e,t,r,n,a),!0;case"mouseover":return Mm=Tm(Mm,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return Am.set(l,Tm(Am.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Bm.set(l,Tm(Bm.get(l)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Dm(e,n),4&t&&-1<Pm.indexOf(e)){for(;null!==a;){var l=Ke(a);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var s=Se(l.pendingLanes);if(0!==s){var o=l;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var i=1<<31-ve(s);o.entanglements[1]|=i,s&=~i}Dd(l),0===(6&pc)&&(Pc=ie()+500,Td(0,!1))}}break;case 31:case 13:null!==(o=zn(l,2))&&Qc(o,0,2),Zc(),xm(l,2)}if(null===(l=Nm(n))&&tu(e,t,n,km,r),l===a)break;a=l}null!==a&&n.stopPropagation()}else tu(e,t,n,null,r)}}function Nm(e){return _m(e=Pt(e))}var km=null;function _m(e){if(km=null,null!==(e=Je(e))){var t=i(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=d(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return km=e,null}function Sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case pe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Cm=!1,Lm=null,Em=null,Mm=null,Am=new Map,Bm=new Map,zm=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":Lm=null;break;case"dragenter":case"dragleave":Em=null;break;case"mouseover":case"mouseout":Mm=null;break;case"pointerover":case"pointerout":Am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bm.delete(t.pointerId)}}function Tm(e,t,r,n,a,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},null!==t&&(null!==(t=Ke(t))&&gm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Fm(e){var t=Je(e.target);if(null!==t){var r=i(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void Re(e.priority,function(){bm(r)})}else if(31===t){if(null!==(t=d(r)))return e.blockedOn=t,void Re(e.priority,function(){bm(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Om(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nm(e.nativeEvent);if(null!==r)return null!==(t=Ke(r))&&gm(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);zt=n,r.target.dispatchEvent(n),zt=null,t.shift()}return!0}function Rm(e,t,r){Om(e)&&r.delete(t)}function Im(){Cm=!1,null!==Lm&&Om(Lm)&&(Lm=null),null!==Em&&Om(Em)&&(Em=null),null!==Mm&&Om(Mm)&&(Mm=null),Am.forEach(Rm),Bm.forEach(Rm)}function Vm(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Im)))}var Wm=null;function Hm(e){Wm!==e&&(Wm=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wm===e&&(Wm=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===_m(n||r))continue;break}var l=Ke(r);null!==l&&(e.splice(t,3),t-=3,eo(l,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Um(e){function t(t){return Vm(t,e)}null!==Lm&&Vm(Lm,e),null!==Em&&Vm(Em,e),null!==Mm&&Vm(Mm,e),Am.forEach(t),Bm.forEach(t);for(var r=0;r<zm.length;r++){var n=zm[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<zm.length&&null===(r=zm[0]).blockedOn;)Fm(r),null===r.blockedOn&&zm.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var a=r[n],l=r[n+1],s=a[We]||null;if("function"===typeof l)s||Hm(r);else if(s){var o=null;if(l&&l.hasAttribute("formAction")){if(a=l,s=l[We]||null)o=s.formAction;else if(null!==_m(a))continue}else o=s.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Hm(r)}}}function qm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function $m(e){this._internalRoot=e}function Gm(e){this._internalRoot=e}Gm.prototype.render=$m.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));hm(t.current,$c(),e,t,null,null)},Gm.prototype.unmount=$m.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),Zc(),t[He]=null}},Gm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zm.length&&0!==t&&t<zm[r].priority;r++);zm.splice(r,0,e),0===r&&Fm(e)}};var Qm=a.version;if("19.2.0"!==Qm)throw Error(s(527,Qm,"19.2.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return u(a),e;if(l===n)return u(a),t;l=l.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=l;break}if(c===n){o=!0,n=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,n=a;break}if(c===n){o=!0,n=l,r=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Ym={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{ge=Jm.inject(Ym),be=Jm}catch(Xm){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,n="",a=ko,l=_o,i=So;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=mm(e,1,!1,null,0,r,n,null,a,l,i,qm),e[He]=t.current,Zd(e),new $m(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var n=!1,a="",l=ko,i=_o,c=So,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onUncaughtError&&(l=r.onUncaughtError),void 0!==r.onCaughtError&&(i=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(d=r.formState)),(t=mm(e,1,!0,t,0,n,a,d,l,i,c,qm)).context=pm(null),r=t.current,(a=bl(n=Te(n=$c()))).callback=null,yl(r,a,n),r=n,t.current.lanes=r,Be(t,r),Dd(t),e[He]=t.current,Zd(e),new Gm(t)},t.version="19.2.0"},43:(e,t,r)=>{e.exports=r(288)},288:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var j=v.prototype=new y;j.constructor=v,x(j,b.prototype),j.isPureReactComponent=!0;var w=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function S(e,t,n){var a=n.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==a?a:null,props:n}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var L=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,a,l,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case n:d=!0;break;case m:return M((d=e._init)(e._payload),t,a,l,s)}}if(d)return s=s(e),d=""===l?"."+E(e,0):l,w(s)?(a="",null!=d&&(a=d.replace(L,"$&/")+"/"),M(s,t,a,"",function(e){return e})):null!=s&&(C(s)&&(i=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(L,"$&/")+"/")+d,s=S(i.type,c,i.props)),t.push(s)),1;d=0;var u,p=""===l?".":l+":";if(w(e))for(var f=0;f<e.length;f++)d+=M(l=e[f],t,a,o=p+E(l,f),s);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(l=e.next()).done;)d+=M(l=l.value,t,a,o=p+E(l,f++),s);else if("object"===o){if("function"===typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function A(e,t,r){if(null==e)return e;var n=[],a=0;return M(e,n,"","",function(e){return t.call(r,e,a++)}),n}function B(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=P,t.Component=b,t.Fragment=a,t.Profiler=s,t.PureComponent=v,t.StrictMode=l,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=x({},e.props),a=e.key;if(null!=t)for(l in void 0!==t.key&&(a=""+t.key),t)!_.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(n[l]=t[l]);var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];n.children=s}return S(e.type,a,n)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,a={},l=null;if(null!=t)for(n in void 0!==t.key&&(l=""+t.key),t)_.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var o=Array(s),i=0;i<s;i++)o[i]=arguments[i+2];a.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return S(e,l,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:B}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,r={};k.T=r;try{var n=e(),a=k.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,z)}catch(l){z(l)}finally{null!==t&&null!==r.types&&(t.types=r.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},391:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},579:(e,t,r)=>{e.exports=r(799)},672:(e,t,r)=>{var n=r(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");var i=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=i.T,r=s.p;try{if(i.T=null,s.p=2,e)return e()}finally{i.T=t,s.p=r,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:l}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return i.H.useFormState(e,t,r)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var l in n={},t)"key"!==l&&(n[l]=t[l]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},853:(e,t,r)=>{e.exports=r(896)},896:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<l(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,i=e[o],c=o+1,d=e[c];if(0>l(i,r))c<a&&0>l(d,i)?(e[n]=d,e[c]=r,n=c):(e[n]=i,e[o]=r,n=o);else{if(!(c<a&&0>l(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function l(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,x=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(x=!1,j(e),!f)if(null!==n(c))f=!0,k||(k=!0,N());else{var t=n(d);null!==t&&B(w,t.startTime-e)}}var N,k=!1,_=-1,S=5,C=-1;function L(){return!!g||!(t.unstable_now()-C<S)}function E(){if(g=!1,k){var e=t.unstable_now();C=e;var r=!0;try{e:{f=!1,x&&(x=!1,y(_),_=-1),h=!0;var l=p;try{t:{for(j(e),m=n(c);null!==m&&!(m.expirationTime>e&&L());){var s=m.callback;if("function"===typeof s){m.callback=null,p=m.priorityLevel;var o=s(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){m.callback=o,j(e),r=!0;break t}m===n(c)&&a(c),j(e)}else a(c);m=n(c)}if(null!==m)r=!0;else{var i=n(d);null!==i&&B(w,i.startTime-e),r=!1}}break e}finally{m=null,p=l,h=!1}r=void 0}}finally{r?N():k=!1}}}if("function"===typeof v)N=function(){v(E)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=E,N=function(){A.postMessage(null)}}else N=function(){b(E,0)};function B(e,r){_=b(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,l){var s=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?s+l:s:l=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,r(d,e),null===n(c)&&e===n(d)&&(x?(y(_),_=-1):x=!0,B(w,l-s))):(e.sortIndex=o,r(c,e),f||h||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,r),l.exports}var n=r(43),a=r(391),l=r(579);const s=e=>{let{onLoginSuccess:t}=e;const[r,a]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=localStorage.getItem("saved_username"),t=localStorage.getItem("saved_password");"true"===localStorage.getItem("remember_me")&&e&&(a(e),o(t||""),p(!0))},[]);return(0,l.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,l.jsx)("div",{className:"w-full max-w-md",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("img",{src:"/Logo/echologo.png",alt:"EchoVault",className:"mx-auto mb-4 h-12 w-auto"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Loan Management System"})]}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),u("");try{const e="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",c=await fetch("".concat(e,"/jwt-auth/v1/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:s}),mode:"cors"}),p=await c.json();if(c.ok&&p.token){localStorage.setItem("jwt_token",p.token);try{let c=p.user_email||p.email||"";try{const e=String(p.token).split(".");if(3===e.length){var n,a,l;const t=JSON.parse(atob(e[1])),r=(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.user)||void 0===a?void 0:a.user_email)||(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.user_email)||(null===t||void 0===t?void 0:t.user_email)||(null===t||void 0===t?void 0:t.email);r&&(c=r)}}catch(i){}const d=await fetch("".concat(e,"/jwt-auth/v1/token/validate"),{method:"POST",headers:{Authorization:"Bearer ".concat(p.token),"Content-Type":"application/json"},mode:"cors"});if(d.ok){var o;const e=await d.json();console.log("Token validation response:",e);const t=(null===(o=e.data)||void 0===o?void 0:o.user_email)||e.user_email||"";t&&(c=t)}if(!c){const t=await fetch("".concat(e,"/wp/v2/users/me"),{method:"GET",headers:{Authorization:"Bearer ".concat(p.token),"Content-Type":"application/json"},mode:"cors"});if(t.ok){const e=await t.json();console.log("User profile response:",e);const r=e.email||e.user_email||"";r&&(c=r)}else console.log("User profile fetch failed:",t.status,t.statusText)}const u={username:r,user_email:c,email:c};console.log("Storing user data:",u),localStorage.setItem("user",JSON.stringify(u)),m?(localStorage.setItem("saved_username",r),localStorage.setItem("saved_password",s),localStorage.setItem("remember_me","true")):(localStorage.removeItem("saved_username"),localStorage.removeItem("saved_password"),localStorage.removeItem("remember_me")),t(p.token,u)}catch(d){console.error("Error fetching user profile:",d);const e={username:r,user_email:"",email:""};localStorage.setItem("user",JSON.stringify(e)),t(p.token,e)}}else u(p.message||"Login failed. Please check your credentials.")}catch(p){u("Network error. Please try again.")}finally{c(!1)}},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,l.jsx)("input",{type:"text",id:"username",value:r,onChange:e=>a(e.target.value),required:!0,disabled:i,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:h?"text":"password",id:"password",value:s,onChange:e=>o(e.target.value),required:!0,disabled:i,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"}),(0,l.jsx)("button",{type:"button",onClick:()=>f(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:i,children:h?(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,l.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:m,onChange:e=>p(e.target.checked),disabled:i,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded focus:ring-2 focus:ring-blue-200 transition-colors duration-200"}),(0,l.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 font-medium cursor-pointer select-none",children:"Remember me"})]})}),d&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,l.jsx)("p",{className:"text-red-700 text-sm",children:d})}),(0,l.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md font-medium hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-50",children:i?"Signing in...":"Sign In"})]}),(0,l.jsxs)("div",{className:"mt-6 flex items-center justify-center space-x-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>window.open("mailto:support@simplesmart.com","_blank"),className:"px-3 py-1 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors duration-200 border border-blue-200 hover:border-blue-300",children:"Support"}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:"by SimpleSmart"})]})]})})})},o=e=>{let{currentView:t,setCurrentView:r,onCreateNew:a}=e;const[s,o]=(0,n.useState)(!0),[i,c]=(0,n.useState)(!1),d=e=>{var r;return(["borrowers","borrower-detail","create-borrower","edit-borrower"].includes(r=t)?"borrowers":["loans-active","loan-requests","loan-requests-create","loan-calculator"].includes(r)?"loans-section":r)===e},u=()=>{c(!i),i||o(!1)},m=[{id:"dashboard",label:"Dashboard",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{id:"borrowers",label:"Borrowers",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 0 1 9.288 0M15 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0m6 3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM7 10a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"},{id:"loan-products",label:"Loan Products",icon:"M19 11H5m14 0a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2m14 0V9a2 2 0 0 0-2-2M5 11V9a2 2 0 0 1 2-2m0 0V5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2M7 7h10"},{id:"loan-contract",label:"Loan Contract",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2z"},{id:"bank-accounts",label:"Bank Accounts",icon:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3z"},{id:"notes",label:"Notes",icon:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},{id:"reports",label:"Reports",icon:"M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"},{id:"settings",label:"Settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}];return(0,l.jsxs)("div",{className:"".concat(i?"w-16":"w-64"," bg-white shadow-sm border-r border-gray-200 min-h-screen flex flex-col transition-all duration-300"),children:[(0,l.jsxs)("div",{className:"".concat(i?"p-2":"p-6"," flex-1"),children:[(0,l.jsxs)("div",{className:"flex items-center ".concat(i?"justify-center":"justify-between"," mb-8"),children:[!i&&(0,l.jsx)("img",{src:"/Logo/echologo.png",alt:"EchoVault",className:"h-8 w-auto"}),i&&(0,l.jsx)("div",{className:"flex flex-col items-center space-y-2",children:(0,l.jsxs)("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 group relative",title:"Expand sidebar",children:[(0,l.jsx)("img",{src:"/Logo/echologo_short.png",alt:"EchoVault",className:"h-8 w-auto"}),(0,l.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Expand sidebar"})]})}),!i&&(0,l.jsx)("button",{onClick:u,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200",title:"Collapse sidebar",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,l.jsxs)("nav",{className:"space-y-2",children:[m.filter(e=>"dashboard"===e.id).map(e=>(0,l.jsxs)("button",{onClick:()=>r(e.id),className:"w-full flex items-center ".concat(i?"justify-center px-1 group relative":"px-3"," py-2 text-sm font-medium rounded-lg transition-colors ").concat(d(e.id)?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:i?e.label:"",children:[(0,l.jsx)("svg",{className:"w-5 h-5 ".concat(i?"":"mr-3"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e.icon})}),!i&&(0,l.jsx)("span",{children:e.label}),i&&(0,l.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:e.label})]},e.id)),i?(0,l.jsxs)("button",{onClick:u,className:"w-full flex items-center justify-center px-1 py-2 text-sm font-medium rounded-lg transition-colors group relative ".concat("text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:"Loans - Click to expand",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),(0,l.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Loans - Click to expand"})]}):(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("button",{onClick:()=>o(!s),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat("text-gray-700 hover:bg-gray-100"),children:[(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Loans"]}),(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform duration-200 ".concat(s?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&(0,l.jsxs)("div",{className:"ml-3 space-y-1",children:[(0,l.jsxs)("button",{onClick:()=>r("loans-active"),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat("loans-active"===t||"loans-create"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,l.jsx)("span",{className:"w-5 h-5 mr-3 inline-flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),"All Loans"]}),(0,l.jsxs)("button",{onClick:()=>r("loan-requests"),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat("loan-requests"===t||"loan-requests-create"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,l.jsx)("span",{className:"w-5 h-5 mr-3 inline-flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),"Loan Requests"]}),(0,l.jsxs)("button",{onClick:()=>r("loan-calculator"),className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat("loan-calculator"===t?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,l.jsx)("span",{className:"w-5 h-5 mr-3 inline-flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),"Loan Calculator"]})]})]}),m.filter(e=>"dashboard"!==e.id).map(e=>(0,l.jsxs)("button",{onClick:()=>r(e.id),className:"w-full flex items-center ".concat(i?"justify-center px-1 group relative":"px-3"," py-2 text-sm font-medium rounded-lg transition-colors ").concat(d(e.id)?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),title:i?e.label:"",children:[(0,l.jsx)("svg",{className:"w-5 h-5 ".concat(i?"":"mr-3"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:e.icon})}),!i&&(0,l.jsx)("span",{children:e.label}),i&&(0,l.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:e.label})]},e.id))]})]}),!i&&(0,l.jsxs)("div",{className:"p-6 border-t border-gray-200",children:[(0,l.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["\xa9 2025 EchoVault LMS. Developed by"," ",(0,l.jsx)("a",{href:"https://simplesmart.com.au/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline transition-colors duration-200",children:"SimpleSmart"})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-400 text-center mt-1",children:["Version ","1.1.2"]})]})]})},i=e=>{let{onLogout:t,user:r,onNavigateToProfile:a}=e;const[s,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),m=(0,n.useRef)(null),p=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&o(!1),p.current&&!p.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return(0,l.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 h-16",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-full px-6",children:[(0,l.jsx)("div",{className:"flex items-center"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mr-6",children:[(0,l.jsx)("button",{onClick:()=>{alert("Terminal feature coming soon!")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200",title:"Terminal",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,l.jsx)("button",{onClick:()=>{alert("Help feature coming soon!")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200",title:"Help",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,l.jsxs)("div",{className:"relative",ref:p,children:[(0,l.jsxs)("button",{onClick:()=>{c(!i),o(!1)},className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200 relative",title:"Notifications",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,l.jsx)("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 bg-red-500 rounded-full"})]}),i&&(0,l.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[(0,l.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),(0,l.jsxs)("div",{className:"max-h-64 overflow-y-auto",children:[(0,l.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50 border-b border-gray-100",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm text-gray-900",children:"New loan application received"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"John Doe submitted a loan application 2 hours ago"}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"2 hours ago"})]})]})}),(0,l.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50 border-b border-gray-100",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm text-gray-900",children:"Payment received"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Jane Smith made a payment of $500"}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"4 hours ago"})]})]})}),(0,l.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm text-gray-900",children:"Document verification pending"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"3 documents need verification"}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"1 day ago"})]})]})})]}),(0,l.jsx)("div",{className:"px-4 py-2 border-t border-gray-100",children:(0,l.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all notifications"})})]})]})]}),(0,l.jsx)("button",{onClick:()=>{u(!d),alert("Switching to ".concat(d?"Light":"Dark"," mode!"))},className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200 mr-4",title:d?"Switch to Light Mode":"Switch to Dark Mode",children:d?(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),(0,l.jsxs)("div",{className:"relative",ref:m,children:[(0,l.jsxs)("button",{onClick:()=>o(!s),className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-100 transition-colors duration-200",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-100",children:(0,l.jsx)("img",{src:"https://echovault.space/wp-content/uploads/2025/10/monster-8.svg",alt:"Admin Avatar",className:"w-full h-full object-contain"})}),(0,l.jsxs)("div",{className:"text-sm text-left",children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:(null===r||void 0===r?void 0:r.username)||"User"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Administrator"})]}),(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform duration-200 ".concat(s?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&(0,l.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[(0,l.jsxs)("button",{onClick:()=>{o(!1),a()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Admin Profile"]}),(0,l.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,l.jsxs)("button",{onClick:()=>{o(!1),t()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]})]})})},c=e=>{if(null===e||void 0===e)return!1;const t=String(e).trim();return""!==t&&"null"!==t&&"undefined"!==t&&"N/A"!==t&&"n/a"!==t&&"Not provided"!==t&&"not provided"!==t},d=e=>{if(!e||"object"!==typeof e)return{status:"Pending",color:"red",percentage:0,missingFields:[]};let t=0,r=0;const n=[];[{key:"first_name",label:"First Name",category:"Basic Info"},{key:"last_name",label:"Last Name",category:"Basic Info"},{key:"email_address",label:"Email Address",category:"Basic Info"},{key:"date_of_birth",label:"Date of Birth",category:"Basic Info"},{key:"mobile_number",label:"Mobile Number",category:"Basic Info"},{key:"registration_number",label:"Registration Number",category:"Basic Info"},{key:"home_address",label:"Home Address",category:"Basic Info"},{key:"document_type",label:"Document Type",category:"Basic Info"},{key:"social_link_1",label:"Social Link 1",category:"Social"},{key:"employment_status",label:"Employment Status",category:"Employment"},{key:"work_rights",label:"Work Rights",category:"Employment"},{key:"employer_name",label:"Employer Name",category:"Employment"},{key:"job_title",label:"Job Title",category:"Employment"},{key:"monthly_income_aud",label:"Monthly Income",category:"Employment"},{key:"employment_start_date",label:"Employment Start Date",category:"Employment"},{key:"employer_phone",label:"Employer Phone",category:"Employment"},{key:"employer_email",label:"Employer Email",category:"Employment"},{key:"employer_address",label:"Employer Address",category:"Employment"},{key:"marital_status",label:"Marital Status",category:"Family"},{key:"family_relationship",label:"Family Relationship",category:"Family"},{key:"family_member_full_name",label:"Family Member Name",category:"Family"},{key:"family_member_phone",label:"Family Member Phone",category:"Family"},{key:"family_member_email",label:"Family Member Email",category:"Family"},{key:"bank_name",label:"Bank Name",category:"Banking"},{key:"account_name",label:"Account Name",category:"Banking"},{key:"bsb_number",label:"BSB Number",category:"Banking"},{key:"account_number",label:"Account Number",category:"Banking"},{key:"visa_type",label:"Visa Type",category:"Visa Status"},{key:"visa_expiry_date",label:"Visa Expiry Date",category:"Visa Status"}].forEach(a=>{const l=e[a.key];var s;r++,"email_address"===a.key?c(s=l)&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(s).trim())?t++:n.push(a):c(l)?t++:n.push(a)});const a=r>0?Math.round(t/r*100):0;return 100===a?{status:"Verified",color:"green",percentage:a,missingFields:[]}:a>=75?{status:"Almost Complete",color:"blue",percentage:a,missingFields:n}:a>=50?{status:"In Progress",color:"yellow",percentage:a,missingFields:n}:{status:"Pending",color:"red",percentage:a,missingFields:n}},u=e=>{let{isOpen:t,onClose:r,missingFields:n,verificationStatus:a}=e;if(!t||!n||0===n.length)return null;const s=n.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),o=e=>{switch(e){case"Basic Info":return(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});case"Social":return(0,l.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})});case"Employment":return(0,l.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})});case"Family":return(0,l.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})});case"Banking":return(0,l.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})});default:return(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}},i=e=>{switch(e){case"Basic Info":return"bg-blue-50 border-blue-200";case"Social":return"bg-purple-50 border-purple-200";case"Employment":return"bg-green-50 border-green-200";case"Family":return"bg-orange-50 border-orange-200";case"Banking":return"bg-indigo-50 border-indigo-200";default:return"bg-gray-50 border-gray-200"}};return(0,l.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,l.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),(0,l.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[(0,l.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,l.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,l.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,l.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Missing Fields for Verification"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Complete these ",n.length," fields to achieve 100% verification"]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("green"===a.color?"bg-green-100 text-green-800":"blue"===a.color?"bg-blue-100 text-blue-800":"red"===a.color?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:[a.status," - ",a.percentage,"% Complete"]})})]})]})]})}),(0,l.jsx)("div",{className:"bg-white px-4 pb-4 sm:px-6 max-h-96 overflow-y-auto",children:(0,l.jsx)("div",{className:"space-y-4",children:Object.entries(s).map(e=>{let[t,r]=e;return(0,l.jsxs)("div",{className:"p-4 rounded-lg border ".concat(i(t)),children:[(0,l.jsxs)("div",{className:"flex items-center mb-3",children:[(0,l.jsx)("div",{className:"mr-3",children:o(t)}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:t}),(0,l.jsxs)("p",{className:"text-xs text-gray-600",children:[r.length," missing field",1!==r.length?"s":""]})]})]}),(0,l.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full mr-3 flex-shrink-0"}),(0,l.jsx)("span",{children:e.label})]},t))})]},t)})})}),(0,l.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,l.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:r,children:"Got it"}),(0,l.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:r,children:"Close"})]})]})]})})},m=["monster.svg","monster-1.svg","monster-2.svg","monster-3.svg","monster-4.svg","monster-5.svg","monster-6.svg","monster-7.svg","monster-8.svg","monster-9.svg","monster-10.svg","monster-11.svg","monster-12.svg"],p=e=>{if(!e)return null;return"https://echovault.space/wp-content/uploads/2025/10/".concat(e)},h=e=>{if(!e)return null;return p(m[e%m.length])},f=e=>{let{onSelectBorrower:t,onCreateNew:r}=e;const[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)([]),[c,m]=(0,n.useState)(!0),[p,f]=(0,n.useState)(""),[x,g]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),[v,j]=(0,n.useState)(""),[w,N]=(0,n.useState)("all"),[k,_]=(0,n.useState)("all"),[S,C]=(0,n.useState)(50),[L,E]=(0,n.useState)(1);(0,n.useEffect)(()=>{O()},[]),(0,n.useEffect)(()=>{M(),E(1)},[a,v,w,k]);(e=>{if(!e||!Array.isArray(e))return{total:0,verified:0,almostComplete:0,inProgress:0,pending:0};const t={total:e.length,verified:0,almostComplete:0,inProgress:0,pending:0};e.forEach(e=>{switch(d(e).status){case"Verified":t.verified++;break;case"Almost Complete":t.almostComplete++;break;case"In Progress":t.inProgress++;break;default:t.pending++}})})(a);const M=()=>{let e=[...a];if(v){const t=v.toLowerCase();e=e.filter(e=>{var r,n;const a=e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):(null===(r=e.title)||void 0===r?void 0:r.rendered)||"",l=e.email_address||"",s=e.borrower_id||(null===(n=e.meta)||void 0===n?void 0:n.borrower_id)||"EV".concat(e.id.toString().padStart(7,"0"));return a.toLowerCase().includes(t)||l.toLowerCase().includes(t)||s.toLowerCase().includes(t)})}"all"!==w&&(e=e.filter(e=>d(e).status.toLowerCase()===w.toLowerCase())),"all"!==k&&(e=e.filter(e=>{const t=e.document_type;if(!t)return!1;return(Array.isArray(t)?t:[t]).some(e=>e.toLowerCase().includes(k.toLowerCase()))})),i(e)},A=()=>{j(""),N("all"),_("all")},B=o.length,z=Math.max(1,Math.ceil(B/S)),P=(L-1)*S,D=Math.min(P+S,B),T=o.slice(P,D),F=e=>{e<1||e>z||E(e)},O=async()=>{try{const e=localStorage.getItem("jwt_token");if(!e)return f("Authentication token not found. Please login again."),void m(!1);const t=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/borrower-profile"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},mode:"cors"});if(t.ok){const e=await t.json();console.log("Borrowers API response:",e),s(e)}else f("Failed to fetch borrowers. Please try again.")}catch(e){console.error("Error fetching borrowers:",e),f("Network error. Please try again.")}finally{m(!1)}};return c?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading Borrowers"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Please wait while we fetch the latest data..."})]})}):p?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md w-full border border-gray-200",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Unable to Load Borrowers"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:p}),(0,l.jsx)("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:"Try Again"})]})})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Borrower List"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage and view borrower profiles and loan information"})]}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create New Profile"})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Borrowers"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("input",{type:"text",placeholder:"Search by name, email, or ID...",value:v,onChange:e=>j(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),(0,l.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"all",children:"All Statuses"}),(()=>{const e=new Set;return a.forEach(t=>{const r=d(t);e.add(r.status)}),Array.from(e).sort()})().map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Document Type"}),(0,l.jsxs)("select",{value:k,onChange:e=>_(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"all",children:"All Document Types"}),(()=>{const e=new Set;return a.forEach(t=>{if(t.document_type){(Array.isArray(t.document_type)?t.document_type:[t.document_type]).forEach(t=>e.add(t))}}),Array.from(e).sort()})().map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",P+1,"-",D," of ",o.length," borrowers",(v||"all"!==w||"all"!==k)&&(0,l.jsx)("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(v||"all"!==w||"all"!==k)&&(0,l.jsx)("button",{onClick:A,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear all filters"})]})]}),0===a.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No borrowers found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by creating your first borrower profile. This will help you manage loan applications and track borrower information."}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create First Profile"})]})]}):0===o.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No borrowers found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"No borrowers match your current search and filter criteria. Try adjusting your filters or search terms."}),(0,l.jsxs)("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,l.jsx)("span",{children:"Clear Filters"})]})]}):(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Borrower"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(e=>{var r,n;const a=e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):(null===(r=e.title)||void 0===r?void 0:r.rendered)||"Unknown Borrower",s=a.split(" ").map(e=>e[0]).join("").toUpperCase(),o=d(e);return(0,l.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>t(e),children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("img",{src:h(e.id),alt:a,className:"w-10 h-10 rounded-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm hidden",children:s}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.borrower_id||(null===(n=e.meta)||void 0===n?void 0:n.borrower_id)||"EV".concat(e.id.toString().padStart(7,"0"))]})]})]})}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,l.jsx)("div",{className:"text-sm text-gray-900",children:e.email_address||"-"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.mobile_number||"-"})]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("div",{className:"text-sm text-gray-900",children:e.document_type?Array.isArray(e.document_type)?e.document_type.join(", "):e.document_type:"-"})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("green"===o.color?"bg-green-100 text-green-800":"blue"===o.color?"bg-blue-100 text-blue-800":"red"===o.color?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:o.status}),(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(o.percentage),"% Complete"]}),o.missingFields.length>0&&(0,l.jsxs)("button",{onClick:t=>{t.stopPropagation(),y(e),g(!0)},className:"text-xs text-yellow-600 hover:text-yellow-800 underline",children:[o.missingFields.length," missing"]})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,l.jsx)("button",{onClick:r=>{r.stopPropagation(),t(e)},className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},e.id)})})]})}),(0,l.jsxs)("div",{className:"px-6 py-4 flex flex-col sm:flex-row items-center justify-between gap-3 bg-white border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-700",children:[(0,l.jsx)("span",{children:"Rows per page:"}),(0,l.jsxs)("select",{value:S,onChange:e=>{const t=Number(e.target.value);C(t),E(1)},className:"px-2 py-1 border border-gray-300 rounded",children:[(0,l.jsx)("option",{value:5,children:"5"}),(0,l.jsx)("option",{value:10,children:"10"}),(0,l.jsx)("option",{value:50,children:"50"}),(0,l.jsx)("option",{value:100,children:"100"})]}),(0,l.jsxs)("span",{children:[0===B?"0":P+1,"-",D," of ",B]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>F(1),disabled:1===L,className:"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"\xab First"}),(0,l.jsx)("button",{onClick:()=>F(L-1),disabled:1===L,className:"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2039 Prev"}),(0,l.jsx)("button",{onClick:()=>F(L+1),disabled:L===z,className:"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Next \u203a"}),(0,l.jsx)("button",{onClick:()=>F(z),disabled:L===z,className:"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Last \xbb"})]})]})]}),b&&(0,l.jsx)(u,{isOpen:x,onClose:()=>{g(!1),y(null)},missingFields:d(b).missingFields,verificationStatus:d(b)})]})},x=e=>{var t,r,a,s,o,i,c,d,u,m,p;let{isOpen:h,onClose:f,documentData:x}=e;const[g,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(""),[j,w]=(0,n.useState)(null);if(console.log("DocumentViewer props:",{isOpen:h,documentData:x}),(0,n.useEffect)(()=>(document.body.style.overflow=h?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[h]),(0,n.useEffect)(()=>{(async()=>{var e,t;let r=null;if("number"===typeof(null===x||void 0===x?void 0:x.ID)?r=x.ID:"string"!==typeof(null===x||void 0===x?void 0:x.ID)||isNaN(x.ID)?null!==x&&void 0!==x&&x.ID&&"object"===typeof x.ID&&(r=x.ID.ID||x.ID.id||x.ID.value,r&&"string"===typeof r&&!isNaN(r)&&(r=parseInt(r))):r=parseInt(x.ID),console.log("Attempting to fetch media details:",{documentData:x,mediaId:r,hasSourceUrl:!(null===x||void 0===x||!x.source_url),hasGuid:!(null===x||void 0===x||null===(e=x.guid)||void 0===e||!e.rendered)}),h&&r&&!x.source_url&&(null===(t=x.guid)||void 0===t||!t.rendered)){b(!0);try{const e=localStorage.getItem("jwt_token"),t=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/media/").concat(r),{headers:{Authorization:"Bearer ".concat(e)},mode:"cors"});if(t.ok){const e=await t.json();console.log("Fetched media data:",e),w(e)}else console.error("Failed to fetch media details:",t.status)}catch(n){console.error("Error fetching media details:",n)}finally{b(!1)}}})()},[h,x]),!h||!x)return null;const N=async e=>{e.preventDefault();try{const e=localStorage.getItem("jwt_token"),t=await fetch(C,{headers:{Authorization:"Bearer ".concat(e)},mode:"cors"});if(t.ok){const e=await t.blob(),r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=A||"document",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)}else console.error("Failed to download file:",t.status)}catch(y){console.error("Download error:",y),window.open(C,"_blank")}},k=j||x,_=null!==(S=k.mime_type||k.post_mime_type)&&void 0!==S&&S.includes("pdf")?"pdf":null!==S&&void 0!==S&&S.includes("image")?"image":"other";var S;let C=k.source_url||(null===(t=k.guid)||void 0===t?void 0:t.rendered)||k.url||k.link||(null===(r=k.media_details)||void 0===r||null===(a=r.sizes)||void 0===a||null===(s=a.full)||void 0===s?void 0:s.source_url)||(null===(o=k.media_details)||void 0===o||null===(i=o.sizes)||void 0===i||null===(c=i.large)||void 0===c?void 0:c.source_url)||(null===(d=k.media_details)||void 0===d||null===(u=d.sizes)||void 0===u||null===(m=u.medium)||void 0===m?void 0:m.source_url);if(!C&&k.ID){var L,E,M;const e=(null===(L="https://echovault.space/wp-json")?void 0:L.replace("/wp-json",""))||window.location.origin,t=null===(E=k.post_date)||void 0===E||null===(M=E.split(" ")[0])||void 0===M?void 0:M.replace(/-/g,"/");let r=null;"string"===typeof k.ID?r=k.ID:"number"===typeof k.ID?r=k.ID.toString():"object"===typeof k.ID&&k.ID&&(r=k.ID.ID||k.ID.id||k.ID.value||k.ID.toString());const n=k.post_name||k.post_title||r;if(console.log("Constructing fallback URL:",{siteUrl:e,uploadDate:t,fileName:n,post_date:k.post_date,post_name:k.post_name,post_title:k.post_title,currentData:k,originalId:k.ID,idType:typeof k.ID}),t&&n&&"[object Object]"!==n)C="".concat(e,"/wp-content/uploads/").concat(t,"/").concat(n);else if(n&&"[object Object]"!==n)C="".concat(e,"/wp-content/uploads/").concat(n);else{const t="number"===typeof k.ID?k.ID:"string"!==typeof k.ID||isNaN(k.ID)?k.ID&&"object"===typeof k.ID?k.ID.ID||k.ID.id||k.ID.value:null:parseInt(k.ID);t&&(C="".concat(e,"/wp-content/uploads/").concat(t))}}const A=(null===(p=k.title)||void 0===p?void 0:p.rendered)||k.post_title||k.title,B=k.mime_type||k.post_mime_type;return console.log("DocumentViewer data:",{fileType:_,documentUrl:C,documentTitle:A,documentMimeType:B,availableFields:Object.keys(k),fullData:k,fetchedMediaData:j,originalData:x}),(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&f()},children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl max-h-[90vh] w-full overflow-hidden flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:A||"Document Viewer"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:B||"Unknown file type"})]})]}),(0,l.jsx)("button",{onClick:f,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g&&(0,l.jsxs)("div",{className:"p-6 text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading document details..."})]}),!g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"p-4 flex-1 overflow-auto flex items-center justify-center",children:["image"===_?(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)("img",{src:C,alt:A||"Document",className:"max-w-[80vw] max-h-[70vh] object-contain rounded-lg shadow-sm",style:{minHeight:"200px",minWidth:"200px"},onLoad:()=>{b(!1),console.log("Image loaded successfully:",C)},onError:e=>{console.error("Image failed to load:",C,e),v("Failed to load image")}})}):"pdf"===_?(0,l.jsx)("div",{className:"w-full h-[600px]",children:(0,l.jsx)("iframe",{src:C,className:"w-full h-full border-0 rounded-lg",title:A||"PDF Document",onError:()=>v("Failed to load PDF")})}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Document Preview Not Available"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"This file type cannot be previewed in the browser."}),C&&(0,l.jsxs)("button",{onClick:N,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Document"]})]}),y&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{className:"text-red-800",children:y})]}),C&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsxs)("button",{onClick:N,className:"inline-flex items-center px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Try Downloading Instead"]})})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in New Tab"]}),(0,l.jsxs)("button",{onClick:N,className:"inline-flex items-center px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]})]}),(0,l.jsx)("button",{onClick:f,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]})]})})},g=e=>{var t,r,a,s,o,i,c,m,p,f,g,b,y;let{borrower:v,onBack:j,onEdit:w}=e;const[N,k]=(0,n.useState)(null),[_,S]=(0,n.useState)(!1),[C,L]=(0,n.useState)("general"),[E,M]=(0,n.useState)(!1),[A,B]=(0,n.useState)(!1),[z,P]=(0,n.useState)([]),[D,T]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{(async()=>{var e,t;const r=(null===v||void 0===v?void 0:v.document_upload)||(null===v||void 0===v||null===(e=v.meta)||void 0===e?void 0:e.document_upload);if(console.log("Borrower document data:",{document_upload:null===v||void 0===v?void 0:v.document_upload,meta_document_upload:null===v||void 0===v||null===(t=v.meta)||void 0===t?void 0:t.document_upload,resolved_document_upload:r,full_borrower_data:v}),r)if("number"===typeof r||"string"===typeof r&&!isNaN(r)){const e=parseInt(r);S(!0);try{const t=localStorage.getItem("jwt_token"),r=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/media/").concat(e),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"});if(r.ok){const e=await r.json();k(e)}else console.error("Failed to fetch media details:",r.status)}catch(n){console.error("Error fetching media details:",n)}finally{S(!1)}}else"object"===typeof r&&r.id?k(r):"object"===typeof r&&r.name&&(console.error("Document upload is a File object, not a media ID"),k(null))})()},[null===v||void 0===v?void 0:v.document_upload,null===v||void 0===v||null===(t=v.meta)||void 0===t?void 0:t.document_upload]),(0,n.useEffect)(()=>{(async()=>{try{var e,t;T(!0);const n=(null===v||void 0===v?void 0:v.active_loan)||(null===v||void 0===v||null===(e=v.meta)||void 0===e?void 0:e.active_loan)||(null===v||void 0===v||null===(t=v.fields)||void 0===t?void 0:t.active_loan)||[];let a=[];if(Array.isArray(n))a=n.map(e=>"object"===typeof e&&null!==e&&void 0!==e&&e.ID?String(e.ID):String(e)).filter(Boolean);else if("string"===typeof n)try{const e=JSON.parse(n);Array.isArray(e)&&(a=e.map(String))}catch(r){a=n.split(",").map(e=>e.trim()).filter(Boolean)}else n&&(a=[String(n)]);if(!a.length)return void P([]);const l=localStorage.getItem("jwt_token"),s=l?{Authorization:"Bearer ".concat(l)}:{},o=[];for(const e of a)try{const t=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/loans/").concat(e,"?context=edit"),{headers:s,mode:"cors"});t.ok&&o.push(await t.json())}catch(r){}P(o)}finally{T(!1)}})()},[null===v||void 0===v?void 0:v.active_loan,null===v||void 0===v||null===(r=v.meta)||void 0===r?void 0:r.active_loan]),!v)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 max-w-md w-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Borrower Selected"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please select a borrower to view their details."})]})})});const F=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not provided",O=d(v),R=(null===(a=v.title)||void 0===a?void 0:a.rendered)||"".concat(v.first_name||""," ").concat(v.last_name||"").trim()||"Unknown Borrower",I=R.split(" ").map(e=>e[0]).join("").toUpperCase();return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:j,className:"mr-4 p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("img",{src:h(v.id),alt:R,className:"w-16 h-16 rounded-full object-cover mr-4",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,l.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4 hidden",children:I}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:R}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("p",{className:"text-gray-600",children:["ID: ",v.id]}),(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("green"===O.color?"bg-green-100 text-green-800":"blue"===O.color?"bg-blue-100 text-blue-800":"red"===O.color?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:O.status}),(0,l.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Math.round(O.percentage),"% Complete"]}),O.missingFields.length>0&&(0,l.jsxs)("button",{onClick:()=>M(!0),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 hover:bg-yellow-200 transition-colors",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),O.missingFields.length," missing"]})]})]})]})]}),(0,l.jsx)("div",{className:"flex gap-3",children:(0,l.jsxs)("button",{onClick:()=>w(v),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,l.jsx)("span",{children:"Edit Profile"})]})})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:(0,l.jsx)("div",{className:"border-b border-gray-200",children:(0,l.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,l.jsx)("button",{type:"button",onClick:()=>L("general"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("general"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"General Information"}),(0,l.jsx)("button",{type:"button",onClick:()=>L("visa"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("visa"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Visa Status"}),(0,l.jsx)("button",{type:"button",onClick:()=>L("document"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("document"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Personal Document"}),(0,l.jsx)("button",{type:"button",onClick:()=>L("employment"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("employment"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Employment"}),(0,l.jsx)("button",{type:"button",onClick:()=>L("family"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("family"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Family Information"}),(0,l.jsx)("button",{type:"button",onClick:()=>L("bank"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("bank"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Bank Details"}),(0,l.jsx)("button",{type:"button",onClick:()=>L("active_loans"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("active_loans"===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Active Loans"})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:["general"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Personal Details"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.first_name||(null===(s=v.title)||void 0===s||null===(o=s.rendered)||void 0===o?void 0:o.split(" ")[0])||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.last_name||(null===(i=v.title)||void 0===i||null===(c=i.rendered)||void 0===c?void 0:c.split(" ").slice(1).join(" "))||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.date_of_birth?F(v.date_of_birth):"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.registration_number||"Not specified"})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Information"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.email_address||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.mobile_number||"Not specified"})})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Home Address"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900 whitespace-pre-line",children:v.home_address||"Not specified"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Social Links"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Link 1"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.social_link_1?(0,l.jsx)("a",{href:v.social_link_1,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:v.social_link_1}):"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Link 2"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.social_link_2?(0,l.jsx)("a",{href:v.social_link_2,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:v.social_link_2}):"Not specified"})})]})]})]})]})}),"visa"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Visa Status"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visa Type"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.visa_type||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visa Expiry Date"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.visa_expiry_date?new Date(v.visa_expiry_date).toLocaleDateString():"Not specified"})})]})]})]})})}),"document"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Personal Document"]})}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:Array.isArray(v.document_type)?v.document_type.join(", "):v.document_type||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Number"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.document_number||(null===(m=v.meta)||void 0===m?void 0:m.document_number)||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Upload"}),_?(0,l.jsxs)("div",{className:"flex items-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-blue-200 border-t-blue-600 mr-3"}),(0,l.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Loading document details..."})]}):(v.document_upload||null!==(p=v.meta)&&void 0!==p&&p.document_upload)&&!1!==v.document_upload&&""!==v.document_upload?(0,l.jsxs)("div",{className:"flex items-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,l.jsx)("div",{className:"p-2 bg-green-100 rounded-lg mr-4",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("div",{children:"object"===typeof v.document_upload&&v.document_upload.name?(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-red-700",children:"Document upload error"}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Document was uploaded but not properly saved. File: ",v.document_upload.name]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please try uploading the document again."})]}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===N||void 0===N||null===(f=N.title)||void 0===f?void 0:f.rendered)||(null===N||void 0===N?void 0:N.post_title)||"Document uploaded"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:(null===N||void 0===N?void 0:N.mime_type)||(null===N||void 0===N?void 0:N.post_mime_type)||"File uploaded to media library"})]}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Eye button clicked, mediaDetails:",N),console.log("Borrower data:",v),console.log("Borrower document_upload:",null===v||void 0===v?void 0:v.document_upload),console.log("Document upload type:",typeof(null===v||void 0===v?void 0:v.document_upload)),B(!0)},className:"ml-4 p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"View Document",children:(0,l.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(null===N||void 0===N?void 0:N.source_url)&&(0,l.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,l.jsxs)("a",{href:N.source_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 hover:text-blue-800 underline font-medium",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in New Tab"]}),(0,l.jsxs)("a",{href:N.source_url,download:!0,className:"inline-flex items-center text-xs text-green-600 hover:text-green-800 underline font-medium",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]})]})]})})]}):(0,l.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,l.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-4",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:"No document uploaded"})]})]})]})]})})}),"employment"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})}),"Employment Status"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Status"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.employment_status||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Rights"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.work_rights||"Not specified"})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Job Details"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Name"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.employer_name||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.job_title||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Income (AUD)"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.monthly_income_aud?"$".concat(v.monthly_income_aud):"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Start Date"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.employment_start_date?F(v.employment_start_date):"Not specified"})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Employer Contact"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Phone"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.employer_phone||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Email"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.employer_email?(0,l.jsx)("a",{href:"mailto:".concat(v.employer_email),className:"text-blue-600 hover:text-blue-800 underline",children:v.employer_email}):"Not specified"})})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Address"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900 whitespace-pre-line",children:v.employer_address||"Not specified"})})]})]})]})}),"family"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Family Status"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marital Status"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.marital_status||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Relationship"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.family_relationship||"Not specified"})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Family Member Details"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member Full Name"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.family_member_full_name||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member Phone"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.family_member_phone||"Not specified"})})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member Email"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.family_member_email?(0,l.jsx)("a",{href:"mailto:".concat(v.family_member_email),className:"text-blue-600 hover:text-blue-800 underline",children:v.family_member_email}):"Not specified"})})]})]})]})}),"bank"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-6",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Account Details"]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.bank_name||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.account_name||"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BSB Number"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.bsb&&String(v.bsb).trim()?v.bsb:v.bsb_number&&String(v.bsb_number).trim()?v.bsb_number:"Not specified"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),(0,l.jsx)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:(0,l.jsx)("span",{className:"text-gray-900",children:v.account_number&&String(v.account_number).trim()?v.account_number:"Not specified"})})]})]})]})})}),"active_loans"===C&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl mb-4",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Active Loans"]})}),D?(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Loading loans\u2026"}):z&&z.length>0?(0,l.jsx)("div",{className:"overflow-x-auto border rounded-md",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Loan ID"}),(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Product"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Amount"}),(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Status"}),(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Start"}),(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Action"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-100",children:z.map(e=>{var t,r,n,a,s,o;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-3 py-2 font-mono",children:e.loan_id||(null===(t=e.meta)||void 0===t?void 0:t.loan_id)||(null===(r=e.title)||void 0===r?void 0:r.rendered)||"#".concat(e.id)}),(0,l.jsx)("td",{className:"px-3 py-2",children:e.loan_product||(null===(n=e.meta)||void 0===n?void 0:n.loan_product_name)||"-"}),(0,l.jsx)("td",{className:"px-3 py-2 text-right",children:e.loan_amount||(null===(a=e.meta)||void 0===a?void 0:a.loan_amount)||"-"}),(0,l.jsx)("td",{className:"px-3 py-2",children:e.loan_status||(null===(s=e.meta)||void 0===s?void 0:s.loan_status)||e.status||"-"}),(0,l.jsx)("td",{className:"px-3 py-2",children:e.start_date||(null===(o=e.meta)||void 0===o?void 0:o.start_date)||"-"}),(0,l.jsx)("td",{className:"px-3 py-2",children:(0,l.jsx)("button",{type:"button",onClick:()=>{const t="".concat(window.location.origin,"?view=loan-detail&loanId=").concat(e.id);window.open(t,"_blank","noopener")},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:"View Details"})})]},e.id)})})]})}):(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"No related active loans."})]})})]})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 sticky top-8",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:(0,l.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Additional Information"]})}),(0,l.jsx)("div",{className:"px-6 py-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Status"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("green"===O.color?"bg-green-100 text-green-800":"blue"===O.color?"bg-blue-100 text-blue-800":"red"===O.color?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:O.status}),(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(O.percentage),"%"]}),O.missingFields.length>0&&(0,l.jsxs)("button",{onClick:()=>M(!0),className:"text-xs text-yellow-600 hover:text-yellow-800 underline",children:["View ",O.missingFields.length," missing fields"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Created"}),(0,l.jsx)("p",{className:"text-gray-900 font-medium",children:F(v.date)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Modified"}),(0,l.jsx)("p",{className:"text-gray-900 font-medium",children:F(v.modified)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:v.status||"Active"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Borrower ID"}),(0,l.jsx)("p",{className:"text-gray-900 font-medium",children:v.borrower_id||(null===(g=v.meta)||void 0===g?void 0:g.borrower_id)||"EV".concat(v.id.toString().padStart(7,"0"))})]})]})})]})})]}),(0,l.jsx)(u,{isOpen:E,onClose:()=>M(!1),missingFields:O.missingFields,verificationStatus:O}),(0,l.jsx)(x,{isOpen:A,onClose:()=>B(!1),documentData:N||(null!==v&&void 0!==v&&v.document_upload?{ID:"number"===typeof v.document_upload||"string"===typeof v.document_upload?v.document_upload:(null===(b=v.document_upload)||void 0===b?void 0:b.ID)||(null===(y=v.document_upload)||void 0===y?void 0:y.id)||v.document_upload}:null)})]})};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}function v(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const N=e=>{let{isOpen:t,onClose:r,onConfirm:n,title:a,message:s,confirmText:o="Confirm",cancelText:i="Cancel",type:c="warning"}=e;if(!t)return null;const{icon:d,bgColor:u,iconBg:m,buttonColor:p}=(()=>{switch(c){case"success":return{icon:(0,l.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-green-50",borderColor:"border-green-200",iconBg:"bg-green-100",buttonColor:"bg-green-600 hover:bg-green-700 focus:ring-green-500"};case"error":return{icon:(0,l.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),bgColor:"bg-red-50",borderColor:"border-red-200",iconBg:"bg-red-100",buttonColor:"bg-red-600 hover:bg-red-700 focus:ring-red-500"};case"info":return{icon:(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-blue-50",borderColor:"border-blue-200",iconBg:"bg-blue-100",buttonColor:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};default:return{icon:(0,l.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),bgColor:"bg-yellow-50",borderColor:"border-yellow-200",iconBg:"bg-yellow-100",buttonColor:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"}}})();return(0,l.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,l.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),(0,l.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,l.jsx)("div",{className:"".concat(u," px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),children:(0,l.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,l.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ".concat(m," sm:mx-0 sm:h-10 sm:w-10"),children:d}),(0,l.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,l.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:a}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:s})})]})]})}),(0,l.jsxs)("div",{className:"".concat(u," px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"),children:[(0,l.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white ".concat(p," focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"),onClick:n,children:o}),(0,l.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:r,children:i})]})]})]})})},k=e=>{let{isVisible:t,onClose:r,message:a,type:s="success",autoClose:o=!0,duration:i=5e3}=e;if((0,n.useEffect)(()=>{if(t&&o){const e=setTimeout(()=>{r()},i);return()=>clearTimeout(e)}},[t,o,i,r]),!t)return null;const{icon:c,bgColor:d,borderColor:u,textColor:m}=(()=>{switch(s){case"success":return{icon:(0,l.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800"};case"error":return{icon:(0,l.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800"};case"warning":return{icon:(0,l.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800"};default:return{icon:(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800"}}})();return(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full",children:(0,l.jsx)("div",{className:"".concat(d," border ").concat(u," rounded-md p-4 shadow-lg"),children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:c}),(0,l.jsx)("div",{className:"ml-3",children:(0,l.jsx)("p",{className:"text-sm font-medium ".concat(m),children:a})}),(0,l.jsx)("div",{className:"ml-auto pl-3",children:(0,l.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,l.jsxs)("button",{type:"button",className:"inline-flex ".concat(d," rounded-md p-1.5 ").concat(m," hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-green-50 focus:ring-green-600"),onClick:r,children:[(0,l.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,l.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})]})})})},_=e=>{var t,r,a;let{userEmail:s,onProfileComplete:o,onCancel:i,editingBorrower:c,isEditing:d}=e;const[u,m]=(0,n.useState)({first_name:"",last_name:"",email_address:"",date_of_birth:"",mobile_number:"",registration_number:"",home_address:"",document_type:"",document_number:"",document_upload:null,social_link_1:"",social_link_2:"",employment_status:"",work_rights:"",employer_name:"",job_title:"",monthly_income_aud:"",employment_start_date:"",employer_phone:"",employer_email:"",employer_address:"",marital_status:"",family_relationship:"",family_member_full_name:"",family_member_phone:"",family_member_email:"",bank_name:"",account_name:"",bsb_number:"",account_number:"",visa_type:"",visa_expiry_date:"",borrower_id:""}),[p,h]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),[b,y]=(0,n.useState)(""),[v,j]=(0,n.useState)(!1),[_,S]=(0,n.useState)(null),[C,L]=(0,n.useState)(null),[E,M]=(0,n.useState)("general"),[A,B]=(0,n.useState)(!1),[z,P]=(0,n.useState)(!1),[D,T]=(0,n.useState)(""),[F,O]=(0,n.useState)(!1),[R,I]=(0,n.useState)(!1),[V,W]=(0,n.useState)(0),[H,U]=(0,n.useState)(!1),[q,$]=(0,n.useState)(!1);(0,n.useEffect)(()=>{d&&c&&(m({first_name:c.first_name||"",last_name:c.last_name||"",email_address:c.email_address||"",date_of_birth:c.date_of_birth||"",mobile_number:c.mobile_number||"",registration_number:c.registration_number||"",home_address:c.home_address||"",document_type:c.document_type||"",document_number:c.document_number||"",document_upload:null,social_link_1:c.social_link_1||"",social_link_2:c.social_link_2||"",employment_status:c.employment_status||"",work_rights:c.work_rights||"",employer_name:c.employer_name||"",job_title:c.job_title||"",monthly_income_aud:c.monthly_income_aud||"",employment_start_date:c.employment_start_date||"",employer_phone:c.employer_phone||"",employer_email:c.employer_email||"",employer_address:c.employer_address||"",marital_status:c.marital_status||"",family_relationship:c.family_relationship||"",family_member_full_name:c.family_member_full_name||"",family_member_phone:c.family_member_phone||"",family_member_email:c.family_member_email||"",bank_name:c.bank_name||"",account_name:c.account_name||"",bsb_number:c.bsb_number||"",account_number:c.account_number||"",visa_type:c.visa_type||"",visa_expiry_date:c.visa_expiry_date||"",borrower_id:c.borrower_id||""}),c.document_upload&&(console.log("Setting existingDocument to:",c.document_upload),S(c.document_upload),"number"===typeof c.document_upload?G(c.document_upload):"object"===typeof c.document_upload&&L(c.document_upload)))},[d,c]);const G=async e=>{try{const t=localStorage.getItem("jwt_token"),r=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/media/").concat(e),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"});if(r.ok){const e=await r.json();L(e)}}catch(t){console.error("Error fetching media details:",t)}},Q=async e=>{const{name:t,value:r,type:n,files:a}=e.target;if("file"===n&&"document_upload"===t&&a[0]){const e=a[0];console.log("File selected:",{fileName:e.name,fileType:e.type,fileSize:e.size}),console.log("File stored temporarily:",e.name),m(r=>w(w({},r),{},{[t]:e}));const r={name:e.name,type:e.type,size:e.size,isTemporary:!0,file:e};m(e=>w(w({},e),{},{tempUploadedFile:r})),$(!0),y("File selected! Click Update to upload and save to borrower profile."),setTimeout(()=>y(""),3e3),O(!0)}else m(e=>w(w({},e),{},{[t]:"file"===n?a[0]:r})),O(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,l.jsx)("div",{className:"border-b border-gray-200",children:(0,l.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,l.jsx)("button",{type:"button",onClick:()=>M("general"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("general"===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"General Information"}),(0,l.jsx)("button",{type:"button",onClick:()=>M("visa"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("visa"===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Visa Status"}),(0,l.jsx)("button",{type:"button",onClick:()=>M("document"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("document"===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Personal Document"}),(0,l.jsx)("button",{type:"button",onClick:()=>M("employment"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("employment"===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Employment"}),(0,l.jsx)("button",{type:"button",onClick:()=>M("family"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("family"===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Family Information"}),(0,l.jsx)("button",{type:"button",onClick:()=>M("bank"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("bank"===E?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Bank Details"})]})}),(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(!0),g(""),y(""),!u.first_name.trim()||!u.last_name.trim()||!u.email_address.trim())return g("Please fill in First Name, Last Name, and Email Address."),void h(!1);if(v)return g("Please wait while we verify the email address."),void h(!1);if(!d){const e=localStorage.getItem("jwt_token");if(e)try{const t=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/borrower-profile"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},mode:"cors"});if(t.ok){const e=await t.json();if(e.some(e=>e.email_address&&e.email_address.toLowerCase()===u.email_address.toLowerCase()))return g("This email address is already registered. Please use a different email."),void h(!1)}}catch(t){console.error("Error checking email during submission:",t)}}if(u.document_upload){if(!u.document_type)return g("Please select a document type when uploading a document."),void h(!1);console.log("File validation removed - accepting all file types")}try{const e=localStorage.getItem("jwt_token");if(!e)return g("Authentication token not found. Please login again."),void h(!1);let r=null===c||void 0===c?void 0:c.author;if(!d){const t=async(t,r,n)=>{const a=t.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,20);let l=a,s=1;for(;;)try{const t=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/users?search=").concat(l),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},mode:"cors"});if(t.ok){const e=await t.json();if(!e.some(e=>e.slug===l))break}if(l="".concat(a).concat(s),s++,s>999){l="".concat(a).concat(Date.now().toString().slice(-4));break}}catch(f){console.error("Error checking username:",f),l="".concat(a).concat(Date.now().toString().slice(-4));break}return l},n={username:await t(u.email_address,u.first_name,u.last_name),email:u.email_address,password:"TempPassword123!",first_name:u.first_name,last_name:u.last_name,roles:["editor"]},a=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/users"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n),mode:"cors"});if(!a.ok){const e=await a.json();return g("Failed to create user account: ".concat(e.message||"Unknown error")),void h(!1)}r=(await a.json()).id}let n=null;if(u.tempUploadedFile&&u.tempUploadedFile.isTemporary){console.log("Uploading temporary file:",u.tempUploadedFile.name);try{U(!0),W(0);const t=new FormData;t.append("file",u.tempUploadedFile.file),t.append("title","Document for ".concat(u.first_name||"Borrower"," ").concat(u.last_name||"")),t.append("description","Document upload for borrower profile");const r=setInterval(()=>{W(e=>Math.min(e+10,90))},200),a=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/media"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t,mode:"cors"});if(clearInterval(r),W(100),!a.ok){const e=await a.json();throw new Error(e.message||"Failed to upload document")}{const e=await a.json();console.log("Document uploaded successfully:",e),n=e.id,L(e),m(t=>w(w({},t),{},{tempUploadedFile:null,document_upload:e.id})),y("Document uploaded and saved successfully!")}}catch(t){return console.error("Error uploading document:",t),g("Failed to upload document: ".concat(t.message)),U(!1),void W(0)}finally{U(!1),W(0)}}else u.newUploadedMedia?(n=u.newUploadedMedia.id,L(u.newUploadedMedia)):u.document_upload&&"number"===typeof u.document_upload?n=u.document_upload:d&&_&&(n=_);let a=u.borrower_id;if(d||a)d&&!a&&(a="EV".concat(c.id.toString().padStart(7,"0")));else try{const t=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/borrower-profile?per_page=100&orderby=id&order=desc"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},mode:"cors"});if(t.ok){const e=await t.json();let r=0;e.forEach(e=>{if(e.borrower_id&&e.borrower_id.startsWith("EV")){const t=parseInt(e.borrower_id.substring(2));!isNaN(t)&&t>r&&(r=t)}});a="EV".concat((r+1).toString().padStart(7,"0"))}else a="EV".concat(Date.now().toString().slice(-7))}catch(f){console.error("Error generating borrower ID:",f),a="EV".concat(Date.now().toString().slice(-7))}const l={title:"".concat(u.first_name," ").concat(u.last_name),status:"publish",author:r,first_name:u.first_name,last_name:u.last_name,email_address:u.email_address,borrower_id:a};console.log("Generated Borrower ID:",a),console.log("Borrower Data being sent:",l),l.meta={borrower_id:a},n&&(l.meta.document_upload=n);["date_of_birth","mobile_number","registration_number","home_address","social_link_1","social_link_2","employment_status","work_rights","employer_name","job_title","monthly_income_aud","employment_start_date","employer_phone","employer_email","employer_address","marital_status","family_relationship","family_member_full_name","family_member_phone","family_member_email","bank_name","account_name","bsb_number","account_number","visa_type","visa_expiry_date","document_type","document_number"].forEach(e=>{const t=u[e];null!==t&&void 0!==t&&(l[e]="monthly_income_aud"===e?""===t?"":parseFloat(t)||0:t)}),console.log("Final borrower data before API call:",l),n&&(l.document_upload=n,console.log("Document Media ID being sent:",n));const s=d?"".concat("https://echovault.space/wp-json","/wp/v2/borrower-profile/").concat(c.id):"".concat("https://echovault.space/wp-json","/wp/v2/borrower-profile"),i=d?"PUT":"POST",p=await fetch(s,{method:i,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(l),mode:"cors"}),x=await p.json();if(console.log("API Response:",x),console.log("Response Status:",p.status),console.log("Request Data Sent:",l),p.ok&&x.id){const e=d?"Borrower profile updated successfully!":"Borrower profile created successfully! New user account created for ".concat(u.email_address," with temporary password: TempPassword123!");T(e),P(!0),O(!1);const t=w(w({},u),{},{id:x.id,userId:r});localStorage.setItem("borrower_profile",JSON.stringify(t)),o&&o(t)}else{let e="";e=x.message?x.message:x.code?"Error: ".concat(x.code):400===p.status?"Invalid data provided. Please check your input and try again.":401===p.status?"Authentication failed. Please login again.":403===p.status?"You do not have permission to perform this action.":500===p.status?"Server error. Please try again later.":d?"Failed to update borrower profile. Please try again.":"Failed to create borrower profile. Please try again.",console.error("API Error Details:",{status:p.status,statusText:p.statusText,data:x,url:s,method:i}),g(e)}}catch(t){console.error("Network/Fetch Error:",t),t.message.includes("CORS")||t.message.includes("Access-Control-Allow-Origin")?g("CORS error: Please check if the WordPress backend allows requests from this domain."):t.message.includes("Failed to fetch")?g("Network error: Unable to connect to the server. Please check your internet connection and try again."):"TypeError"===t.name&&t.message.includes("fetch")?g("Connection error: Unable to reach the server. Please check your internet connection."):g("Unexpected error: ".concat(t.message))}finally{h(!1)}},className:"p-6",children:["general"===E&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",id:"first_name",name:"first_name",value:u.first_name,onChange:Q,required:!0,disabled:p,placeholder:"Enter first name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",id:"last_name",name:"last_name",value:u.last_name,onChange:Q,required:!0,disabled:p,placeholder:"Enter last name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsxs)("label",{htmlFor:"email_address",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"email",id:"email_address",name:"email_address",value:u.email_address,onChange:Q,required:!0,disabled:p||d,placeholder:"Enter borrower's email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:d?"Email address cannot be changed after registration as it's linked to the user account.":"Enter the borrower's email address. This will be used to create their WordPress user account and login credentials. Cannot be changed after registration."})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"date_of_birth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,l.jsx)("input",{type:"date",id:"date_of_birth",name:"date_of_birth",value:u.date_of_birth,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"mobile_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,l.jsx)("input",{type:"tel",id:"mobile_number",name:"mobile_number",value:u.mobile_number,onChange:Q,disabled:p,placeholder:"Enter mobile number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"registration_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number"}),(0,l.jsx)("input",{type:"text",id:"registration_number",name:"registration_number",value:u.registration_number,onChange:Q,disabled:p,placeholder:"Enter registration number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"home_address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Home Address"}),(0,l.jsx)("textarea",{id:"home_address",name:"home_address",value:u.home_address,onChange:Q,disabled:p,placeholder:"Enter home address",rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 resize-none"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"social_link_1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Link 1"}),(0,l.jsx)("input",{type:"url",id:"social_link_1",name:"social_link_1",value:u.social_link_1,onChange:Q,disabled:p,placeholder:"https://example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"social_link_2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Link 2"}),(0,l.jsx)("input",{type:"url",id:"social_link_2",name:"social_link_2",value:u.social_link_2,onChange:Q,disabled:p,placeholder:"https://example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]})]}),"visa"===E&&(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"visa_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Visa Type"}),(0,l.jsxs)("select",{id:"visa_type",name:"visa_type",value:u.visa_type,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select visa type"}),(0,l.jsx)("option",{value:"Australian Citizen",children:"Australian Citizen"}),(0,l.jsx)("option",{value:"Permanent Resident",children:"Permanent Resident"}),(0,l.jsx)("option",{value:"Temporary Skill Shortage Visa (Subclass 482)",children:"Temporary Skill Shortage Visa (Subclass 482)"}),(0,l.jsx)("option",{value:"Skilled Independent Visa (Subclass 189)",children:"Skilled Independent Visa (Subclass 189)"}),(0,l.jsx)("option",{value:"Skilled Nominated Visa (Subclass 190)",children:"Skilled Nominated Visa (Subclass 190)"}),(0,l.jsx)("option",{value:"Skilled Work Regional (Provisional) Visa (Subclass 491)",children:"Skilled Work Regional (Provisional) Visa (Subclass 491)"}),(0,l.jsx)("option",{value:"Student Visa (Subclass 500)",children:"Student Visa (Subclass 500)"}),(0,l.jsx)("option",{value:"Graduate Visa (Subclass 485)",children:"Graduate Visa (Subclass 485)"}),(0,l.jsx)("option",{value:"Working Holiday Visa (Subclass 417)",children:"Working Holiday Visa (Subclass 417)"}),(0,l.jsx)("option",{value:"Work and Holiday Visa (Subclass 462)",children:"Work and Holiday Visa (Subclass 462)"}),(0,l.jsx)("option",{value:"Partner Visa (Subclass 820/801)",children:"Partner Visa (Subclass 820/801)"}),(0,l.jsx)("option",{value:"Bridging Visa A",children:"Bridging Visa A"}),(0,l.jsx)("option",{value:"Bridging Visa B",children:"Bridging Visa B"}),(0,l.jsx)("option",{value:"Bridging Visa C",children:"Bridging Visa C"}),(0,l.jsx)("option",{value:"Protection / Humanitarian Visa (Subclass 866)",children:"Protection / Humanitarian Visa (Subclass 866)"}),(0,l.jsx)("option",{value:"Refugee Visa (Subclass 200)",children:"Refugee Visa (Subclass 200)"}),(0,l.jsx)("option",{value:"Tourist Visa (Subclass 600)",children:"Tourist Visa (Subclass 600)"}),(0,l.jsx)("option",{value:"Visitor Visa (Subclass 651)",children:"Visitor Visa (Subclass 651)"}),(0,l.jsx)("option",{value:"Temporary Activity Visa (Subclass 408)",children:"Temporary Activity Visa (Subclass 408)"}),(0,l.jsx)("option",{value:"Business Innovation and Investment Visa (Subclass 188/888)",children:"Business Innovation and Investment Visa (Subclass 188/888)"}),(0,l.jsx)("option",{value:"Employer Nomination Scheme (Subclass 186)",children:"Employer Nomination Scheme (Subclass 186)"}),(0,l.jsx)("option",{value:"Regional Sponsored Migration Scheme (Subclass 187)",children:"Regional Sponsored Migration Scheme (Subclass 187)"}),(0,l.jsx)("option",{value:"Training Visa (Subclass 407)",children:"Training Visa (Subclass 407)"}),(0,l.jsx)("option",{value:"Temporary Graduate Visa (Subclass 485)",children:"Temporary Graduate Visa (Subclass 485)"}),(0,l.jsx)("option",{value:"Temporary Work (Short Stay Specialist) Visa (Subclass 400)",children:"Temporary Work (Short Stay Specialist) Visa (Subclass 400)"}),(0,l.jsx)("option",{value:"Working Holiday Maker (WHM) Extension Visa",children:"Working Holiday Maker (WHM) Extension Visa"}),(0,l.jsx)("option",{value:"Resident Return Visa (Subclass 155/157)",children:"Resident Return Visa (Subclass 155/157)"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"visa_expiry_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Visa Expiry Date"}),(0,l.jsx)("input",{type:"date",id:"visa_expiry_date",name:"visa_expiry_date",value:u.visa_expiry_date,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]})}),"document"===E&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"document_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),(0,l.jsxs)("select",{id:"document_type",name:"document_type",value:u.document_type,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select document type"}),(0,l.jsx)("option",{value:"Passport",children:"Passport"}),(0,l.jsx)("option",{value:"National ID",children:"National ID"}),(0,l.jsx)("option",{value:"Driver License (AUD)",children:"Driver License (AUD)"})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"document_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Number"}),(0,l.jsx)("input",{type:"text",id:"document_number",name:"document_number",value:u.document_number,onChange:Q,disabled:p,placeholder:"Enter document number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),u.document_type&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"document_upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Upload"}),d&&_&&(0,l.jsxs)("div",{className:"mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Current Document:"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:(null===C||void 0===C||null===(t=C.title)||void 0===t?void 0:t.rendered)||(null===C||void 0===C?void 0:C.post_title)||"Document uploaded (ID: ".concat(_,")")}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(null===C||void 0===C?void 0:C.mime_type)||(null===C||void 0===C?void 0:C.post_mime_type)||"File uploaded to media library"})]})]}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),console.log("Eye button clicked in BorrowerProfile, existingMediaDetails:",C),I(!0)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"View Document",children:(0,l.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(null===C||void 0===C?void 0:C.source_url)&&(0,l.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,l.jsxs)("a",{href:C.source_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 hover:text-blue-800 underline font-medium",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in New Tab"]}),(0,l.jsxs)("a",{href:C.source_url,download:!0,className:"inline-flex items-center text-xs text-green-600 hover:text-green-800 underline font-medium",children:[(0,l.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]})]})]}),H&&(0,l.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-200 border-t-blue-600 mr-2"}),(0,l.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Uploading document..."})]}),(0,l.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(V,"%")}})}),(0,l.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:[V,"% complete"]})]}),u.tempUploadedFile&&u.tempUploadedFile.isTemporary&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-green-700",children:"File selected! Click Update to upload and save."}),(0,l.jsxs)("div",{className:"mt-1 text-xs text-gray-600",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Name:"})," ",u.tempUploadedFile.name]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Type:"})," ",u.tempUploadedFile.type]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Size:"})," ",(u.tempUploadedFile.size/1024).toFixed(1)," KB"]})]})]})]}),(0,l.jsx)("button",{type:"button",onClick:()=>{m(e=>w(w({},e),{},{tempUploadedFile:null,document_upload:null})),y("")},className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Remove Selected File",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),q&&C&&C.isTemporary&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-green-700",children:"File uploaded successfully! Click Update to save to borrower profile."}),(0,l.jsxs)("div",{className:"mt-1 text-xs text-gray-600",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Name:"})," ",(null===(r=C.title)||void 0===r?void 0:r.rendered)||C.post_title||"Document"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Type:"})," ",C.mime_type||"Unknown"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Size:"})," ",null!==(a=C.media_details)&&void 0!==a&&a.filesize?"".concat((C.media_details.filesize/1024).toFixed(1)," KB"):"Unknown"]})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>I(!0),className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"View Document",children:(0,l.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,l.jsx)("button",{type:"button",onClick:()=>{m(e=>w(w({},e),{},{document_upload:null})),L(null),$(!1),y(""),g(""),O(!0)},className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Delete Document",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[(0,l.jsx)("input",{type:"file",id:"document_upload",name:"document_upload",onChange:Q,disabled:p,accept:".pdf,.jpg,.jpeg,.png,.gif",className:"hidden"}),(0,l.jsxs)("label",{htmlFor:"document_upload",className:"cursor-pointer",children:[(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,l.jsx)("span",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Click to upload"})," or drag and drop"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:d?"Leave empty to keep current document, or upload a new one to replace it":"PDF, JPG, PNG, DOC, DOCX (MAX. 5MB)"})]})]})]})]}),"employment"===E&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"employment_status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Status"}),(0,l.jsxs)("select",{id:"employment_status",name:"employment_status",value:u.employment_status,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select employment status"}),(0,l.jsx)("option",{value:"Employed (Full-Time)",children:"Employed (Full-Time)"}),(0,l.jsx)("option",{value:"Employed (Part-Time)",children:"Employed (Part-Time)"}),(0,l.jsx)("option",{value:"Self-Employed",children:"Self-Employed"}),(0,l.jsx)("option",{value:"Unemployed",children:"Unemployed"}),(0,l.jsx)("option",{value:"Student",children:"Student"}),(0,l.jsx)("option",{value:"Retired",children:"Retired"}),(0,l.jsx)("option",{value:"Contract / Temporary",children:"Contract / Temporary"}),(0,l.jsx)("option",{value:"Casual / On-Call",children:"Casual / On-Call"}),(0,l.jsx)("option",{value:"Homemaker / Carer",children:"Homemaker / Carer"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"work_rights",className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Rights"}),(0,l.jsxs)("select",{id:"work_rights",name:"work_rights",value:u.work_rights,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select work rights"}),(0,l.jsx)("option",{value:"Full-time Work Rights",children:"Full-time Work Rights"}),(0,l.jsx)("option",{value:"Part-time Work Rights",children:"Part-time Work Rights"}),(0,l.jsx)("option",{value:"Casual Work Rights",children:"Casual Work Rights"}),(0,l.jsx)("option",{value:"Limited Work Rights (20 hrs/week)",children:"Limited Work Rights (20 hrs/week)"}),(0,l.jsx)("option",{value:"Restricted Student Visa Work Rights",children:"Restricted Student Visa Work Rights"}),(0,l.jsx)("option",{value:"Working Holiday Visa (6-month limit per employer)",children:"Working Holiday Visa (6-month limit per employer)"}),(0,l.jsx)("option",{value:"No Work Rights",children:"No Work Rights"}),(0,l.jsx)("option",{value:"Awaiting Visa Approval (Bridging)",children:"Awaiting Visa Approval (Bridging)"}),(0,l.jsx)("option",{value:"Permanent Full Work Rights",children:"Permanent Full Work Rights"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"employer_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Name"}),(0,l.jsx)("input",{type:"text",id:"employer_name",name:"employer_name",value:u.employer_name,onChange:Q,disabled:p,placeholder:"Enter employer name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"job_title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title"}),(0,l.jsx)("input",{type:"text",id:"job_title",name:"job_title",value:u.job_title,onChange:Q,disabled:p,placeholder:"Enter job title",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"monthly_income_aud",className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Income (AUD)"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,l.jsx)("input",{type:"number",id:"monthly_income_aud",name:"monthly_income_aud",value:u.monthly_income_aud,onChange:Q,disabled:p,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"employment_start_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Start Date"}),(0,l.jsx)("input",{type:"date",id:"employment_start_date",name:"employment_start_date",value:u.employment_start_date,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"employer_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Phone"}),(0,l.jsx)("input",{type:"tel",id:"employer_phone",name:"employer_phone",value:u.employer_phone,onChange:Q,disabled:p,placeholder:"Enter employer phone number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"employer_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Email"}),(0,l.jsx)("input",{type:"email",id:"employer_email",name:"employer_email",value:u.employer_email,onChange:Q,disabled:p,placeholder:"Enter employer email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"employer_address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Employer Address"}),(0,l.jsx)("textarea",{id:"employer_address",name:"employer_address",value:u.employer_address,onChange:Q,disabled:p,rows:3,placeholder:"Enter employer address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),"family"===E&&(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"marital_status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Marital Status"}),(0,l.jsxs)("select",{id:"marital_status",name:"marital_status",value:u.marital_status,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select marital status"}),(0,l.jsx)("option",{value:"Single",children:"Single"}),(0,l.jsx)("option",{value:"Married",children:"Married"}),(0,l.jsx)("option",{value:"De Facto Relationship",children:"De Facto Relationship"}),(0,l.jsx)("option",{value:"Separated",children:"Separated"}),(0,l.jsx)("option",{value:"Divorced",children:"Divorced"}),(0,l.jsx)("option",{value:"Widowed",children:"Widowed"}),(0,l.jsx)("option",{value:"Engaged",children:"Engaged"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"family_relationship",className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Relationship"}),(0,l.jsxs)("select",{id:"family_relationship",name:"family_relationship",value:u.family_relationship,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select family relationship"}),(0,l.jsx)("option",{value:"Father",children:"Father"}),(0,l.jsx)("option",{value:"Mother",children:"Mother"}),(0,l.jsx)("option",{value:"Husband",children:"Husband"}),(0,l.jsx)("option",{value:"Wife",children:"Wife"}),(0,l.jsx)("option",{value:"Son",children:"Son"}),(0,l.jsx)("option",{value:"Daughter",children:"Daughter"}),(0,l.jsx)("option",{value:"Brother",children:"Brother"}),(0,l.jsx)("option",{value:"Sister",children:"Sister"}),(0,l.jsx)("option",{value:"Grandfather",children:"Grandfather"}),(0,l.jsx)("option",{value:"Grandmother",children:"Grandmother"}),(0,l.jsx)("option",{value:"Grandson",children:"Grandson"}),(0,l.jsx)("option",{value:"Granddaughter",children:"Granddaughter"}),(0,l.jsx)("option",{value:"Uncle",children:"Uncle"}),(0,l.jsx)("option",{value:"Aunt",children:"Aunt"}),(0,l.jsx)("option",{value:"Cousin",children:"Cousin"}),(0,l.jsx)("option",{value:"Nephew",children:"Nephew"}),(0,l.jsx)("option",{value:"Niece",children:"Niece"}),(0,l.jsx)("option",{value:"Partner",children:"Partner"}),(0,l.jsx)("option",{value:"Fianc\xe9 / Fianc\xe9e",children:"Fianc\xe9 / Fianc\xe9e"}),(0,l.jsx)("option",{value:"De Facto Partner",children:"De Facto Partner"}),(0,l.jsx)("option",{value:"Guardian",children:"Guardian"}),(0,l.jsx)("option",{value:"Child",children:"Child"}),(0,l.jsx)("option",{value:"Parent",children:"Parent"}),(0,l.jsx)("option",{value:"Relative",children:"Relative"}),(0,l.jsx)("option",{value:"Friend",children:"Friend"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"family_member_full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member Full Name"}),(0,l.jsx)("input",{type:"text",id:"family_member_full_name",name:"family_member_full_name",value:u.family_member_full_name,onChange:Q,disabled:p,placeholder:"Enter family member's full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"family_member_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member Phone"}),(0,l.jsx)("input",{type:"tel",id:"family_member_phone",name:"family_member_phone",value:u.family_member_phone,onChange:Q,disabled:p,placeholder:"Enter family member's phone number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{htmlFor:"family_member_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Family Member Email"}),(0,l.jsx)("input",{type:"email",id:"family_member_email",name:"family_member_email",value:u.family_member_email,onChange:Q,disabled:p,placeholder:"Enter family member's email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]}),"bank"===E&&(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"bank_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),(0,l.jsxs)("select",{id:"bank_name",name:"bank_name",value:u.bank_name,onChange:Q,disabled:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50",children:[(0,l.jsx)("option",{value:"",children:"Select bank"}),(0,l.jsx)("option",{value:"ANZ (Australia and New Zealand Banking Group)",children:"ANZ (Australia and New Zealand Banking Group)"}),(0,l.jsx)("option",{value:"Commonwealth Bank of Australia (CBA)",children:"Commonwealth Bank of Australia (CBA)"}),(0,l.jsx)("option",{value:"Westpac Banking Corporation",children:"Westpac Banking Corporation"}),(0,l.jsx)("option",{value:"National Australia Bank (NAB)",children:"National Australia Bank (NAB)"}),(0,l.jsx)("option",{value:"Macquarie Bank",children:"Macquarie Bank"}),(0,l.jsx)("option",{value:"AMP Bank",children:"AMP Bank"}),(0,l.jsx)("option",{value:"Bank of Queensland (BOQ)",children:"Bank of Queensland (BOQ)"}),(0,l.jsx)("option",{value:"Bendigo Bank",children:"Bendigo Bank"}),(0,l.jsx)("option",{value:"Suncorp Bank",children:"Suncorp Bank"}),(0,l.jsx)("option",{value:"ING Bank (Australia)",children:"ING Bank (Australia)"}),(0,l.jsx)("option",{value:"HSBC Bank Australia",children:"HSBC Bank Australia"}),(0,l.jsx)("option",{value:"Citibank Australia",children:"Citibank Australia"}),(0,l.jsx)("option",{value:"Bankwest",children:"Bankwest"}),(0,l.jsx)("option",{value:"ME Bank (Members Equity Bank)",children:"ME Bank (Members Equity Bank)"}),(0,l.jsx)("option",{value:"UBank",children:"UBank"}),(0,l.jsx)("option",{value:"Virgin Money Australia",children:"Virgin Money Australia"}),(0,l.jsx)("option",{value:"Bank Australia",children:"Bank Australia"}),(0,l.jsx)("option",{value:"Heritage Bank",children:"Heritage Bank"}),(0,l.jsx)("option",{value:"Greater Bank",children:"Greater Bank"}),(0,l.jsx)("option",{value:"Newcastle Permanent",children:"Newcastle Permanent"}),(0,l.jsx)("option",{value:"People's Choice Credit Union",children:"People's Choice Credit Union"}),(0,l.jsx)("option",{value:"Beyond Bank Australia",children:"Beyond Bank Australia"}),(0,l.jsx)("option",{value:"Defence Bank",children:"Defence Bank"}),(0,l.jsx)("option",{value:"P&N Bank",children:"P&N Bank"}),(0,l.jsx)("option",{value:"Hume Bank",children:"Hume Bank"}),(0,l.jsx)("option",{value:"Teachers Mutual Bank",children:"Teachers Mutual Bank"}),(0,l.jsx)("option",{value:"Australian Military Bank",children:"Australian Military Bank"}),(0,l.jsx)("option",{value:"Police Bank",children:"Police Bank"}),(0,l.jsx)("option",{value:"Australian Unity Bank",children:"Australian Unity Bank"}),(0,l.jsx)("option",{value:"Bank of Sydney",children:"Bank of Sydney"}),(0,l.jsx)("option",{value:"BankSA",children:"BankSA"}),(0,l.jsx)("option",{value:"Bank of Melbourne",children:"Bank of Melbourne"}),(0,l.jsx)("option",{value:"RACQ Bank",children:"RACQ Bank"}),(0,l.jsx)("option",{value:"Gateway Bank",children:"Gateway Bank"}),(0,l.jsx)("option",{value:"Judo Bank",children:"Judo Bank"}),(0,l.jsx)("option",{value:"Volt Bank",children:"Volt Bank"}),(0,l.jsx)("option",{value:"Up Bank",children:"Up Bank"}),(0,l.jsx)("option",{value:"Alex Bank",children:"Alex Bank"}),(0,l.jsx)("option",{value:"86400 Bank",children:"86400 Bank"}),(0,l.jsx)("option",{value:"Revolut Australia",children:"Revolut Australia"}),(0,l.jsx)("option",{value:"Wise (formerly TransferWise)",children:"Wise (formerly TransferWise)"}),(0,l.jsx)("option",{value:"PayID / Osko (NPP)",children:"PayID / Osko (NPP)"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"account_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name"}),(0,l.jsx)("input",{type:"text",id:"account_name",name:"account_name",value:u.account_name,onChange:Q,disabled:p,placeholder:"Enter account holder name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"bsb_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"BSB Number"}),(0,l.jsx)("input",{type:"text",id:"bsb_number",name:"bsb_number",value:u.bsb_number,onChange:Q,disabled:p,placeholder:"000000",maxLength:"6",pattern:"[0-9]{6}",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),(0,l.jsx)("input",{type:"text",id:"account_number",name:"account_number",value:u.account_number,onChange:Q,disabled:p,placeholder:"Enter account number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50"})]})]})}),f&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2 mb-6",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsx)("p",{className:"text-red-700 text-sm",children:f})]}),b&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-2 mb-6",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("p",{className:"text-green-700 text-sm",children:b})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[(0,l.jsxs)("button",{type:"submit",disabled:p,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[p&&(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:p?d?"Updating Profile...":"Creating Profile...":d?"Update Borrower Profile":"Create Borrower Profile"})]}),(0,l.jsx)("button",{type:"button",onClick:()=>{F?B(!0):i()},className:"w-full sm:w-auto bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium",children:"Cancel"})]})]})]}),(0,l.jsx)(N,{isOpen:A,onClose:()=>B(!1),onConfirm:()=>{B(!1),O(!1),i()},title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to leave without saving?",confirmText:"Leave Without Saving",cancelText:"Continue Editing",type:"warning"}),(0,l.jsx)(k,{isVisible:z,onClose:()=>P(!1),message:D,type:"success",autoClose:!0,duration:5e3}),(0,l.jsx)(x,{isOpen:R,onClose:()=>I(!1),documentData:C})]})},S=e=>{let{currentView:t,borrowers:r,selectedBorrower:n,onSelectBorrower:a,onCreateNew:s,onEdit:o,onBack:i,loading:c,error:d}=e;return"dashboard"===t?(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Dashboard Overview"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Welcome to your loan management system"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Borrowers"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Applications"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"$0"})]})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:"View All Borrowers"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Manage borrower profiles"})]})]})}),(0,l.jsx)("button",{onClick:s,className:"w-full flex items-center justify-between p-3 bg-green-50 hover:bg-green-100 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:"Create New Profile"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Add a new borrower"})]})]})})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Backend Connection"}),(0,l.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Connected"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Database"}),(0,l.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Online"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"File Storage"}),(0,l.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Available"})]})]})]})]})]}):"borrowers"===t?(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(f,{borrowers:r,loading:c,error:d,onSelectBorrower:a,onCreateNew:s})}):"borrower-detail"===t&&n?(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(g,{borrower:n,onBack:i,onEdit:o})}):"create-borrower"===t||"edit-borrower"===t?(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"edit-borrower"===t?"Edit Borrower Profile":"Create New Borrower Profile"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Create or update borrower information"})]}),(0,l.jsx)(_,{editingBorrower:"edit-borrower"===t?n:null,isEditing:"edit-borrower"===t,onCancel:i})]}):"reports"===t?(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reports"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Generate and view system reports and analytics"})]}),(0,l.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Generate Report"})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reports found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by generating your first report. This will help you analyze loan data, track performance, and monitor system metrics."}),(0,l.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Generate First Report"})]})]})]}):"settings"===t?(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Configure system settings and preferences"})]}),(0,l.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Add Setting"})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No settings configured"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by configuring your first system setting. This will help you customize the application behavior and preferences."}),(0,l.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Configure First Setting"})]})]})]}):null},C=e=>{let{onCreateNew:t,setCurrentView:r}=e;const n=e=>{let{title:t,subtitle:r,onClick:n,icon:a}=e;return(0,l.jsxs)("button",{onClick:n,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-left hover:shadow transition flex items-start gap-4 w-full",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500",children:a}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:t}),(0,l.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:r})]})]})};return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loans"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage and view loan applications and approvals"})]}),(0,l.jsxs)("button",{onClick:()=>r("loans-create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create New Loan"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsx)(n,{title:"Loans",subtitle:"View and manage currently active loans.",onClick:()=>r("loans-active"),icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 10h18M7 15h10M5 19h14M7 6h10M12 3v3"})})}),(0,l.jsx)(n,{title:"Loan Requests",subtitle:"Review and process incoming loan requests.",onClick:()=>r("loan-requests"),icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,l.jsx)(n,{title:"Loan Calculator",subtitle:"Estimate repayments and terms.",onClick:()=>r("loan-calculator"),icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h10M7 11h10M9 15h6M9 19h6"})})})]})})]})},L="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===e||void 0===e?t:"string"===typeof e||"number"===typeof e||"boolean"===typeof e?e:Array.isArray(e)?E(e[0],t):e&&"object"===typeof e&&"rendered"in e?E(e.rendered,t):t},M=e=>{if(null===e||void 0===e)return"";if("number"===typeof e||"string"===typeof e)return String(e);if(Array.isArray(e))return M(e[0]);if("object"===typeof e){if("id"in e)return String(e.id);if("ID"in e)return String(e.ID)}return""},A=e=>{let{token:t,setCurrentView:r}=e;const[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),[f,x]=(0,n.useState)([]),[g,b]=(0,n.useState)(""),[y,v]=(0,n.useState)("all"),[j,w]=(0,n.useState)("all"),[N,k]=(0,n.useState)("all"),[_,S]=(0,n.useState)(10),[C,A]=(0,n.useState)(1);(0,n.useEffect)(()=>{if(!t)return;(async()=>{i(!0),d("");try{const[e,r,n,a]=await Promise.all([fetch("".concat(L,"/wp/v2/loans?per_page=100&status=publish,draft&context=edit"),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"}),fetch("".concat(L,"/wp/v2/loan-product?per_page=100&context=edit&status=publish,draft"),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"}),fetch("".concat(L,"/wp/v2/bank-account-system?per_page=100&status=publish,draft"),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"}),fetch("".concat(L,"/wp/v2/borrower-profile?per_page=100&context=edit"),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"})]);if(!e.ok)throw new Error("Failed to fetch loans");if(!r.ok)throw new Error("Failed to fetch products");if(!n.ok)throw new Error("Failed to fetch accounts");if(!a.ok)throw new Error("Failed to fetch borrowers");const[l,o,i,c]=await Promise.all([e.json(),r.json(),n.json(),a.json()]);s(l||[]),m(o||[]),h(i||[]),x(c||[])}catch(e){d(e.message||"Failed to load loans")}finally{i(!1)}})()},[t]);const B=(0,n.useMemo)(()=>{const e=new Map;return(u||[]).forEach(t=>{const r=t.id,n=t.product_name||t.title&&t.title.rendered||"";r&&n&&e.set(String(r),String(n))}),e},[u]),z=(0,n.useMemo)(()=>{const e=new Map;return(u||[]).forEach(t=>{const r=t.id,n=(Array.isArray(t.currency)?t.currency[0]:t.currency)||"AUD";r&&n&&e.set(String(r),String(n))}),e},[u]),P=((0,n.useMemo)(()=>{const e=new Map;return(p||[]).forEach(t=>{const r=t.id,n="Australia"===(Array.isArray(t.account_type)?t.account_type[0]:t.account_type)?Array.isArray(t.bank_name_au)?t.bank_name_au[0]:t.bank_name_au:Array.isArray(t.bank_name_mn)?t.bank_name_mn[0]:t.bank_name_mn;r&&e.set(String(r),{bank:n||"",name:t.account_name||""})}),e},[p]),(0,n.useMemo)(()=>{const e=new Map;return(f||[]).forEach(t=>{const r=[E(t.first_name),E(t.last_name)].filter(Boolean).join(" ");e.set(String(t.id),{name:r,email:E(t.email_address),phone:E(t.mobile_number)})}),e},[f])),D=(0,n.useMemo)(()=>{const e=g.trim().toLowerCase();let t=a.slice();return"all"!==y&&(t=t.filter(e=>E(e.status,"").toLowerCase()===y)),"all"!==j&&(t=t.filter(e=>{var t,r;const n=E(null===(t=e.meta)||void 0===t?void 0:t.loan_product_name)||E(e.loan_product)||E(null===(r=e.meta)||void 0===r?void 0:r.loan_product),a=n?String(n):"",l=B.get(String(n))||a;return l&&String(l).toLowerCase()===String(j).toLowerCase()})),"all"!==N&&(t=t.filter(e=>{var t;const r=E(e.loan_currency)||E(null===(t=e.meta)||void 0===t?void 0:t.loan_currency)||"";return String(r).toLowerCase()===String(N).toLowerCase()})),e&&(t=t.filter(t=>{var r,n,a,l,s,o,i,c,d,u;const m=(E(t.loan_id)||E(null===(r=t.meta)||void 0===r?void 0:r.loan_id)||"").toLowerCase(),p=E(null===(n=t.meta)||void 0===n?void 0:n.loan_product_name)||E(t.loan_product)||E(null===(a=t.meta)||void 0===a?void 0:a.loan_product),h=(B.get(String(p))||p||"").toLowerCase(),f=(E(t.loan_currency)||E(null===(l=t.meta)||void 0===l?void 0:l.loan_currency)||"").toLowerCase(),x=M(null===(s=t.meta)||void 0===s?void 0:s.borrower_id)||M(t.borrower)||M(null===(o=t.meta)||void 0===o?void 0:o.borrower)||M(null===(i=t.meta)||void 0===i?void 0:i.borrower_profile),g=x?P.get(String(x)):null,b=((null===g||void 0===g?void 0:g.name)||E(t.borrower_name)||E(null===(c=t.meta)||void 0===c?void 0:c.borrower_name)||"").toLowerCase(),y=((null===g||void 0===g?void 0:g.email)||E(t.borrower_email)||E(null===(d=t.meta)||void 0===d?void 0:d.borrower_email)||"").toLowerCase(),v=((null===g||void 0===g?void 0:g.phone)||E(t.borrower_phone)||E(null===(u=t.meta)||void 0===u?void 0:u.borrower_phone)||"").toLowerCase();return m.includes(e)||h.includes(e)||f.includes(e)||b.includes(e)||y.includes(e)||v.includes(e)})),t},[a,g,y,j,N,B,P]),T=(0,n.useMemo)(()=>{const e=new Set;return a.forEach(t=>{var r;const n=E(t.loan_currency)||E(null===(r=t.meta)||void 0===r?void 0:r.loan_currency);n&&e.add(String(n))}),Array.from(e)},[a]),F=(0,n.useMemo)(()=>{const e=new Set;return u.forEach(t=>{var r;const n=t.product_name||(null===(r=t.title)||void 0===r?void 0:r.rendered);n&&e.add(String(n))}),Array.from(e)},[u]),O=Math.max(1,Math.ceil(D.length/_)),R=Math.min(C,O),I=(0,n.useMemo)(()=>{const e=(R-1)*_;return D.slice(e,e+_)},[D,R,_]);return o?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsxs)("svg",{className:"animate-spin h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading loans..."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please wait while we fetch loans."})]}):c?(0,l.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}):a&&0!==a.length?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Loans"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("input",{type:"text",value:g,onChange:e=>{b(e.target.value),A(1)},className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by loan ID, borrower, email, phone, product, currency"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),(0,l.jsxs)("select",{value:y,onChange:e=>{v(e.target.value),A(1)},className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"all",children:"All Statuses"}),(0,l.jsx)("option",{value:"publish",children:"Published"}),(0,l.jsx)("option",{value:"draft",children:"Draft"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Product"}),(0,l.jsxs)("select",{value:j,onChange:e=>{w(e.target.value),A(1)},className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"all",children:"All Products"}),F.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Currency"}),(0,l.jsxs)("select",{value:N,onChange:e=>{k(e.target.value),A(1)},className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"all",children:"All Currencies"}),T.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200 text-sm text-gray-600",children:[(0,l.jsxs)("div",{children:["Showing ",0===D.length?"0":(R-1)*_+1,"-",Math.min(R*_,D.length)," of ",D.length," loans",(g||"all"!==y||"all"!==j||"all"!==N)&&(0,l.jsx)("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(g||"all"!==y||"all"!==j||"all"!==N)&&(0,l.jsx)("button",{onClick:()=>{b(""),v("all"),w("all"),k("all"),A(1)},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear all filters"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan ID"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Borrower"}),(0,l.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>{var t,n,a,s,o,i,c,d,u,m,p,h,f,x,g;const b=E(e.loan_id)||E(null===(t=e.meta)||void 0===t?void 0:t.loan_id)||E(null===(n=e.title)||void 0===n?void 0:n.rendered,"-");let y=E(e.loan_currency)||E(null===(a=e.meta)||void 0===a?void 0:a.loan_currency)||"";const v=E(e.loan_amount)||E(null===(s=e.meta)||void 0===s?void 0:s.loan_amount)||0,j=Number(v)||0,w=(E(e.loan_status)||E(null===(o=e.meta)||void 0===o?void 0:o.loan_status)||E(e.status,"")).toString(),N=w.toLowerCase();let k="Unknown";k="publish"===N?"Active":"draft"===N?"Draft":["pending","active","inactive","closed","rejected"].includes(N)?N.charAt(0).toUpperCase()+N.slice(1):w?w.charAt(0).toUpperCase()+w.slice(1):"-";const _=/^active$/i.test(k)?"bg-green-100 text-green-800":/^pending$/i.test(k)?"bg-blue-100 text-blue-800":/^rejected$/i.test(k)?"bg-red-100 text-red-800":/^inactive$/i.test(k)?"bg-gray-200 text-gray-800":/^closed$/i.test(k)?"bg-purple-100 text-purple-800":/^draft$/i.test(k)?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";let S=E(null===(i=e.meta)||void 0===i?void 0:i.loan_product_name);if(!S){var C;const t=E(e.loan_product)||E(null===(C=e.meta)||void 0===C?void 0:C.loan_product);if(t){if(S=B.get(String(t))||t,!y){const e=z.get(String(t));e&&(y=e)}}}S||(S="-");E(e.date)||(new Date).toISOString();let L=E(e.borrower_name)||E(null===(c=e.meta)||void 0===c?void 0:c.borrower_name)||"";const A=E(e.borrower_email)||E(null===(d=e.meta)||void 0===d?void 0:d.borrower_email)||"",D=E(e.borrower_phone)||E(null===(u=e.meta)||void 0===u?void 0:u.borrower_phone)||"",T=M(null===(m=e.meta)||void 0===m?void 0:m.borrower_id)||M(e.borrower)||M(null===(p=e.meta)||void 0===p?void 0:p.borrower)||M(null===(h=e.meta)||void 0===h?void 0:h.borrower_profile);let F=null;if(L?F={name:L,email:A,phone:D}:T&&(F=P.get(String(T))||null),!F){var O,R;const t=A,r=D,n=[E(null===(O=e.meta)||void 0===O?void 0:O.borrower_first_name)||E(e.borrower_first_name)||"",E(null===(R=e.meta)||void 0===R?void 0:R.borrower_last_name)||E(e.borrower_last_name)||""].filter(Boolean).join(" ");(n||t||r)&&(F={name:n,email:t,phone:r})}const I=E(e.loan_term)||E(null===(f=e.meta)||void 0===f?void 0:f.loan_term)||"",V=E(e.repayment_method)||E(null===(x=e.meta)||void 0===x?void 0:x.repayment_method)||"",W=E(e.repayment_frequency)||E(null===(g=e.meta)||void 0===g?void 0:g.repayment_frequency)||"";return(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:b}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:F.name||"-"}),(0,l.jsx)("div",{className:"text-gray-500 text-xs",children:F.email||"-"}),(0,l.jsx)("div",{className:"text-gray-500 text-xs",children:F.phone||"-"})]}):"-"}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:[(H=y,"MNT"===H?"\u20ae":"$"),j]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:E(y,"-")}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I||"-"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V||"-"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W||"-"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,l.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(_),children:k})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,l.jsx)("button",{onClick:()=>r({view:"loan-detail",loanId:e.id}),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:"View Details"})})]},e.id);var H})})]})}),(0,l.jsxs)("div",{className:"px-4 py-3 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,l.jsx)("span",{children:"Rows per page:"}),(0,l.jsx)("select",{value:_,onChange:e=>{S(Number(e.target.value)),A(1)},className:"px-2 py-1 border border-gray-300 rounded",children:[10,25,50].map(e=>(0,l.jsx)("option",{value:e,children:e},e))}),(0,l.jsxs)("span",{children:[0===D.length?"0":(R-1)*_+1,"-",Math.min(R*_,D.length)," of ",D.length]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===R,className:"px-2 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Prev"}),Array.from({length:O}).slice(0,5).map((e,t)=>{const r=t+1;return(0,l.jsx)("button",{onClick:()=>A(r),className:"px-2 py-1 border border-gray-300 rounded ".concat(R===r?"bg-blue-50 border-blue-300 text-blue-700":""),children:r},r)}),(0,l.jsx)("button",{onClick:()=>A(e=>Math.min(O,e+1)),disabled:R===O,className:"px-2 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]}):(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 10h18M7 15h10M5 19h14M7 6h10M12 3v3"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No loans yet"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Create a loan to see it listed here."})]})},B="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",z=e=>"MNT"===e?"\u20ae":"$",P=["Summary","Repayment Schedule","Bank Statements","Collateral","Contract","Note","Settings"],D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===e||void 0===e?t:"string"===typeof e||"number"===typeof e||"boolean"===typeof e?e:Array.isArray(e)?D(e[0],t):e&&"object"===typeof e&&"rendered"in e?D(e.rendered,t):t},T=e=>{if(null===e||void 0===e)return"";if("number"===typeof e||"string"===typeof e)return String(e);if(Array.isArray(e))return T(e[0]);if("object"===typeof e){if("id"in e)return String(e.id);if("ID"in e)return String(e.ID)}return""},F=e=>{var t,r,a,s,o,i,c,d,u,m,p,h,f,x,g,b,y,v,j,w,N,k,_,S,C,L,E,M,A,F,O,R,I,V,W;let{token:H,loanId:U,onBack:q,onOpenBorrower:$}=e;const[G,Q]=(0,n.useState)("Summary"),[Y,J]=(0,n.useState)(null),[K,X]=(0,n.useState)(null),[Z,ee]=(0,n.useState)(null),[te,re]=(0,n.useState)(null),[ne,ae]=(0,n.useState)(!1),[le,se]=(0,n.useState)(""),[oe,ie]=(0,n.useState)([]),[ce,de]=(0,n.useState)(null),[ue,me]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(H&&U){ae(!0),se("");try{var e,t,r,n,a,l,s,o,i,c,d,u,m,p,h,f,x,g,b,y,v;const W={Authorization:"Bearer ".concat(H)},q=await fetch("".concat(B,"/wp/v2/loans/").concat(U,"?context=edit"),{headers:W,mode:"cors"});if(!q.ok)throw new Error("Failed to load loan");const $=await q.json();J($);const G=null===(e=$.meta)||void 0===e?void 0:e.loan_product_id;if(G){const e=await fetch("".concat(B,"/wp/v2/loan-product/").concat(G,"?context=edit"),{headers:W,mode:"cors"});e.ok&&X(await e.json())}let Q=T(null===(t=$.meta)||void 0===t?void 0:t.borrower_id)||T($.borrower)||T(null===(r=$.meta)||void 0===r?void 0:r.borrower)||T(null===(n=$.meta)||void 0===n?void 0:n.borrower_profile);var j,w,N,k,_,S,C,L;if(Q||(Q=T(null===(j=$.fields)||void 0===j?void 0:j.borrower_id)||T(null===(w=$.acf)||void 0===w?void 0:w.borrower_id)||T(null===(N=$.fields)||void 0===N?void 0:N.borrower)||T(null===(k=$.acf)||void 0===k?void 0:k.borrower)),Q||!$.borrower||"object"!==typeof $.borrower||Array.isArray($.borrower)||(Q=T($.borrower.id)||T($.borrower.ID)),console.log("LoansDetail: Extracted borrower ID:",Q,"from loan:",{meta_borrower_id:null===(a=$.meta)||void 0===a?void 0:a.borrower_id,borrower:$.borrower,meta_borrower:null===(l=$.meta)||void 0===l?void 0:l.borrower,meta_borrower_profile:null===(s=$.meta)||void 0===s?void 0:s.borrower_profile,fields_borrower_id:null===(o=$.fields)||void 0===o?void 0:o.borrower_id,acf_borrower_id:null===(i=$.acf)||void 0===i?void 0:i.borrower_id,full_meta:$.meta}),Q)try{const e=await fetch("".concat(B,"/wp/v2/borrower-profile/").concat(Q,"?context=edit"),{headers:W,mode:"cors"});if(e.ok){const t=await e.json();console.log("LoansDetail: Successfully fetched borrower:",t),ee(t)}else{var E,M,A,z;const t=await e.text();console.error("LoansDetail: Failed to fetch borrower profile:",e.status,e.statusText,t),console.log("LoansDetail: Loan has borrower meta fields:",{borrower_first_name:null===(E=$.meta)||void 0===E?void 0:E.borrower_first_name,borrower_last_name:null===(M=$.meta)||void 0===M?void 0:M.borrower_last_name,borrower_email:null===(A=$.meta)||void 0===A?void 0:A.borrower_email,borrower_phone:null===(z=$.meta)||void 0===z?void 0:z.borrower_phone,borrower_name:$.borrower_name})}}catch(I){var P,F,O,R;console.error("LoansDetail: Error fetching borrower profile:",I),console.log("LoansDetail: Loan has borrower meta fields:",{borrower_first_name:null===(P=$.meta)||void 0===P?void 0:P.borrower_first_name,borrower_last_name:null===(F=$.meta)||void 0===F?void 0:F.borrower_last_name,borrower_email:null===(O=$.meta)||void 0===O?void 0:O.borrower_email,borrower_phone:null===(R=$.meta)||void 0===R?void 0:R.borrower_phone,borrower_name:$.borrower_name})}else console.warn("LoansDetail: No borrower ID found in loan data. Loan meta:",$.meta),console.log("LoansDetail: Checking for borrower info in loan directly:",{borrower_name:$.borrower_name,borrower_first_name:null===(_=$.meta)||void 0===_?void 0:_.borrower_first_name,borrower_last_name:null===(S=$.meta)||void 0===S?void 0:S.borrower_last_name,borrower_email:null===(C=$.meta)||void 0===C?void 0:C.borrower_email,borrower_phone:null===(L=$.meta)||void 0===L?void 0:L.borrower_phone});const Y=D($.co_borrower_status)||D(null===(c=$.meta)||void 0===c?void 0:c.co_borrower_status),K=T(null===(d=$.meta)||void 0===d?void 0:d.co_borrower_id)||T($.co_borrower)||T(null===(u=$.meta)||void 0===u?void 0:u.co_borrower);if(Y&&/^yes$/i.test(String(Y))&&K){const e=await fetch("".concat(B,"/wp/v2/borrower-profile/").concat(K,"?context=edit"),{headers:W,mode:"cors"});e.ok&&re(await e.json())}const Z=(null===(m=$.meta)||void 0===m?void 0:m.bank_statement)||(null===(p=$.fields)||void 0===p?void 0:p.bank_statement)||(null===(h=$.acf)||void 0===h?void 0:h.bank_statement)||$.bank_statement;let te=[];if(Array.isArray(Z))te=Z.map(T).filter(Boolean);else if("string"===typeof Z)try{const e=JSON.parse(Z);Array.isArray(e)&&(te=e.map(T).filter(Boolean))}catch(V){te=Z.split(",").map(e=>e.trim()).map(T).filter(Boolean)}else"number"===typeof Z&&(te=[String(Z)]);if(te.length){const e=[];for(const t of te){const r=await fetch("".concat(B,"/wp/v2/media/").concat(t),{headers:W,mode:"cors"});r.ok&&e.push(await r.json())}ie(e)}const ne=T((null===(f=$.meta)||void 0===f?void 0:f.collateral)||(null===(x=$.fields)||void 0===x?void 0:x.collateral)||(null===(g=$.acf)||void 0===g?void 0:g.collateral)||$.collateral);if(ne){const e=await fetch("".concat(B,"/wp/v2/media/").concat(ne),{headers:W,mode:"cors"});e.ok&&de(await e.json())}const ae=T((null===(b=$.meta)||void 0===b?void 0:b.loan_contract)||(null===(y=$.fields)||void 0===y?void 0:y.loan_contract)||(null===(v=$.acf)||void 0===v?void 0:v.loan_contract)||$.loan_contract);if(ae){const e=await fetch("".concat(B,"/wp/v2/media/").concat(ae),{headers:W,mode:"cors"});e.ok&&me(await e.json())}}catch(W){se(W.message||"Failed to load")}finally{ae(!1)}}})()},[H,U]);const pe=(0,n.useMemo)(()=>{try{var e,t,r,n,a,l;if(!Y)return[];const s=Number(Y.loan_amount||(null===(e=Y.meta)||void 0===e?void 0:e.loan_amount)||0),o=Number(Y.loan_term||(null===(t=Y.meta)||void 0===t?void 0:t.loan_term)||0),i=Y.repayment_frequency||(null===(r=Y.meta)||void 0===r?void 0:r.repayment_frequency)||"Monthly",c=Y.repayment_method||(null===(n=Y.meta)||void 0===n?void 0:n.repayment_method)||"Equal Principal",d=Number(Y.loan_interest||(null===(a=Y.meta)||void 0===a?void 0:a.loan_interest)||(null===K||void 0===K?void 0:K.interest_rate)||0),u=new Date(Y.start_date||(null===(l=Y.meta)||void 0===l?void 0:l.start_date)||Date.now());if(!s||!o)return[];const m=(e,t)=>{const r=Number(e||0)/100;return"Monthly"===t?r/12:"Fortnightly"===t?r/26:"Weekly"===t?r/52:r/12},p=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r},h=(e,t)=>{const r=new Date(e);return r.setMonth(r.getMonth()+t),r},f=(e,t,r)=>"Monthly"===r?h(e,t+1):"Fortnightly"===r?p(e,14*(t+1)):"Weekly"===r?p(e,7*(t+1)):h(e,t+1),x=((e,t)=>"Monthly"===t?e:"Fortnightly"===t?Math.ceil(12*e*2/12):"Weekly"===t?Math.ceil(52*e/12):e)(o,i),g=m(d,i),b=[];let y=s;if("Equal Total"===c){const e=0===g?s/x:s*g/(1-Math.pow(1+g,-x));for(let t=0;t<x;t++){const r=y*g,n=Math.min(e-r,y);y=Math.max(0,y-n),b.push({idx:t+1,date:f(u,t,i),payment:e,principal:n,interest:r,balance:y})}}else if("Interest-Only"===c){const e=y*g;for(let t=0;t<x-1;t++)b.push({idx:t+1,date:f(u,t,i),payment:e,principal:0,interest:e,balance:y});b.push({idx:x,date:f(u,x-1,i),payment:e+y,principal:y,interest:e,balance:0})}else{const e=s/x;for(let t=0;t<x;t++){const r=y*g,n=e+r;y=Math.max(0,y-e),b.push({idx:t+1,date:f(u,t,i),payment:n,principal:e,interest:r,balance:y})}}return b}catch(s){return[]}},[Y,K]);if(ne)return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsxs)("svg",{className:"animate-spin h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading loan details..."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please wait while we fetch the loan and related profiles."})]});if(le)return(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:le});if(!Y)return null;const he=Y.loan_currency||(null===(t=Y.meta)||void 0===t?void 0:t.loan_currency)||(null===K||void 0===K?void 0:K.currency)||"AUD";let fe=T(null===Y||void 0===Y||null===(r=Y.meta)||void 0===r?void 0:r.borrower_id)||T(null===Y||void 0===Y?void 0:Y.borrower)||T(null===Y||void 0===Y||null===(a=Y.meta)||void 0===a?void 0:a.borrower)||T(null===Y||void 0===Y||null===(s=Y.meta)||void 0===s?void 0:s.borrower_profile);var xe,ge,be,ye;fe||(fe=T(null===Y||void 0===Y||null===(xe=Y.fields)||void 0===xe?void 0:xe.borrower_id)||T(null===Y||void 0===Y||null===(ge=Y.acf)||void 0===ge?void 0:ge.borrower_id)||T(null===Y||void 0===Y||null===(be=Y.fields)||void 0===be?void 0:be.borrower)||T(null===Y||void 0===Y||null===(ye=Y.acf)||void 0===ye?void 0:ye.borrower));fe||null===Y||void 0===Y||!Y.borrower||"object"!==typeof Y.borrower||Array.isArray(Y.borrower)||(fe=T(Y.borrower.id)||T(Y.borrower.ID));const ve=T(null===Y||void 0===Y||null===(o=Y.meta)||void 0===o?void 0:o.co_borrower_id)||T(null===Y||void 0===Y?void 0:Y.co_borrower)||T(null===Y||void 0===Y||null===(i=Y.meta)||void 0===i?void 0:i.co_borrower),je=(Y.loan_status||(null===(c=Y.meta)||void 0===c?void 0:c.loan_status)||Y.status||"").toString(),we=je.toLowerCase();let Ne="Unknown";Ne="publish"===we?"Active":"draft"===we?"Draft":["pending","active","inactive","closed","rejected"].includes(we)?we.charAt(0).toUpperCase()+we.slice(1):je?je.charAt(0).toUpperCase()+je.slice(1):"-";const ke=/^active$/i.test(Ne)?"bg-green-100 text-green-800":/^pending$/i.test(Ne)?"bg-blue-100 text-blue-800":/^rejected$/i.test(Ne)?"bg-red-100 text-red-800":/^inactive$/i.test(Ne)?"bg-gray-200 text-gray-800":/^closed$/i.test(Ne)?"bg-purple-100 text-purple-800":/^draft$/i.test(Ne)?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:q,className:"mr-4 p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:"Back",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Loan Details"}),(0,l.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(ke),children:Ne})]}),(0,l.jsx)("p",{className:"text-gray-600",children:Y.loan_id||(null===(d=Y.meta)||void 0===d?void 0:d.loan_id)})]})]}),(0,l.jsx)("div",{})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:(0,l.jsx)("div",{className:"border-b border-gray-200",children:(0,l.jsx)("nav",{className:"flex space-x-8 px-6",children:P.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>Q(e),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(G===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e},e))})})}),"Summary"===G&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Loan Summary"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-y-1 text-sm",children:[(0,l.jsx)("div",{className:"text-gray-500",children:"Loan ID"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:Y.loan_id||(null===(u=Y.meta)||void 0===u?void 0:u.loan_id)}),(0,l.jsx)("div",{className:"text-gray-500",children:"Product"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:Y.loan_product||(null===(m=Y.meta)||void 0===m?void 0:m.loan_product_name)||"-"}),(0,l.jsx)("div",{className:"text-gray-500",children:"Interest"}),(0,l.jsxs)("div",{className:"text-gray-900 font-medium",children:[Y.loan_interest||(null===(p=Y.meta)||void 0===p?void 0:p.loan_interest),"%"]}),(0,l.jsx)("div",{className:"text-gray-500",children:"Term"}),(0,l.jsxs)("div",{className:"text-gray-900 font-medium",children:[Y.loan_term||(null===(h=Y.meta)||void 0===h?void 0:h.loan_term)," months"]}),(0,l.jsx)("div",{className:"text-gray-500",children:"Amount"}),(0,l.jsxs)("div",{className:"text-gray-900 font-medium",children:[z(he),Y.loan_amount||(null===(f=Y.meta)||void 0===f?void 0:f.loan_amount)]}),(0,l.jsx)("div",{className:"text-gray-500",children:"Method"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:Y.repayment_method||(null===(x=Y.meta)||void 0===x?void 0:x.repayment_method)}),(0,l.jsx)("div",{className:"text-gray-500",children:"Frequency"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:Y.repayment_frequency||(null===(g=Y.meta)||void 0===g?void 0:g.repayment_frequency)}),(0,l.jsx)("div",{className:"text-gray-500",children:"Start"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:Y.start_date||(null===(b=Y.meta)||void 0===b?void 0:b.start_date)}),(0,l.jsx)("div",{className:"text-gray-500",children:"End"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:Y.end_date||(null===(y=Y.meta)||void 0===y?void 0:y.end_date)})]})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900",children:"Borrower"}),fe&&$&&(0,l.jsx)("button",{onClick:()=>$(fe),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded",children:"View Profile"})]}),(0,l.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:Y.borrower_name&&String(Y.borrower_name).trim()||D(null===(v=Y.meta)||void 0===v?void 0:v.borrower_name)||[D(null===(j=Y.meta)||void 0===j?void 0:j.borrower_first_name),D(null===(w=Y.meta)||void 0===w?void 0:w.borrower_last_name)].filter(Boolean).join(" ")||[D(null===Z||void 0===Z?void 0:Z.first_name),D(null===Z||void 0===Z?void 0:Z.last_name)].filter(Boolean).join(" ")||D(null===Z||void 0===Z||null===(N=Z.title)||void 0===N?void 0:N.rendered)||"-"}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:D(Y.borrower_email)||D(null===(k=Y.meta)||void 0===k?void 0:k.borrower_email)||D(null===Z||void 0===Z?void 0:Z.email_address)||""}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:D(Y.borrower_phone)||D(null===(_=Y.meta)||void 0===_?void 0:_.borrower_phone)||D(null===Z||void 0===Z?void 0:Z.mobile_number)||""}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-600 mt-2",children:[(D(null===Z||void 0===Z?void 0:Z.date_of_birth)||D(null===(S=Y.meta)||void 0===S?void 0:S.borrower_date_of_birth))&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"DOB: "}),D(null===Z||void 0===Z?void 0:Z.date_of_birth)||D(null===(C=Y.meta)||void 0===C?void 0:C.borrower_date_of_birth)]}),(D(null===Z||void 0===Z?void 0:Z.home_address)||D(null===(L=Y.meta)||void 0===L?void 0:L.borrower_home_address)||D(null===(E=Y.meta)||void 0===E?void 0:E.borrower_address))&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Address: "}),D(null===Z||void 0===Z?void 0:Z.home_address)||D(null===(M=Y.meta)||void 0===M?void 0:M.borrower_home_address)||D(null===(A=Y.meta)||void 0===A?void 0:A.borrower_address)]}),(D(null===Z||void 0===Z?void 0:Z.employment_status)||D(null===(F=Y.meta)||void 0===F?void 0:F.borrower_employment_status))&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Employment: "}),D(null===Z||void 0===Z?void 0:Z.employment_status)||D(null===(O=Y.meta)||void 0===O?void 0:O.borrower_employment_status)]})]})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900",children:"Co-borrower"}),ve&&$&&(0,l.jsx)("button",{onClick:()=>$(ve),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded",children:"View Profile"})]}),te?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:[D(te.first_name),D(te.last_name)].filter(Boolean).join(" ")||D(null===te||void 0===te||null===(R=te.title)||void 0===R?void 0:R.rendered)||"-"}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:D(null===te||void 0===te?void 0:te.email_address)||""}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:D(null===te||void 0===te?void 0:te.mobile_number)||""}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-600 mt-2",children:[D(null===te||void 0===te?void 0:te.date_of_birth)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"DOB: "}),D(null===te||void 0===te?void 0:te.date_of_birth)]}),D(null===te||void 0===te?void 0:te.home_address)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Address: "}),D(null===te||void 0===te?void 0:te.home_address)]}),D(null===te||void 0===te?void 0:te.employment_status)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Employment: "}),D(null===te||void 0===te?void 0:te.employment_status)]})]})]}):(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"No co-borrower"})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Accounts"}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("div",{className:"text-gray-500",children:"Disbursement"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium break-all",children:Y.loan_disbursement_account||"-"}),(0,l.jsx)("div",{className:"mt-2 text-gray-500",children:"Repayment"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium break-all",children:Y.loan_repayment_account||"-"})]})]})]}),"Repayment Schedule"===G&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Repayment Schedule"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>window.print(),disabled:!pe||0===pe.length,className:"px-3 py-1.5 text-sm rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Print schedule",children:"Print"}),(0,l.jsx)("button",{type:"button",onClick:()=>{var e;if(!pe||0===pe.length)return;const t=[["#","Date","Payment","Principal","Interest","Balance"],...pe.map(e=>[e.idx,new Date(e.date).toISOString().slice(0,10),e.payment.toFixed(2),e.principal.toFixed(2),e.interest.toFixed(2),e.balance.toFixed(2)])].map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n;const l="repayment_schedule_".concat((null===Y||void 0===Y?void 0:Y.loan_id)||(null===Y||void 0===Y||null===(e=Y.meta)||void 0===e?void 0:e.loan_id)||"loan",".csv");a.setAttribute("download",l),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},disabled:!pe||0===pe.length,className:"px-3 py-1.5 text-sm rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Download CSV",children:"Download CSV"})]})]}),pe&&0!==pe.length?(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 text-left",children:"#"}),(0,l.jsx)("th",{className:"px-3 py-2 text-left",children:"Date"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right",children:"Payment"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right",children:"Principal"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right",children:"Interest"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right",children:"Balance"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-100",children:pe.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-3 py-1",children:e.idx}),(0,l.jsx)("td",{className:"px-3 py-1",children:new Date(e.date).toLocaleDateString()}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[z(he),e.payment.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[z(he),e.principal.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[z(he),e.interest.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[z(he),e.balance.toFixed(2)]})]},e.idx))})]})}):(0,l.jsx)("div",{className:"text-gray-600 text-sm",children:"No schedule available."})]}),"Bank Statements"===G&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bank Statements"}),oe&&0!==oe.length?(0,l.jsx)("ul",{className:"divide-y divide-gray-200 rounded-md border border-gray-200",children:oe.map(e=>{var t;return(0,l.jsxs)("li",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-gray-900",children:(null===(t=e.title)||void 0===t?void 0:t.rendered)||e.filename||"File #".concat(e.id)}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:e.mime_type||e.post_mime_type})]}),e.source_url&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"View"}),(0,l.jsx)("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Download"})]})]},e.id)})}):(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"No bank statements uploaded."})]}),"Note"===G&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Note"}),(0,l.jsx)("div",{className:"text-gray-900 whitespace-pre-wrap",children:(Y.loan_note||(null===(I=Y.meta)||void 0===I?void 0:I.loan_note)||"").toString().trim()||"No note saved."})]}),"Collateral"===G&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Collateral"}),ce?(0,l.jsx)("ul",{className:"divide-y divide-gray-200 rounded-md border border-gray-200",children:(0,l.jsxs)("li",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-gray-900",children:(null===(V=ce.title)||void 0===V?void 0:V.rendered)||ce.filename||"File #".concat(ce.id)}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:ce.mime_type||ce.post_mime_type})]}),ce.source_url&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("a",{href:ce.source_url,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"View"}),(0,l.jsx)("a",{href:ce.source_url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Download"})]})]})}):(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"No collateral uploaded."})]}),"Contract"===G&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Loan Contract"}),ue?(0,l.jsx)("ul",{className:"divide-y divide-gray-200 rounded-md border border-gray-200",children:(0,l.jsxs)("li",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-gray-900",children:(null===(W=ue.title)||void 0===W?void 0:W.rendered)||ue.filename||"File #".concat(ue.id)}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:ue.mime_type||ue.post_mime_type})]}),ue.source_url&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("a",{href:ue.source_url,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"View"}),(0,l.jsx)("a",{href:ue.source_url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Download"})]})]})}):(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"No loan contract uploaded."})]}),"Summary"!==G&&"Repayment Schedule"!==G&&"Note"!==G&&"Bank Statements"!==G&&"Collateral"!==G&&"Contract"!==G&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border p-8 text-center text-gray-500",children:[G," coming soon."]})]})},O=e=>{let{token:t}=e;const[r,a]=(0,n.useState)([]),[s,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[x,g]=(0,n.useState)({product_description:"",product_status:"Active"}),[b,y]=(0,n.useState)({product_description:"",product_status:"Active"}),[v,j]=(0,n.useState)(!1),[N,_]=(0,n.useState)({show:!1,message:"",type:"success"}),[S,C]=(0,n.useState)({product_id:"",product_name:"",product_description:"",interest_rate:"",term_min:"",term_max:"",currency:"AUD",min_amount:"",max_amount:"",product_status:"Active"}),L="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",E=e=>Array.isArray(e)?e[0]:e,M=e=>{if(null===e||void 0===e)return"";const t=String(E(e)).trim();if(""===t)return"";const r=t.match(/[+-]?(?:\d+\.?\d*|\.\d+)/);if(!r)return"";const n=Number(r[0]);return Number.isNaN(n)?"":n},A=e=>{if(null===e||void 0===e||""===e)return"";const t=Number(E(e));return Number.isNaN(t)?"":t},B=e=>{var t,r,n,a,l,s,o,i,c,d,u,m,p,h,f,x,g,b,y,v,j,w,N,k,_,S,C,L,E,B,z,P,D,T,F,O,R,I;let V=e.product_status;return Array.isArray(V)&&(V=V[0]||""),V&&""!==V||(V="publish"===e.status?"Active":"Inactive"),{id:e.id,product_id:null!==(t=e.product_id)&&void 0!==t?t:"",product_name:null!==(r=e.product_name)&&void 0!==r?r:null!==(n=null===(a=e.title)||void 0===a?void 0:a.rendered)&&void 0!==n?n:"",product_description:null!==(l=e.product_description)&&void 0!==l?l:null!==(s=null===(o=e.content)||void 0===o?void 0:o.rendered)&&void 0!==s?s:"",interest_rate:M(null!==(i=null!==(c=null!==(d=null!==(u=e.interest_rate)&&void 0!==u?u:null===(m=e.meta)||void 0===m?void 0:m.interest_rate)&&void 0!==d?d:null===(p=e.fields)||void 0===p?void 0:p.interest_rate)&&void 0!==c?c:null===(h=e.acf)||void 0===h?void 0:h.interest_rate)&&void 0!==i?i:""),term_min:A(null!==(f=null!==(x=null!==(g=e.term_min)&&void 0!==g?g:null===(b=e.meta)||void 0===b?void 0:b.term_min)&&void 0!==x?x:null===(y=e.fields)||void 0===y?void 0:y.term_min)&&void 0!==f?f:""),term_max:A(null!==(v=null!==(j=null!==(w=e.term_max)&&void 0!==w?w:null===(N=e.meta)||void 0===N?void 0:N.term_max)&&void 0!==j?j:null===(k=e.fields)||void 0===k?void 0:k.term_max)&&void 0!==v?v:""),currency:(Array.isArray(e.currency)?e.currency[0]:null!==(_=null!==(S=e.currency)&&void 0!==S?S:null===(C=e.meta)||void 0===C?void 0:C.currency)&&void 0!==_?_:null===(L=e.fields)||void 0===L?void 0:L.currency)||"AUD",min_amount:A(null!==(E=null!==(B=null!==(z=e.min_amount)&&void 0!==z?z:null===(P=e.meta)||void 0===P?void 0:P.min_amount)&&void 0!==B?B:null===(D=e.fields)||void 0===D?void 0:D.min_amount)&&void 0!==E?E:""),max_amount:A(null!==(T=null!==(F=null!==(O=e.max_amount)&&void 0!==O?O:null===(R=e.meta)||void 0===R?void 0:R.max_amount)&&void 0!==F?F:null===(I=e.fields)||void 0===I?void 0:I.max_amount)&&void 0!==T?T:""),product_status:V,date:e.date}},z=async()=>{if(t){o(!0),c("");try{const e=await fetch("".concat(L,"/wp/v2/loan-product?per_page=100&context=edit&status=publish,draft"),{headers:{Authorization:"Bearer ".concat(t)},mode:"cors"});if(!e.ok)throw new Error("Failed to fetch loan products");const r=(await e.json()).map(e=>B(e));a(r)}catch(e){c("Could not load loan products")}finally{o(!1)}}};(0,n.useEffect)(()=>{z()},[t]);const P=()=>{const e=(e=>{let t=0;e.forEach(e=>{const r=String(e.product_id||"").trim().match(/^LP(\d{1,})$/);if(r){const e=parseInt(r[1],10);!Number.isNaN(e)&&e>t&&(t=e)}});const r=String(t+1).padStart(6,"0");return"".concat("LP").concat(r)})(r);C(t=>w(w({},t),{},{product_id:e})),u(!0)},D=async e=>{if(e.preventDefault(),t){o(!0),c("");try{const e=e=>""===e?"":Number(e);S.product_name,S.product_description,S.product_status,S.product_id,S.product_name,S.product_description,e(S.interest_rate),e(S.term_min),e(S.term_max),S.currency,e(S.min_amount),e(S.max_amount),S.product_status;if(!(await fetch("".concat(L,"/wp/v2/loan-product"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({title:S.product_name,content:S.product_description,status:"Active"===S.product_status?"publish":"draft",product_id:S.product_id,product_name:S.product_name,product_description:S.product_description,interest_rate:e(S.interest_rate),term_min:e(S.term_min),term_max:e(S.term_max),currency:S.currency,min_amount:e(S.min_amount),max_amount:e(S.max_amount),product_status:S.product_status}),mode:"cors"})).ok)throw new Error("Failed to create product");_({show:!0,message:"Loan product created successfully!",type:"success"}),u(!1),C({product_id:"",product_name:"",product_description:"",interest_rate:"",term_min:"",term_max:"",currency:"AUD",min_amount:"",max_amount:"",product_status:"Active"}),z()}catch(e){c("Could not create product")}finally{o(!1)}}},T=e=>"MNT"===e?"\u20ae":"$",F=async()=>{if(t&&h){o(!0),c("");try{const e={content:x.product_description,status:"Active"===x.product_status?"publish":"draft",product_description:x.product_description,product_status:x.product_status},r=await fetch("".concat(L,"/wp/v2/loan-product/").concat(h.id),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e),mode:"cors"});if(!r.ok){const e=await r.text();throw console.error("Update failed:",e),new Error("Failed to update product")}_({show:!0,message:"Product updated successfully!",type:"success"}),f(e=>w(w({},e),{},{product_description:x.product_description,product_status:x.product_status})),a(e=>e.map(e=>e.id===h.id?w(w({},e),{},{product_description:x.product_description,product_status:x.product_status}):e)),p(!1),z()}catch(e){console.error("Product update error:",e),c("Could not update product")}finally{o(!1)}}};return d?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Loan Product"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Add a new loan product to your system"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product ID"}),(0,l.jsx)("input",{type:"text",value:S.product_id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,l.jsx)("input",{type:"text",value:S.product_name,onChange:e=>C(w(w({},S),{},{product_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interest Rate (%)"}),(0,l.jsx)("input",{type:"number",step:"0.01",min:"0",value:S.interest_rate,onChange:e=>C(w(w({},S),{},{interest_rate:e.target.value})),placeholder:"e.g. 12.5",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Term (months)"}),(0,l.jsx)("input",{type:"number",step:"1",min:"1",value:S.term_min,onChange:e=>C(w(w({},S),{},{term_min:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Term (months)"}),(0,l.jsx)("input",{type:"number",step:"1",min:S.term_min||1,value:S.term_max,onChange:e=>C(w(w({},S),{},{term_max:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,l.jsxs)("select",{value:S.currency,onChange:e=>C(w(w({},S),{},{currency:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"AUD",children:"AUD"}),(0,l.jsx)("option",{value:"MNT",children:"MNT"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Amount"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:T(S.currency)}),(0,l.jsx)("input",{type:"number",step:"1",min:"0",value:S.min_amount,onChange:e=>C(w(w({},S),{},{min_amount:e.target.value})),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Amount"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:T(S.currency)}),(0,l.jsx)("input",{type:"number",step:"1",min:S.min_amount||0,value:S.max_amount,onChange:e=>C(w(w({},S),{},{max_amount:e.target.value})),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Description"}),(0,l.jsx)("textarea",{value:S.product_description,onChange:e=>C(w(w({},S),{},{product_description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product Status"}),(0,l.jsx)("button",{type:"button",onClick:()=>C(w(w({},S),{},{product_status:"Active"===S.product_status?"Inactive":"Active"})),className:"relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat("Active"===S.product_status?"bg-green-500 focus:ring-green-300":"bg-gray-300 focus:ring-gray-300"),"aria-pressed":"Active"===S.product_status,"aria-label":"Toggle product status",children:(0,l.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ".concat("Active"===S.product_status?"translate-x-6":"translate-x-1")})}),(0,l.jsx)("span",{className:"text-sm ".concat("Active"===S.product_status?"text-green-700":"text-gray-700"),children:S.product_status})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,l.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s&&(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:s?"Creating...":"Create Product"})]})]}),i&&(0,l.jsx)("div",{className:"md:col-span-2 text-red-600 text-sm",children:i})]})})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loan Products"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage and view loan products and configurations"})]}),(0,l.jsxs)("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create New Product"})]})]})}),0===r.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by creating your first loan product. This will help you configure loan types, interest rates, and terms."}),(0,l.jsxs)("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create First Product"})]})]}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product ID"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interest Rate (%)"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Term (Month)"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Range"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:e.product_id}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.product_name}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.interest_rate}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[e.term_min,"-",e.term_max]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.currency}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[T(e.currency),e.min_amount," - ",T(e.currency),e.max_amount]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,l.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Active"===e.product_status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.product_status})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,l.jsx)("button",{onClick:()=>(e=>{f(e);const t={product_description:e.product_description||"",product_status:e.product_status||"Active"};g(t),y(t),p(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View/Edit Product",children:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},e.id))})]})})}),m&&h&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Product Details"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product ID"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:h.product_id})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:h.product_name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Interest Rate"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900",children:[h.interest_rate,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Term Range"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900",children:[h.term_min," - ",h.term_max," months"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:h.currency})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount Range"}),(0,l.jsxs)("p",{className:"text-sm text-gray-900",children:[T(h.currency),h.min_amount," - ",T(h.currency),h.max_amount]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,l.jsx)("textarea",{value:x.product_description,onChange:e=>g(w(w({},x),{},{product_description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3,placeholder:"Enter product description..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Status"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("button",{onClick:()=>g(w(w({},x),{},{product_status:"Active"===x.product_status?"Inactive":"Active"})),className:"relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat("Active"===x.product_status?"bg-green-500 focus:ring-green-300":"bg-gray-300 focus:ring-gray-300"),"aria-pressed":"Active"===x.product_status,"aria-label":"Toggle product status",children:(0,l.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ".concat("Active"===x.product_status?"translate-x-6":"translate-x-1")})}),(0,l.jsx)("span",{className:"text-sm ".concat("Active"===x.product_status?"text-green-700":"text-gray-700"),children:x.product_status})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,l.jsx)("button",{onClick:()=>{x.product_description!==b.product_description||x.product_status!==b.product_status?j(!0):p(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,l.jsx)("button",{onClick:F,disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Updating...":"Update Product"})]})]})})}),v&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsxs)("div",{className:"mt-2 text-center",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Unsaved Changes"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"You have unsaved changes. Do you want to save them before closing?"})})]}),(0,l.jsxs)("div",{className:"flex justify-center gap-3 mt-6",children:[(0,l.jsx)("button",{onClick:()=>{p(!1),j(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Discard Changes"}),(0,l.jsx)("button",{onClick:()=>{j(!1),F()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Save Changes"})]})]})})}),(0,l.jsx)(k,{isVisible:N.show,onClose:()=>_({show:!1,message:"",type:"success"}),message:N.message,type:N.type})]})},R="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",I=e=>"MNT"===e?"\u20ae":"$",V=e=>{let{token:t,setCurrentView:r,onOpenBorrower:a}=e;const[s,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(""),[f,x]=(0,n.useState)({show:!1,message:"",type:"success"}),[g,b]=(0,n.useState)(1),[y,v]=(0,n.useState)(!1),[j,_]=(0,n.useState)(null),[S,C]=(0,n.useState)([]),[L,E]=(0,n.useState)([]),[M,A]=(0,n.useState)([]),[B,z]=(0,n.useState)([]),[P,D]=(0,n.useState)(""),[T,F]=(0,n.useState)(null),[O,V]=(0,n.useState)(null),[W,H]=(0,n.useState)([]),[U,q]=(0,n.useState)({loan_id:"EL-0000001",borrower:"",co_borrower_status:"No",co_borrower:"",loan_product:"",loan_currency:"",loan_interest:"",loan_term:"",loan_amount:"",repayment_method:"Equal Principal",repayment_frequency:"Monthly",repayment_type:"Graphical",loan_status:"Draft",start_date:"",end_date:"",loan_disbursement_account:"",loan_repayment_account:"",loan_note:""}),$=(0,n.useMemo)(()=>L.filter(e=>{let t=e.product_status;return Array.isArray(t)&&(t=t[0]),"active"===(t||"").toString().toLowerCase()}),[L]),G=(0,n.useMemo)(()=>S.filter(e=>"Verified"===d(e).status),[S]),Q=(0,n.useMemo)(()=>M.filter(e=>{let t=e.account_status;return Array.isArray(t)&&(t=t[0]),!0===t||"active"===(t||"").toString().toLowerCase()}),[M]),Y=(0,n.useMemo)(()=>$.find(e=>String(e.id)===String(U.loan_product)),[$,U.loan_product]),J=(0,n.useMemo)(()=>S.find(e=>String(e.id)===String(U.borrower)),[S,U.borrower]),K=(0,n.useMemo)(()=>S.filter(e=>String(e.id)!==String(U.borrower)),[S,U.borrower]),X=(0,n.useMemo)(()=>!!U.borrower||!!U.loan_product||!!U.loan_term||!!U.loan_amount||!!U.start_date||!!U.loan_disbursement_account||!!U.loan_repayment_account||!!U.loan_note||!!T||!!O,[U,T,O]);(0,n.useEffect)(()=>{const e=e=>{X&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[X]);(0,n.useEffect)(()=>{if(!t)return;let e=!0;return(async()=>{o(!0),h("");try{const n={Authorization:"Bearer ".concat(t)},[a,l,s,o]=await Promise.all([fetch("".concat(R,"/wp/v2/borrower-profile?per_page=100&context=edit"),{headers:n,mode:"cors"}),fetch("".concat(R,"/wp/v2/loan-product?per_page=100&context=edit&status=publish,draft"),{headers:n,mode:"cors"}),fetch("".concat(R,"/wp/v2/bank-account-system?per_page=100&status=publish,draft"),{headers:n,mode:"cors"}),fetch("".concat(R,"/wp/v2/loans?per_page=100&status=publish,draft"),{headers:n,mode:"cors"})]);if(!a.ok)throw new Error("Failed to load borrowers");if(!l.ok)throw new Error("Failed to load products");if(!s.ok)throw new Error("Failed to load system accounts");if(!o.ok)throw new Error("Failed to load loans");const[i,c,d,u]=await Promise.all([a.json(),l.json(),s.json(),o.json()]);if(!e)return;C(i||[]),E(c||[]),A(d||[]);try{let e=0;(u||[]).forEach(t=>{const r=String(t.loan_id||t.meta&&t.meta.loan_id||"").trim().match(/^EL-(\d{1,})$/);if(r){const t=parseInt(r[1],10);!Number.isNaN(t)&&t>e&&(e=t)}});const t=String(e+1).padStart(7,"0");q(e=>w(w({},e),{},{loan_id:"EL-".concat(t)}))}catch(r){}}catch(n){if(!e)return;h(n.message||"Failed to load data")}finally{e&&o(!1)}})(),()=>{e=!1}},[t]),(0,n.useEffect)(()=>{q(Y?e=>w(w({},e),{},{loan_currency:Y.currency||"AUD",loan_interest:Y.interest_rate||""}):e=>w(w({},e),{},{loan_currency:"",loan_interest:""}))},[Y]),(0,n.useEffect)(()=>{q(e=>"Yes"!==e.co_borrower_status&&e.co_borrower||e.co_borrower&&String(e.co_borrower)===String(e.borrower)?w(w({},e),{},{co_borrower:""}):e)},[U.borrower,U.co_borrower_status]),(0,n.useEffect)(()=>{if(U.start_date&&U.loan_term){const e=Number(U.loan_term);if(!Number.isNaN(e)&&e>0){const t=new Date(U.start_date),r=new Date(t);r.setMonth(r.getMonth()+e);const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0");q(e=>w(w({},e),{},{end_date:"".concat(n,"-").concat(a,"-").concat(l)}))}}else q(e=>w(w({},e),{},{end_date:""}))},[U.start_date,U.loan_term]);const Z=(null===Y||void 0===Y?void 0:Y.term_min)||"",ee=(null===Y||void 0===Y?void 0:Y.term_max)||"",te=(null===Y||void 0===Y?void 0:Y.min_amount)||"",re=(null===Y||void 0===Y?void 0:Y.max_amount)||"",ne=Number(Z||0),ae=Number(ee||0),le=Number(te||0),se=Number(re||0),oe=""!==U.loan_term&&null!==U.loan_term&&Number(U.loan_term)>0&&(ne&&Number(U.loan_term)<ne||ae&&Number(U.loan_term)>ae),ie=""!==U.loan_amount&&null!==U.loan_amount&&Number(U.loan_amount)>0&&(le&&Number(U.loan_amount)<le||se&&Number(U.loan_amount)>se),ce=(0,n.useMemo)(()=>{if(!J)return[];const e="Mongolia"===(J.account_type||J.bank_country||"")?J.bank_name_mn||J.bank_name:J.bank_name||J.bank_name_au,t=J.account_name,r=J.bsb_number||J.bsb||"",n=J.account_number,a=[t,e,n,r&&"BSB ".concat(r)].filter(Boolean).join(" \u2022 "),l=JSON.stringify({accountName:t,bankName:e,bsb:r,accountNumber:n});return n?[{label:a,value:l}]:[]},[J]),de=e=>q(t=>w(w({},t),{},{[e.target.name]:e.target.value})),ue=e=>{const{name:t,value:r}=e.target;if(""===r)return q(e=>w(w({},e),{},{[t]:""}));const n=Number(r);Number.isNaN(n)||q(e=>w(w({},e),{},{[t]:n}))},me=e=>!(""===e||null===e||void 0===e),pe=()=>{const e=[];return me(U.borrower)||e.push("Borrower"),me(U.loan_product)||e.push("Loan Product"),Number(U.loan_term)>0&&!oe||e.push("Loan Term"),Number(U.loan_amount)>0&&!ie||e.push("Loan Amount"),me(U.start_date)||e.push("Start Date"),"Yes"!==U.co_borrower_status||me(U.co_borrower)||e.push("Co-borrower"),e},he=()=>{const e=[];return"Yes"!==U.co_borrower_status||me(U.co_borrower)||e.push("Co-borrower"),e},fe=()=>{const e=[];return Number(U.loan_term)>0||e.push("Loan Term"),Number(U.loan_amount)>0||e.push("Loan Amount"),me(U.start_date)||e.push("Start Date"),e},xe=!me(U.borrower),ge=!me(U.loan_product),be=!(Number(U.loan_term)>0)||oe,ye=!(Number(U.loan_amount)>0)||ie,ve=!me(U.start_date),je="Yes"===U.co_borrower_status&&!me(U.co_borrower),we=ce&&ce.length>0&&!me(U.loan_disbursement_account),Ne=!me(U.loan_repayment_account);(0,n.useEffect)(()=>{h("")},[g,U.borrower,U.loan_product,U.co_borrower_status,U.co_borrower,U.loan_term,U.loan_amount,U.start_date]);const ke=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r},_e=(e,t)=>{const r=new Date(e);return r.setMonth(r.getMonth()+t),r},Se=(e,t,r)=>"Monthly"===r?_e(e,t+1):"Fortnightly"===r?ke(e,14*(t+1)):"Weekly"===r?ke(e,7*(t+1)):_e(e,t+1),Ce=async e=>{const r=new FormData;r.append("file",e,e.name);const n=await fetch("".concat(R,"/wp/v2/media"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:r,mode:"cors"});if(!n.ok){const t=await n.text();throw new Error(t||"Failed to upload ".concat(e.name))}const a=await n.json();return null===a||void 0===a?void 0:a.id},Le=async()=>{if(!B||0===B.length)return[];const e=[];for(const t of B){const r=await Ce(t);r&&e.push(r)}return e};(0,n.useEffect)(()=>{if(!U.loan_amount||!U.loan_term||!U.start_date||!Y)return void H([]);const e=Number(U.loan_amount),t=((e,t)=>{if(!e)return 0;const r=Number(e);return"Monthly"===t?r:"Fortnightly"===t?Math.ceil(12*r*2/12):"Weekly"===t?Math.ceil(52*r/12):r})(U.loan_term,U.repayment_frequency),r=((e,t)=>{const r=Number(e||0)/100;return"Monthly"===t?r/12:"Fortnightly"===t?r/26:"Weekly"===t?r/52:r/12})(U.loan_interest||(null===Y||void 0===Y?void 0:Y.interest_rate)||0,U.repayment_frequency);if(!t||e<=0)return void H([]);const n=[];let a=e;const l=new Date(U.start_date);if("Equal Total"===U.repayment_method){const s=0===r?e/t:e*r/(1-Math.pow(1+r,-t));for(let e=0;e<t;e++){const t=a*r,o=Math.min(s-t,a);a=Math.max(0,a-o),n.push({idx:e+1,date:Se(l,e,U.repayment_frequency),payment:s,principal:o,interest:t,balance:a})}}else if("Interest-Only"===U.repayment_method){const e=a*r;for(let r=0;r<t-1;r++)n.push({idx:r+1,date:Se(l,r,U.repayment_frequency),payment:e,principal:0,interest:e,balance:a});n.push({idx:t,date:Se(l,t-1,U.repayment_frequency),payment:e+a,principal:a,interest:e,balance:0})}else{const s=e/t;for(let e=0;e<t;e++){const t=a*r,o=s+t;a=Math.max(0,a-s),n.push({idx:e+1,date:Se(l,e,U.repayment_frequency),payment:o,principal:s,interest:t,balance:a})}}H(n)},[U.loan_amount,U.loan_term,U.repayment_frequency,U.repayment_method,U.start_date,U.loan_interest,Y]);const Ee=()=>U.borrower?"Yes"!==U.co_borrower_status||U.co_borrower?U.loan_product?U.loan_term?U.loan_amount?Z&&Number(U.loan_term)<Number(Z)?"Loan term must be \u2265 ".concat(Z):ee&&Number(U.loan_term)>Number(ee)?"Loan term must be \u2264 ".concat(ee):te&&Number(U.loan_amount)<Number(te)?"Amount must be \u2265 ".concat(te):re&&Number(U.loan_amount)>Number(re)?"Amount must be \u2264 ".concat(re):U.start_date?U.end_date?U.loan_repayment_account?"":"Repayment account is required":"End date is required":"Start date is required":"Loan amount is required":"Loan term is required":"Loan product is required":"Co-borrower is required":"Borrower is required",Me=async()=>{if(t)if(me(U.borrower)||me(U.loan_product)){h(""),m(!0);try{const n=new FormData;let a=[];try{a=await Le()}catch(e){console.error("Bank statement upload failed (draft):",e)}let l=null;try{T&&(l=await Ce(T))}catch(e){console.error("Collateral upload failed (draft):",e)}let s=null;try{O&&(s=await Ce(O))}catch(e){console.error("Loan contract upload failed (draft):",e)}let o="",i="",c="",d="",u="";try{const e=U.loan_disbursement_account?JSON.parse(U.loan_disbursement_account):null;e&&(i=e.accountName||"",c=Array.isArray(e.bankName)?e.bankName[0]||"":e.bankName||"",d=e.bsb||"",u=e.accountNumber||"",o=[i,c,u,d&&"BSB ".concat(d)].filter(Boolean).join(" \u2022 "))}catch(r){}let m="",p="",h="",f="";const g=M.find(e=>String(e.id)===String(U.loan_repayment_account));if(g){p="Australia"===(Array.isArray(g.account_type)?g.account_type[0]:g.account_type)?Array.isArray(g.bank_name_au)?g.bank_name_au[0]:g.bank_name_au:Array.isArray(g.bank_name_mn)?g.bank_name_mn[0]:g.bank_name_mn,m=g.account_name||"",h=g.bsb||"",f=g.account_number||""}const b=S.find(e=>String(e.id)===String(U.borrower)),y=b&&b.first_name||"",v=b&&b.last_name||"",j=b&&b.email_address||"",w=b&&b.mobile_number||"",N={title:U.loan_id||"Draft Loan",status:"draft",loan_id:U.loan_id,borrower:U.borrower,borrower_name:[y,v].filter(Boolean).join(" "),co_borrower_status:U.co_borrower_status,co_borrower:U.co_borrower||"",loan_product:Y&&Y.product_name?Y.product_name:String(U.loan_product||""),loan_currency:U.loan_currency,loan_interest:U.loan_interest,loan_term:U.loan_term,loan_amount:U.loan_amount,repayment_method:U.repayment_method,repayment_frequency:U.repayment_frequency,repayment_type:U.repayment_type,start_date:U.start_date,end_date:U.end_date,loan_disbursement_account:o||"",loan_disbursement_account_name:i||"",loan_disbursement_account_bank:c||"",loan_disbursement_account_bsb:d||"",loan_disbursement_account_number:u||"",loan_repayment_account:m?"".concat(m," \u2022 ").concat(p," \u2022 ").concat(f).concat(h?" \u2022 BSB ".concat(h):""):String(U.loan_repayment_account||""),loan_repayment_account_name:m||"",loan_repayment_account_bank:p||"",loan_repayment_account_bsb:h||"",loan_repayment_account_number:f||""};U.loan_note&&(N.loan_note=U.loan_note),N.loan_status="Draft",Object.entries(N).forEach(e=>{let[t,r]=e;return n.append(t,r)}),Y&&(n.append("meta[loan_product_id]",String(Y.id)),n.append("meta[loan_product_name]",String(Y.product_name||""))),b&&(n.append("meta[borrower_id]",String(b.id)),n.append("meta[borrower_first_name]",String(y)),n.append("meta[borrower_last_name]",String(v)),n.append("meta[borrower_email]",String(j)),n.append("meta[borrower_phone]",String(w))),a&&a.length>0&&(a.forEach(e=>n.append("meta[bank_statement][]",String(e))),a.forEach(e=>n.append("fields[bank_statement][]",String(e))),n.append("fields[bank_statement]",JSON.stringify(a.map(String))),n.append("bank_statement",JSON.stringify(a.map(String))),a.forEach(e=>n.append("bank_statement[]",String(e))),n.append("meta[bank_statement_count]",String(a.length))),l&&(n.append("meta[collateral]",String(l)),n.append("fields[collateral]",String(l)),n.append("collateral",String(l))),s&&(n.append("meta[loan_contract]",String(s)),n.append("fields[loan_contract]",String(s)),n.append("loan_contract",String(s)));const k=await fetch("".concat(R,"/wp/v2/loans"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:n,mode:"cors"});if(!k.ok){const e=await k.text();throw new Error(e||"Failed to save draft")}x({show:!0,message:"Draft saved.",type:"success"})}catch(n){h(n.message||"Failed to save draft")}finally{m(!1)}}else h("Provide at least Borrower or Loan Product to save draft")},Ae=()=>{const e=["Loan Form","Borrowers","Schedule","Bank Statements","Collateral","Contract","Note","Confirm"],t=(g-1)/(e.length-1)*100;return(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(t,"%")}})}),(0,l.jsx)("div",{className:"flex justify-between items-center mt-3",children:e.map((e,t)=>(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-semibold ".concat(g-1>=t?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"," transition-colors duration-300"),children:t+1}),(0,l.jsx)("div",{className:"mt-1 text-[11px] ".concat(g-1===t?"font-semibold text-blue-700":"text-gray-700"),children:e})]},e))})]})},Be=e=>{let{b:t}=e;return t?(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:t.email_address}),t.mobile_number&&(0,l.jsx)("div",{className:"text-xs text-gray-600",children:t.mobile_number})]}),(0,l.jsx)("button",{type:"button",onClick:()=>a&&a(t.id),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded",title:"Open borrower profile",children:"View Profile"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-3 text-xs text-gray-700",children:[t.date_of_birth&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"DOB:"})," ",t.date_of_birth]}),t.home_address&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Address:"})," ",t.home_address]}),t.employment_status&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Employment:"})," ",t.employment_status]}),t.monthly_income_aud&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Monthly Income:"})," ",t.monthly_income_aud]}),t.bank_name&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Bank:"})," ",t.bank_name]}),t.account_number&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500",children:"Account:"})," ",t.account_number]})]})]}):null};return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create New Loan"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Start a new loan for a borrower"})]})})}),(0,l.jsx)(Ae,{}),p&&(0,l.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),s?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsxs)("svg",{className:"animate-spin h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading data..."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please wait while we fetch borrowers, products, and accounts."})]}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!t)return;const n=Ee();if(n)h(n);else{h(""),c(!0);try{const n=new FormData;let l=[];try{l=await Le()}catch(e){console.error("Bank statement upload failed:",e)}let s=null;try{T&&(s=await Ce(T))}catch(e){console.error("Collateral upload failed:",e)}let o=null;try{O&&(o=await Ce(O))}catch(e){console.error("Loan contract upload failed:",e)}let i="",c="",d="",u="",m="";try{const e=U.loan_disbursement_account?JSON.parse(U.loan_disbursement_account):null;e&&(c=e.accountName||"",d=Array.isArray(e.bankName)?e.bankName[0]||"":e.bankName||"",u=e.bsb||"",m=e.accountNumber||"",i=[c,d,m,u&&"BSB ".concat(u)].filter(Boolean).join(" \u2022 "))}catch(a){}let p="",h="",f="",g="";const b=M.find(e=>String(e.id)===String(U.loan_repayment_account));if(b){h="Australia"===(Array.isArray(b.account_type)?b.account_type[0]:b.account_type)?Array.isArray(b.bank_name_au)?b.bank_name_au[0]:b.bank_name_au:Array.isArray(b.bank_name_mn)?b.bank_name_mn[0]:b.bank_name_mn,p=b.account_name||"",f=b.bsb||"",g=b.account_number||""}const y=S.find(e=>String(e.id)===String(U.borrower)),v=y&&y.first_name||"",j=y&&y.last_name||"",w=y&&y.email_address||"",N=y&&y.mobile_number||"",k={title:U.loan_id,status:"publish",loan_id:U.loan_id,borrower:U.borrower,borrower_name:[v,j].filter(Boolean).join(" "),co_borrower_status:U.co_borrower_status,co_borrower:U.co_borrower||"",loan_product:Y&&Y.product_name?Y.product_name:String(U.loan_product||""),loan_currency:U.loan_currency,loan_interest:U.loan_interest,loan_term:U.loan_term,loan_amount:U.loan_amount,repayment_method:U.repayment_method,repayment_frequency:U.repayment_frequency,repayment_type:U.repayment_type,start_date:U.start_date,end_date:U.end_date,loan_disbursement_account:i||"",loan_disbursement_account_name:c||"",loan_disbursement_account_bank:d||"",loan_disbursement_account_bsb:u||"",loan_disbursement_account_number:m||"",loan_repayment_account:p?"".concat(p," \u2022 ").concat(h," \u2022 ").concat(g).concat(f?" \u2022 BSB ".concat(f):""):String(U.loan_repayment_account||""),loan_repayment_account_name:p||"",loan_repayment_account_bank:h||"",loan_repayment_account_bsb:f||"",loan_repayment_account_number:g||""};U.loan_note&&(k.loan_note=U.loan_note),k.loan_status="Active",Object.entries(k).forEach(e=>{let[t,r]=e;return n.append(t,r)}),n.append("meta[loan_currency]",U.loan_currency),n.append("meta[loan_interest]",U.loan_interest),n.append("meta[loan_id]",U.loan_id),U.loan_note&&n.append("meta[loan_note]",U.loan_note),n.append("meta[loan_status]","Active"),Y&&(n.append("meta[loan_product_id]",String(Y.id)),n.append("meta[loan_product_name]",String(Y.product_name||""))),y&&(n.append("meta[borrower_id]",String(y.id)),n.append("meta[borrower_first_name]",String(v)),n.append("meta[borrower_last_name]",String(j)),n.append("meta[borrower_email]",String(w)),n.append("meta[borrower_phone]",String(N))),(c||d||m||u)&&(n.append("meta[disbursement_account_name]",c),n.append("meta[disbursement_account_bank]",d),n.append("meta[disbursement_account_bsb]",u),n.append("meta[disbursement_account_number]",m)),(p||h||g||f)&&(n.append("meta[repayment_account_name]",p),n.append("meta[repayment_account_bank]",h),n.append("meta[repayment_account_bsb]",f),n.append("meta[repayment_account_number]",g)),l&&l.length>0&&(l.forEach(e=>n.append("meta[bank_statement][]",String(e))),l.forEach(e=>n.append("fields[bank_statement][]",String(e))),n.append("fields[bank_statement]",JSON.stringify(l.map(String))),n.append("bank_statement",JSON.stringify(l.map(String))),l.forEach(e=>n.append("bank_statement[]",String(e))),n.append("meta[bank_statement_count]",String(l.length))),s&&(n.append("meta[collateral]",String(s)),n.append("fields[collateral]",String(s)),n.append("collateral",String(s))),o&&(n.append("meta[loan_contract]",String(o)),n.append("fields[loan_contract]",String(o)),n.append("loan_contract",String(o)));const _=await fetch("".concat(R,"/wp/v2/loans"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:n,mode:"cors"});if(!_.ok){const e=await _.text();throw new Error(e||"Failed to create loan")}x({show:!0,message:"Loan created successfully!",type:"success"}),setTimeout(()=>r("loans-active"),900)}catch(l){h(l.message||"Failed to create loan")}finally{c(!1)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan ID"}),(0,l.jsx)("input",{type:"text",value:U.loan_id,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Borrower"}),(0,l.jsxs)("select",{name:"borrower",value:U.borrower,onChange:de,className:"w-full px-3 py-2 border rounded-md ".concat(xe&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select verified borrower"}),G.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.email_address,")"]},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Co-borrower Status"}),(0,l.jsxs)("select",{name:"co_borrower_status",value:U.co_borrower_status,onChange:de,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,l.jsx)("option",{value:"No",children:"No"}),(0,l.jsx)("option",{value:"Yes",children:"Yes"})]})]}),"Yes"===U.co_borrower_status&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Co-borrower"}),(0,l.jsxs)("select",{name:"co_borrower",value:U.co_borrower,onChange:de,className:"w-full px-3 py-2 border rounded-md ".concat(je&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),children:[(0,l.jsx)("option",{value:"",children:"Select borrower"}),K.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.email_address,")"]},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Product"}),(0,l.jsxs)("select",{name:"loan_product",value:U.loan_product,onChange:de,className:"w-full px-3 py-2 border rounded-md ".concat(ge&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select active product"}),$.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.product_name," (Term ",e.term_min,"-",e.term_max,"m, ",e.currency,")"]},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,l.jsx)("input",{type:"text",value:U.loan_currency,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interest (%)"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:U.loan_interest,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Term (months)"}),(0,l.jsx)("input",{name:"loan_term",type:"number",min:Z||1,max:ee||void 0,value:U.loan_term,onChange:ue,className:"w-full px-3 py-2 border rounded-md ".concat(be&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),required:!0}),(Z||ee)&&(0,l.jsxs)("p",{className:"text-xs mt-1 ".concat(oe&&1===g?"text-red-600":"text-gray-500"),children:["Allowed: ",Z||"?"," - ",ee||"?"," months"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loan Amount"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500",children:I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency))}),(0,l.jsx)("input",{name:"loan_amount",type:"number",min:te||0,max:re||void 0,value:U.loan_amount,onChange:ue,className:"w-full pl-8 pr-3 py-2 border rounded-md ".concat(ye&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),required:!0})]}),(te||re)&&(0,l.jsxs)("p",{className:"text-xs mt-1 ".concat(ie&&1===g?"text-red-600":"text-gray-500"),children:["Range: ",I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),te||0," - ",I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),re||"\u221e"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repayment Method"}),(0,l.jsxs)("select",{name:"repayment_method",value:U.repayment_method,onChange:de,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,l.jsx)("option",{children:"Equal Principal"}),(0,l.jsx)("option",{children:"Equal Total"}),(0,l.jsx)("option",{children:"Interest-Only"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repayment Frequency"}),(0,l.jsxs)("select",{name:"repayment_frequency",value:U.repayment_frequency,onChange:de,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,l.jsx)("option",{children:"Weekly"}),(0,l.jsx)("option",{children:"Fortnightly"}),(0,l.jsx)("option",{children:"Monthly"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repayment Type"}),(0,l.jsxs)("select",{name:"repayment_type",value:U.repayment_type,onChange:de,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,l.jsx)("option",{children:"Graphical"}),(0,l.jsx)("option",{children:"Non Graphical"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,l.jsx)("input",{name:"start_date",type:"date",value:U.start_date,onChange:de,className:"w-full px-3 py-2 border rounded-md ".concat(ve&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,l.jsx)("input",{name:"end_date",type:"date",value:U.end_date,onChange:de,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated from start date and loan term"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disbursement Account (Borrower)"}),(0,l.jsxs)("select",{name:"loan_disbursement_account",value:U.loan_disbursement_account,onChange:de,className:"w-full px-3 py-2 border rounded-md ".concat(we&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),disabled:!ce.length,children:[(0,l.jsx)("option",{value:"",children:ce.length?"Select borrower account":"No borrower account found"}),ce.map((e,t)=>(0,l.jsx)("option",{value:e.value,children:e.label},t))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repayment Account (System)"}),(0,l.jsxs)("select",{name:"loan_repayment_account",value:U.loan_repayment_account,onChange:de,className:"w-full px-3 py-2 border rounded-md ".concat(Ne&&1===g?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select active system account"}),Q.map(e=>(0,l.jsxs)("option",{value:e.id,children:["Australia"===(Array.isArray(e.account_type)?e.account_type[0]:e.account_type)?Array.isArray(e.bank_name_au)?e.bank_name_au[0]:e.bank_name_au:Array.isArray(e.bank_name_mn)?e.bank_name_mn[0]:e.bank_name_mn," \u2022 ",e.account_name," \u2022 ",e.account_number,e.bsb?" \u2022 BSB ".concat(e.bsb):""]},e.id))]})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{return e=()=>r("loans-active"),void(X?(_(()=>e),v(!0)):e());var e},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",disabled:pe().length>0,onClick:()=>b(2),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Borrower Details"})]})]}),2===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Borrower Details"}),(0,l.jsx)(Be,{b:J})]}),"Yes"===U.co_borrower_status&&(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Co-borrower Details"}),(0,l.jsx)(Be,{b:S.find(e=>String(e.id)===String(U.co_borrower))})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",disabled:he().length>0,onClick:()=>b(3),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Loan Schedule"})]})]}),3===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Repayment Schedule"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>window.print(),disabled:!W||0===W.length,className:"px-3 py-1.5 text-sm rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Print schedule",children:"Print"}),(0,l.jsx)("button",{type:"button",onClick:()=>{if(!W||0===W.length)return;const e=[["#","Date","Payment","Principal","Interest","Balance"],...W.map(e=>[e.idx,new Date(e.date).toISOString().slice(0,10),e.payment.toFixed(2),e.principal.toFixed(2),e.interest.toFixed(2),e.balance.toFixed(2)])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r;const a="repayment_schedule_".concat(U.loan_id||"loan",".csv");n.setAttribute("download",a),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},disabled:!W||0===W.length,className:"px-3 py-1.5 text-sm rounded border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Download CSV",children:"Download CSV"})]})]}),0===W.length?(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Adjust inputs to generate schedule."}):(0,l.jsx)("div",{className:"overflow-x-auto border rounded-md",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"#"}),(0,l.jsx)("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Date"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Payment"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Principal"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Interest"}),(0,l.jsx)("th",{className:"px-3 py-2 text-right font-medium text-gray-700",children:"Balance"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-100",children:W.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-3 py-1",children:e.idx}),(0,l.jsx)("td",{className:"px-3 py-1",children:new Date(e.date).toLocaleDateString()}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),e.payment.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),e.principal.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),e.interest.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-3 py-1 text-right",children:[I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),e.balance.toFixed(2)]})]},e.idx))})]})})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(2),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",disabled:fe().length>0,onClick:()=>b(4),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Bank Statements"})]})]}),4===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bank Statements"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 hover:border-blue-400 rounded-md p-4 bg-gray-50",children:[(0,l.jsxs)("label",{className:"w-full flex flex-col items-center cursor-pointer",children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v9m0-9l3 3m-3-3l-3 3M12 3v9"})}),(0,l.jsx)("span",{className:"text-xs text-gray-600 mt-1",children:"Click to upload PDF (max 5MB each)"}),(0,l.jsx)("input",{type:"file",accept:"application/pdf",multiple:!0,onChange:e=>{D("");const t=Array.from(e.target.files||[]);t.filter(e=>"application/pdf"!==e.type||e.size>5242880).length&&D("Only PDF files up to 5MB are allowed.");const r=t.filter(e=>"application/pdf"===e.type&&e.size<=5242880);z(e=>[...e,...r])},className:"hidden"})]}),P&&(0,l.jsx)("div",{className:"mt-2 text-xs text-red-600",children:P}),B&&B.length>0&&(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Uploaded Files"}),(0,l.jsx)("ul",{className:"divide-y divide-gray-200 rounded-md border border-gray-200 bg-white",children:B.map((e,t)=>{const r=(e.size/1048576).toFixed(2);return(0,l.jsxs)("li",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-gray-900",children:e.name}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[r," MB"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{const t=URL.createObjectURL(e);window.open(t,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(t),1e4)},className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"View"}),(0,l.jsx)("button",{type:"button",onClick:()=>z(e=>e.filter((e,r)=>r!==t)),className:"px-2 py-1 text-xs border border-red-200 text-red-700 rounded hover:bg-red-50",children:"Remove"})]})]},t)})})]})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(3),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>b(5),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Next: Collateral"})]})]}),5===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Collateral"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 hover:border-blue-400 rounded-md p-4 bg-gray-50",children:[(0,l.jsxs)("label",{className:"w-full flex flex-col items-center cursor-pointer",children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v9m0-9l3 3m-3-3l-3 3M12 3v9"})}),(0,l.jsx)("span",{className:"text-xs text-gray-600 mt-1",children:"Click to upload PDF (max 5MB)"}),(0,l.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{var t;return F((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"hidden"})]}),T&&(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Uploaded File"}),(0,l.jsx)("ul",{className:"divide-y divide-gray-200 rounded-md border border-gray-200 bg-white",children:(0,l.jsxs)("li",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-gray-900",children:T.name}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[(T.size/1048576).toFixed(2)," MB"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{const e=URL.createObjectURL(T);window.open(e,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(e),1e4)},className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"View"}),(0,l.jsx)("button",{type:"button",onClick:()=>F(null),className:"px-2 py-1 text-xs border border-red-200 text-red-700 rounded hover:bg-red-50",children:"Remove"})]})]})})]})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(4),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>b(6),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Next: Contract"})]})]}),6===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contract"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 hover:border-blue-400 rounded-md p-4 bg-gray-50",children:[(0,l.jsxs)("label",{className:"w-full flex flex-col items-center cursor-pointer",children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v9m0-9l3 3m-3-3l-3 3M12 3v9"})}),(0,l.jsx)("span",{className:"text-xs text-gray-600 mt-1",children:"Click to upload PDF (max 5MB)"}),(0,l.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{var t;return V((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"hidden"})]}),O&&(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Uploaded File"}),(0,l.jsx)("ul",{className:"divide-y divide-gray-200 rounded-md border border-gray-200 bg-white",children:(0,l.jsxs)("li",{className:"flex items-center justify-between px-3 py-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"truncate text-gray-900",children:O.name}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[(O.size/1048576).toFixed(2)," MB"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{const e=URL.createObjectURL(O);window.open(e,"_blank","noopener"),setTimeout(()=>URL.revokeObjectURL(e),1e4)},className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"View"}),(0,l.jsx)("button",{type:"button",onClick:()=>V(null),className:"px-2 py-1 text-xs border border-red-200 text-red-700 rounded hover:bg-red-50",children:"Remove"})]})]})})]})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(5),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>b(7),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Next: Note"})]})]}),7===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Note"}),(0,l.jsx)("textarea",{name:"loan_note",value:U.loan_note,onChange:de,rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Enter any notes about this loan"})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(6),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u||!me(U.borrower)&&!me(U.loan_product),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsx)("button",{type:"button",onClick:()=>b(8),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Next: Confirm"})]})]}),8===g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Loan"}),(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded bg-blue-50 text-blue-700 border border-blue-200",children:"Step 8 of 8"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Loan Summary"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-y-1",children:[(0,l.jsx)("div",{className:"text-gray-500",children:"Loan ID"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:U.loan_id}),(0,l.jsx)("div",{className:"text-gray-500",children:"Status"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:U.loan_status}),(0,l.jsx)("div",{className:"text-gray-500",children:"Product"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:null===Y||void 0===Y?void 0:Y.product_name}),(0,l.jsx)("div",{className:"text-gray-500",children:"Interest"}),(0,l.jsxs)("div",{className:"text-gray-900 font-medium",children:[U.loan_interest,"%"]}),(0,l.jsx)("div",{className:"text-gray-500",children:"Term"}),(0,l.jsxs)("div",{className:"text-gray-900 font-medium",children:[U.loan_term," months"]}),(0,l.jsx)("div",{className:"text-gray-500",children:"Amount"}),(0,l.jsxs)("div",{className:"text-gray-900 font-medium",children:[I(U.loan_currency||(null===Y||void 0===Y?void 0:Y.currency)),U.loan_amount]}),(0,l.jsx)("div",{className:"text-gray-500",children:"Method"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:U.repayment_method}),(0,l.jsx)("div",{className:"text-gray-500",children:"Frequency"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:U.repayment_frequency}),(0,l.jsx)("div",{className:"text-gray-500",children:"Start"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:U.start_date}),(0,l.jsx)("div",{className:"text-gray-500",children:"End"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium",children:U.end_date})]})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Borrower"}),(0,l.jsx)(Be,{b:J}),"Yes"===U.co_borrower_status&&U.co_borrower&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Co-borrower"}),(0,l.jsx)(Be,{b:S.find(e=>String(e.id)===String(U.co_borrower))})]})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Accounts"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-gray-500",children:"Disbursement"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium break-all",children:(()=>{try{const e=U.loan_disbursement_account?JSON.parse(U.loan_disbursement_account):null;if(!e)return"";const t=Array.isArray(e.bankName)?e.bankName[0]||"":e.bankName||"";return[e.accountName||"",t,e.accountNumber||"",e.bsb?"BSB ".concat(e.bsb):""].filter(Boolean).join(" \u2022 ")}catch(e){return""}})()||"-"})]}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("div",{className:"text-gray-500",children:"Repayment"}),(0,l.jsx)("div",{className:"text-gray-900 font-medium break-all",children:(()=>{const e=Q.find(e=>String(e.id)===String(U.loan_repayment_account));if(!e)return"";const t="Australia"===(Array.isArray(e.account_type)?e.account_type[0]:e.account_type)?Array.isArray(e.bank_name_au)?e.bank_name_au[0]:e.bank_name_au:Array.isArray(e.bank_name_mn)?e.bank_name_mn[0]:e.bank_name_mn;return[e.account_name||"",t||"",e.account_number||"",e.bsb?"BSB ".concat(e.bsb):""].filter(Boolean).join(" \u2022 ")})()||"-"})]})]})]}),(0,l.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50 md:col-span-3",children:[(0,l.jsx)("div",{className:"font-semibold text-gray-900 mb-2",children:"Note"}),(0,l.jsx)("div",{className:"text-gray-900 whitespace-pre-wrap",children:U.loan_note||"-"})]})]})]}),(0,l.jsxs)("div",{className:"md:col-span-2 flex justify-between space-x-4 pt-6 border-t border-gray-200 mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>b(7),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:Me,disabled:u,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving\u2026":(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V7l-4-4z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 3v8h10V3"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 13h10v8H7z"})]}),"Save as Draft"]})})]}),(0,l.jsxs)("button",{type:"submit",disabled:i||!!p,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[i&&(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:i?"Creating...":"Confirm & Create Loan"})]})]})]})]})}),(0,l.jsx)(k,{isVisible:f.show,onClose:()=>x({show:!1,message:"",type:"success"}),message:f.message,type:f.type}),(0,l.jsx)(N,{isOpen:y,onClose:()=>{v(!1),_(null)},onConfirm:()=>{v(!1);const e=j;_(null),e&&e()},title:"Discard changes?",message:"You have unsaved changes. Are you sure you want to leave this page?",confirmText:"Leave Without Saving",cancelText:"Continue Editing",type:"warning"})]})},W=e=>{let{onSelectContract:t,onCreateNew:r}=e;const[a]=(0,n.useState)([]),[s]=(0,n.useState)(!1),[o]=(0,n.useState)("");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loan Contracts"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage and view loan contracts and agreements"})]}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create New Contract"})]})]})}),0===a.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No contracts found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by creating your first loan contract. This will help you manage agreements and handle contract templates."}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create First Contract"})]})]}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contract"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Borrower"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan Amount"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200"})]})})})]})},H=e=>{let{token:t,setCurrentView:r}=e;const[a,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[f,x]=(0,n.useState)({account_type:"",bank_name_au:"",bank_name_mn:"",account_name:"",bsb:"",account_number:"",account_status:!0}),[g,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)({show:!1,message:"",type:"success"}),[j,N]=(0,n.useState)(!1),[_,S]=(0,n.useState)(null),[C,L]=(0,n.useState)({account_status:!0}),[E,M]=(0,n.useState)({account_status:!0}),[A,B]=(0,n.useState)(!1),[z,P]=(0,n.useState)(""),[D,T]=(0,n.useState)(""),F=["Commonwealth Bank of Australia (CBA)","Westpac Banking Corporation","Australia and New Zealand Banking Group (ANZ)","National Australia Bank (NAB)","Macquarie Bank","Bank of Queensland (BOQ)","Bendigo and Adelaide Bank","Suncorp Bank","ING Bank (Australia)","AMP Bank","Bankwest","ME Bank (Members Equity Bank)","UBank","HSBC Bank Australia","Rabobank Australia","Bank Australia","Heritage Bank","Beyond Bank Australia","People's Choice Credit Union","Defence Bank","Teachers Mutual Bank","Police Bank","Newcastle Permanent Bank","Greater Bank"],O=["Khan Bank","Trade and Development Bank","Golomt Bank","XacBank","State Bank","Ard Bank","Capitron Bank","Bogd Bank","TransBank","Tenger Bank","National Investment Bank","Chingis Khaan Bank","Arig Bank","Credit Bank","Development Bank of Mongolia"],R=async()=>{if(t){i(!0),d("");try{const e=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/bank-account-system?status=publish,draft&per_page=100"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch bank accounts: ".concat(e.status," ").concat(e.statusText));const r=await e.json();s(r),h(!0)}catch(e){console.error("Error fetching bank accounts:",e),d("Failed to load bank accounts: ".concat(e.message)),s([]),h(!1)}finally{i(!1)}}},I=async e=>{if(e.preventDefault(),t){b(!0),d(""),v({show:!1,message:"",type:"success"});try{const e={title:f.account_name,status:f.account_status?"publish":"draft",account_type:f.account_type,bank_name_au:f.bank_name_au||"",bank_name_mn:f.bank_name_mn||"",account_name:f.account_name,bsb:f.bsb||"",account_number:f.account_number,account_status:f.account_status?"Active":"Inactive"},r=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/bank-account-system"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||"Failed to create bank account: ".concat(r.status," ").concat(r.statusText))}const n=await r.json();s(e=>[...e,n]),v({show:!0,message:"Bank account created successfully!",type:"success"}),x({account_type:"",bank_name_au:"",bank_name_mn:"",account_name:"",bsb:"",account_number:"",account_status:!0}),m(!1)}catch(r){console.error("Error creating bank account:",r),d("Failed to create bank account: ".concat(r.message))}finally{b(!1)}}},V=e=>{const{name:t,value:r,type:n,checked:a}=e.target;x(e=>w(w({},e),{},{[t]:"checkbox"===n?a:r}))},W=async()=>{if(t&&_){b(!0),d("");try{const e={status:C.account_status?"publish":"draft",account_status:C.account_status?"Active":"Inactive"},r=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/bank-account-system/").concat(_.id),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||"Failed to update bank account: ".concat(r.status," ").concat(r.statusText))}v({show:!0,message:"Bank account updated successfully!",type:"success"}),S(e=>w(w({},e),{},{account_status:C.account_status})),s(e=>e.map(e=>e.id===_.id?w(w({},e),{},{account_status:C.account_status}):e)),N(!1),R()}catch(e){console.error("Bank account update error:",e),d("Failed to update bank account: ".concat(e.message))}finally{b(!1)}}},H=()=>{C.account_status!==E.account_status?B(!0):N(!1)},U=()=>{N(!1),B(!1)},q=()=>{B(!1),W()},$=a?a.filter(e=>{try{let t=!0;if(z){const r=z.toLowerCase();t=e.account_name&&String(e.account_name).toLowerCase().includes(r)||e.title&&String(e.title.rendered||e.title).toLowerCase().includes(r)||e.bank_name_au&&String(e.bank_name_au).toLowerCase().includes(r)||e.bank_name_mn&&String(e.bank_name_mn).toLowerCase().includes(r)||e.account_number&&String(e.account_number).includes(z)||e.bsb&&String(e.bsb).includes(z)}let r=!0;if(D){r=(Array.isArray(e.account_type)?e.account_type[0]:e.account_type)===D}return t&&r}catch(c){return console.error("Error filtering account:",c,e),!0}}):[];if((0,n.useEffect)(()=>{R()},[t]),u)return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Add New Bank Account"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Enter bank account details"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"account_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type *"}),(0,l.jsxs)("select",{id:"account_type",name:"account_type",value:f.account_type,onChange:V,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"",children:"Select Country"}),(0,l.jsx)("option",{value:"Australia",children:"Australia"}),(0,l.jsx)("option",{value:"Mongolia",children:"Mongolia"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"bank_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name *"}),(0,l.jsxs)("select",{id:"bank_name",name:"Australia"===f.account_type?"bank_name_au":"bank_name_mn",value:"Australia"===f.account_type?f.bank_name_au:f.bank_name_mn,onChange:V,required:!0,disabled:!f.account_type,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[(0,l.jsx)("option",{value:"",children:"Select Bank"}),"Australia"===f.account_type&&F.map(e=>(0,l.jsx)("option",{value:e,children:e},e)),"Mongolia"===f.account_type&&O.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"account_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Name *"}),(0,l.jsx)("input",{type:"text",id:"account_name",name:"account_name",value:f.account_name,onChange:V,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter account holder name"})]}),"Australia"===f.account_type&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"bsb",className:"block text-sm font-medium text-gray-700 mb-2",children:"BSB *"}),(0,l.jsx)("input",{type:"text",id:"bsb",name:"bsb",value:f.bsb,onChange:V,required:!0,pattern:"[0-9]{6}",maxLength:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123456"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number *"}),(0,l.jsx)("input",{type:"number",id:"account_number",name:"account_number",value:f.account_number,onChange:V,required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter account number"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("button",{type:"button",onClick:()=>x(w(w({},f),{},{account_status:!f.account_status})),className:"relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(f.account_status?"bg-green-500 focus:ring-green-300":"bg-gray-300 focus:ring-gray-300"),"aria-pressed":f.account_status,"aria-label":"Toggle account status",children:(0,l.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ".concat(f.account_status?"translate-x-6":"translate-x-1")})}),(0,l.jsx)("span",{className:"text-sm ".concat(f.account_status?"text-green-700":"text-gray-700"),children:f.account_status?"Active":"Inactive"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Toggle to activate or deactivate this bank account"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,l.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[g&&(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:g?"Creating...":"Create Account"})]})]})]})})]});try{return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bank Accounts"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage and view bank accounts and financial information"})]}),(0,l.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Add New Account"})]})]})}),(0,l.jsx)("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Accounts"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("input",{type:"text",id:"search",value:z,onChange:e=>P(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by account name, bank, account number, or BSB..."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"countryFilter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Country"}),(0,l.jsxs)("select",{id:"countryFilter",value:D,onChange:e=>T(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"",children:"All Countries"}),(0,l.jsx)("option",{value:"Australia",children:"Australia"}),(0,l.jsx)("option",{value:"Mongolia",children:"Mongolia"})]})]})]})}),c&&(0,l.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),o&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsxs)("svg",{className:"animate-spin h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading accounts..."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please wait while we fetch your bank accounts."})]}),!o&&0===a.length&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No accounts found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by adding your first bank account. This will help you manage financial information and track transactions."}),(0,l.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Add First Account"})]})]}),!o&&a.length>0&&0===$.length&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No matching accounts"}),(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:"No accounts match your current search criteria."}),(0,l.jsx)("p",{className:"text-sm text-gray-400 mb-6",children:"Try adjusting your search term or country filter."}),(0,l.jsx)("button",{onClick:()=>{P(""),T("")},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium",children:"Clear Filters"})]}),!o&&$.length>0&&(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Country"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bank"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Number"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BSB"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map((e,t)=>{let r=e.account_status;Array.isArray(r)&&(r=r[0]);const n=!0===r||"Active"===r||"active"===r;return(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.account_name||e.title}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Array.isArray(e.account_type)?e.account_type[0]:e.account_type}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Australia"===(Array.isArray(e.account_type)?e.account_type[0]:e.account_type)?Array.isArray(e.bank_name_au)?e.bank_name_au[0]:e.bank_name_au:Array.isArray(e.bank_name_mn)?e.bank_name_mn[0]:e.bank_name_mn}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.account_number}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.bsb||"-"}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(n?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:n?"Active":"Inactive"})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,l.jsx)("button",{onClick:()=>(e=>{S(e);let t=e.account_status;Array.isArray(t)&&(t=t[0]);const r={account_status:!0===t||"Active"===t||"active"===t};L(r),M(r),N(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View/Edit Account",children:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},t)})})]})})}),j&&_&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bank Account Details"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Account Name"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:_.account_name||_.title})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:Array.isArray(_.account_type)?_.account_type[0]:_.account_type})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bank"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:"Australia"===(Array.isArray(_.account_type)?_.account_type[0]:_.account_type)?Array.isArray(_.bank_name_au)?_.bank_name_au[0]:_.bank_name_au:Array.isArray(_.bank_name_mn)?_.bank_name_mn[0]:_.bank_name_mn})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Account Number"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:_.account_number})]}),_.bsb&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"BSB"}),(0,l.jsx)("p",{className:"text-sm text-gray-900",children:_.bsb})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Status"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("button",{onClick:()=>L(w(w({},C),{},{account_status:!C.account_status})),className:"relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(C.account_status?"bg-green-500 focus:ring-green-300":"bg-gray-300 focus:ring-gray-300"),"aria-pressed":C.account_status,"aria-label":"Toggle account status",children:(0,l.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow transition-transform ".concat(C.account_status?"translate-x-6":"translate-x-1")})}),(0,l.jsx)("span",{className:"text-sm ".concat(C.account_status?"text-green-700":"text-gray-700"),children:C.account_status?"Active":"Inactive"})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,l.jsx)("button",{onClick:H,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,l.jsx)("button",{onClick:W,disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Updating...":"Update Account"})]})]})})}),A&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsxs)("div",{className:"mt-2 text-center",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Unsaved Changes"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"You have unsaved changes. Do you want to save them before closing?"})})]}),(0,l.jsxs)("div",{className:"flex justify-center gap-3 mt-6",children:[(0,l.jsx)("button",{onClick:U,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Discard Changes"}),(0,l.jsx)("button",{onClick:q,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Save Changes"})]})]})})}),(0,l.jsx)(k,{isVisible:y.show,onClose:()=>v({show:!1,message:"",type:"success"}),message:y.message,type:y.type})]})}catch(c){return console.error("BankAccounts component error:",c),(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 max-w-md w-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Bank Accounts"}),(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:"There was an error loading the bank accounts page."}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:"Reload Page"})]})})})}},U=e=>{var t,r;let{token:a}=e;const[s,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[x,g]=(0,n.useState)({show:!1,message:"",type:"success"}),[b,y]=(0,n.useState)({note_title:"",note:"",note_type:"General"}),[v,j]=(0,n.useState)(null),[_,S]=(0,n.useState)(!1),[C,L]=(0,n.useState)(null),[E,M]=(0,n.useState)(!1),[A,B]=(0,n.useState)({note_title:"",note:"",note_type:"General"}),[z,P]=(0,n.useState)(!1),[D,T]=(0,n.useState)(!1),[F,O]=(0,n.useState)(null),[R,I]=(0,n.useState)({note_title:"",note:"",note_type:"General"}),[V,W]=(0,n.useState)(""),[H,U]=(0,n.useState)("All"),[q,$]=(0,n.useState)(1),[G,Q]=(0,n.useState)(50),[Y,J]=(0,n.useState)("grid"),[K,X]=(0,n.useState)([]),[Z,ee]=(0,n.useState)(!1),[te,re]=(0,n.useState)(""),[ne,ae]=(0,n.useState)(0),le="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",se=["General","Client","Loan","System","Other"];(0,n.useEffect)(()=>{(async()=>{if(a){c(!0),u("");try{const n=["notes","note-system","note"];let l=null,s=null;for(const e of n)try{if(console.log("Trying endpoint: ".concat(le,"/wp/v2/").concat(e)),l=await fetch("".concat(le,"/wp/v2/").concat(e,"?status=publish,draft&per_page=100"),{method:"GET",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}),l.ok){s=await l.json(),console.log("Success with endpoint: ".concat(e),s);break}console.log("Failed with endpoint ".concat(e,": ").concat(l.status," ").concat(l.statusText))}catch(r){console.log("Error with endpoint ".concat(e,":"),r)}var e,t;if(!l||!l.ok)throw new Error("Failed to fetch notes from any endpoint. Last status: ".concat(null===(e=l)||void 0===e?void 0:e.status," ").concat(null===(t=l)||void 0===t?void 0:t.statusText));o(s||[])}catch(n){console.error("Error fetching notes:",n),u("Failed to load notes: ".concat(n.message,". Please check if the PODS backend is configured correctly.")),o([])}finally{c(!1)}}})(),(async()=>{if(a)try{const e=await fetch("".concat(le,"/wp/v2/borrower-profile?per_page=100"),{method:"GET",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(e.ok){const t=await e.json();X(t||[])}}catch(e){console.error("Error fetching borrowers:",e)}})()},[a]);const oe=()=>{y({note_title:"",note:"",note_type:"General"}),p(!0)},ie=e=>{j(e),S(!0)},ce=()=>{j(null),S(!1)},de=()=>{(()=>{const e=Array.isArray(A.note_type)?A.note_type[0]:A.note_type,t=Array.isArray(R.note_type)?R.note_type[0]:R.note_type,r=A.note_title!==R.note_title,n=A.note!==R.note;return r||n||e!==t})()?T(!0):ue()},ue=()=>{L(null),M(!1),B({note_title:"",note:"",note_type:"General"}),I({note_title:"",note:"",note_type:"General"}),T(!1)},me=()=>{M(!1),T(!1)},pe=()=>{T(!1),he({preventDefault:()=>{}})},he=async e=>{if(e.preventDefault(),a&&C)if(A.note_title.trim())if(A.note.trim()){f(!0),u(""),g({show:!1,message:"",type:"success"});try{const e={title:A.note_title,status:"publish",note_title:A.note_title,note:A.note,note_type:A.note_type},t=await fetch("".concat(le,"/wp/v2/notes/").concat(C.id),{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update note: ".concat(t.status," ").concat(t.statusText));const r=await t.json();o(e=>e.map(e=>e.id===C.id?r:e)),g({show:!0,message:"Note updated successfully",type:"success"}),ue()}catch(t){console.error("Error updating note:",t),u("Failed to update note: ".concat(t.message))}finally{f(!1)}}else u("Note content is required");else u("Note title is required")},fe=async e=>{if(e.preventDefault(),a)if(b.note_title.trim())if(b.note.trim()){f(!0),u(""),g({show:!1,message:"",type:"success"});try{const e={title:b.note_title,status:"publish",note_title:b.note_title,note:b.note,note_type:b.note_type},l=["notes","note-system","note","posts","note_system"];let s=null,i=!1;for(const t of l)try{if(console.log("Trying to create note with endpoint: ".concat(le,"/wp/v2/").concat(t)),s=await fetch("".concat(le,"/wp/v2/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)}),s.ok){i=!0,console.log("Success creating note with endpoint: ".concat(t));break}{const e=await s.text();console.log("Failed creating note with endpoint ".concat(t,": ").concat(s.status," ").concat(s.statusText," - ").concat(e))}}catch(n){console.log("Error creating note with endpoint ".concat(t,":"),n)}var t,r;if(!i||!s||!s.ok)throw new Error("Failed to create note with any endpoint. Last status: ".concat(null===(t=s)||void 0===t?void 0:t.status," ").concat(null===(r=s)||void 0===r?void 0:r.statusText));const c=await s.json();o(e=>[c,...e]),g({show:!0,message:"Note created successfully!",type:"success"}),y({note_title:"",note:"",note_type:"General"}),p(!1)}catch(l){console.error("Error creating note:",l),u("Failed to create note: ".concat(l.message))}finally{f(!1)}}else u("Note content is required");else u("Note title is required")},xe=e=>{const{name:t,value:r}=e.target;y(e=>w(w({},e),{},{[t]:r}))},ge=e=>{switch(e){case"General":default:return"bg-gray-100 text-gray-800";case"Client":return"bg-blue-100 text-blue-800";case"Loan":return"bg-green-100 text-green-800";case"System":return"bg-purple-100 text-purple-800";case"Other":return"bg-yellow-100 text-yellow-800"}},be=s.filter(e=>{var t,r;const n=""===V||(e.note_title||(null===(t=e.title)||void 0===t?void 0:t.rendered)||"").toLowerCase().includes(V.toLowerCase())||(e.note||(null===(r=e.content)||void 0===r?void 0:r.rendered)||"").toLowerCase().includes(V.toLowerCase()),a="All"===H||e.note_type===H;return n&&a}),ye=Math.ceil(be.length/G),ve=(q-1)*G,je=ve+G,we=be.slice(ve,je);(0,n.useEffect)(()=>{$(1)},[V,H]);const Ne=e=>{$(e)},ke=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=e.target.value,n=e.target.selectionStart,a=r.substring(0,n),l=a.lastIndexOf("@");if(-1!==l){const e=a.substring(l+1);e.includes(" ")||e.includes("\n")?ee(!1):(re(e),ae(l),ee(!0))}else ee(!1);t?B(e=>w(w({},e),{},{note:r})):y(e=>w(w({},e),{},{note:r}))},_e=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r="@".concat(e.first_name," ").concat(e.last_name),n=(t?A:b).note,a=n.substring(0,ne)+r+n.substring(ne+1+te.length);t?B(e=>w(w({},e),{},{note:a})):y(e=>w(w({},e),{},{note:a})),ee(!1),re("")},Se=K.filter(e=>"".concat(e.first_name||""," ").concat(e.last_name||"").toLowerCase().includes(te.toLowerCase()));return m?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Add New Note"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Create and save an internal note"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("form",{onSubmit:fe,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"note_title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note Title *"}),(0,l.jsx)("input",{type:"text",id:"note_title",name:"note_title",value:b.note_title,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter note title"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"note_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note Type *"}),(0,l.jsx)("select",{id:"note_type",name:"note_type",value:b.note_type,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:se.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note Content *"}),(0,l.jsx)("textarea",{id:"note",name:"note",value:b.note,onChange:e=>ke(e,!1),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Write your note here... Type @ to mention a borrower"}),Z&&(0,l.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Se.length>0?Se.map(e=>{var t,r;return(0,l.jsx)("div",{onClick:()=>_e(e,!1),className:"px-3 py-2 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-blue-600 font-medium text-sm",children:[null===(t=e.first_name)||void 0===t?void 0:t[0],null===(r=e.last_name)||void 0===r?void 0:r[0]]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.email_address||"ID: ".concat(e.borrower_id||e.id)})]})]})},e.id)}):(0,l.jsx)("div",{className:"px-3 py-2 text-gray-500 text-sm",children:"No borrowers found"})})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,l.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[h&&(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:h?"Creating...":"Create Note"})]})]})]})})]}):E&&C?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Edit Note"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Update note information"})]})}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("form",{onSubmit:he,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"edit_note_title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note Title *"}),(0,l.jsx)("input",{type:"text",id:"edit_note_title",name:"note_title",value:A.note_title,onChange:e=>B(t=>w(w({},t),{},{note_title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter note title"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"edit_note_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note Type *"}),(0,l.jsx)("select",{id:"edit_note_type",name:"note_type",value:A.note_type,onChange:e=>B(t=>w(w({},t),{},{note_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:se.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("label",{htmlFor:"edit_note",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note Content *"}),(0,l.jsx)("textarea",{id:"edit_note",name:"note",value:A.note,onChange:e=>ke(e,!0),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Write your note here... Type @ to mention a borrower"}),Z&&(0,l.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Se.length>0?Se.map(e=>{var t,r;return(0,l.jsx)("div",{onClick:()=>_e(e,!0),className:"px-3 py-2 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-blue-600 font-medium text-sm",children:[null===(t=e.first_name)||void 0===t?void 0:t[0],null===(r=e.last_name)||void 0===r?void 0:r[0]]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.email_address||"ID: ".concat(e.borrower_id||e.id)})]})]})},e.id)}):(0,l.jsx)("div",{className:"px-3 py-2 text-gray-500 text-sm",children:"No borrowers found"})})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,l.jsx)("button",{type:"button",onClick:de,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),(0,l.jsxs)("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[h&&(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:h?"Updating...":"Update Note"})]})]})]})}),D&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3 text-center",children:[(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unsaved Changes"}),(0,l.jsx)("div",{className:"mt-2 px-7 py-3",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"You have unsaved changes. Do you want to save them before closing?"})}),(0,l.jsxs)("div",{className:"flex justify-center gap-3 mt-6",children:[(0,l.jsx)("button",{onClick:me,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Discard Changes"}),(0,l.jsx)("button",{onClick:pe,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Save Changes"})]})]})})})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Notes"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Create and manage your internal notes"})]}),(0,l.jsxs)("button",{onClick:oe,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Add New Note"})]})]})}),d&&(0,l.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}),i&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsxs)("svg",{className:"animate-spin h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading notes..."}),(0,l.jsx)("p",{className:"text-gray-500",children:"Please wait while we fetch your notes."})]}),!i&&s.length>0&&0===be.length&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notes found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-6",children:"No notes match your search criteria. Try adjusting your search or filter."}),(0,l.jsxs)("button",{onClick:()=>{W(""),U("All")},className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Clear Filters"]})]}),!i&&0===s.length&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h10M7 11h10M7 15h10"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No notes yet"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Create and organize notes related to loans and borrowers. This section will hold your internal notes."}),(0,l.jsxs)("button",{onClick:oe,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Add First Note"})]})]}),!i&&s.length>0&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Notes"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,l.jsx)("input",{type:"text",id:"search",value:V,onChange:e=>W(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by title or content..."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Type"}),(0,l.jsxs)("select",{id:"filter",value:H,onChange:e=>U(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:"All",children:"All Types"}),se.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per Page"}),(0,l.jsxs)("select",{value:G,onChange:e=>{const t=Number(e.target.value);Q(t),$(1)},className:"block w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,l.jsx)("option",{value:5,children:"5"}),(0,l.jsx)("option",{value:10,children:"10"}),(0,l.jsx)("option",{value:50,children:"50"}),(0,l.jsx)("option",{value:100,children:"100"})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",ve+1,"-",Math.min(je,be.length)," of ",be.length," notes",be.length!==s.length&&(0,l.jsx)("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"View:"}),(0,l.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,l.jsx)("button",{onClick:()=>J("grid"),className:"px-3 py-1 text-sm rounded-md transition-colors duration-200 ".concat("grid"===Y?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Grid View",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),(0,l.jsx)("button",{onClick:()=>J("list"),className:"px-3 py-1 text-sm rounded-md transition-colors duration-200 ".concat("list"===Y?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"List View",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]})]}),!i&&be.length>0&&("grid"===Y?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:we.map((e,t)=>{var r,n;let a=e.note_type;Array.isArray(a)&&(a=a[0]);const s=e.note||(null===(r=e.content)||void 0===r?void 0:r.rendered)||"No content",o=s.length>150?s.substring(0,150)+"...":s;return(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 ".concat("grid"===Y?"p-6":"p-4"),children:"grid"===Y?(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsx)("div",{className:"flex-1 min-w-0",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.note_title||(null===(n=e.title)||void 0===n?void 0:n.rendered)||"Untitled Note"})}),(0,l.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ml-2 flex-shrink-0 ".concat(ge(a)),children:a||"General"})]}),(0,l.jsx)("div",{className:"text-gray-700 text-sm flex-1 mb-4",children:(0,l.jsx)("div",{className:"overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",lineHeight:"1.4",maxHeight:"5.6em"},children:o})}),(0,l.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-100",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,l.jsx)("button",{onClick:()=>ie(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]})})]}):null},t)})}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Content Preview"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:we.map((e,t)=>{var r,n;let a=e.note_type;Array.isArray(a)&&(a=a[0]);const s=e.note||(null===(r=e.content)||void 0===r?void 0:r.rendered)||"No content",o=s.length>100?s.substring(0,100)+"...":s;return(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.note_title||(null===(n=e.title)||void 0===n?void 0:n.rendered)||"Untitled Note"})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(ge(a)),children:a||"General"})}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsx)("div",{className:"text-sm text-gray-700 max-w-xs",children:(0,l.jsx)("div",{className:"overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4",maxHeight:"2.8em"},children:o})})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,l.jsx)("button",{onClick:()=>ie(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Note Details",children:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},t)})})]})})})),!i&&be.length>0&&ye>1&&(0,l.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",q," of ",ye]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>Ne(q-1),disabled:1===q,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:ye},(e,t)=>t+1).map(e=>1===e||e===ye||e>=q-1&&e<=q+1?(0,l.jsx)("button",{onClick:()=>Ne(e),className:"px-3 py-2 text-sm font-medium rounded-md ".concat(e===q?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:e},e):e===q-2||e===q+2?(0,l.jsx)("span",{className:"px-2 py-1 text-sm text-gray-500",children:"..."},e):null)}),(0,l.jsx)("button",{onClick:()=>Ne(q+1),disabled:q===ye,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),(0,l.jsx)(k,{isVisible:x.show,onClose:()=>g({show:!1,message:"",type:"success"}),message:x.message,type:x.type}),_&&v&&(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,l.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Note Details"}),(0,l.jsx)("button",{onClick:ce,className:"text-gray-400 hover:text-gray-600",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("h4",{className:"text-xl font-semibold text-gray-900",children:v.note_title||(null===(t=v.title)||void 0===t?void 0:t.rendered)||"Untitled Note"})}),(0,l.jsx)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ml-4 ".concat(ge(v.note_type)),children:v.note_type||"General"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,l.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 max-h-60 overflow-y-auto",children:(0,l.jsx)("div",{className:"whitespace-pre-wrap",children:v.note||(null===(r=v.content)||void 0===r?void 0:r.rendered)||"No content"})})]}),(0,l.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Created:"})," ",new Date(v.date).toLocaleDateString()," at ",new Date(v.date).toLocaleTimeString()]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Note ID:"})," ",v.id]})]})}),(0,l.jsxs)("div",{className:"pt-4 border-t border-gray-200 flex justify-between items-center",children:[(0,l.jsxs)("button",{onClick:()=>{return e=v.id,O(e),void P(!0);var e},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,l.jsx)("span",{children:"Delete"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:ce,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Close"}),(0,l.jsx)("button",{onClick:()=>(e=>{var t,r;L(e);const n={note_title:e.note_title||(null===(t=e.title)||void 0===t?void 0:t.rendered)||"",note:(a=e.note||(null===(r=e.content)||void 0===r?void 0:r.rendered)||"",a?a.replace(/<[^>]*>/g,"").trim():""),note_type:e.note_type||"General"};var a;const l=w({},n),s=w({},n);B(l),I(s),M(!0),ce()})(v),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Edit Note"})]})]})]})]})})}),(0,l.jsx)(N,{isOpen:z,onClose:()=>{P(!1),O(null)},onConfirm:async()=>{if(a&&F)try{const e=await fetch("".concat(le,"/wp/v2/notes/").concat(F,"?force=true"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to delete note: ".concat(e.status," ").concat(e.statusText));o(e=>e.filter(e=>String(e.id)!==String(F))),g({show:!0,message:"Note deleted successfully",type:"success"}),P(!1),O(null),ce()}catch(e){console.error("Error deleting note:",e),u("Failed to delete note: ".concat(e.message)),P(!1),O(null)}},title:"Delete Note",message:"Are you sure you want to delete this note? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"error"})]})},q=e=>{let{onSelectReport:t,onCreateNew:r}=e;const[a]=(0,n.useState)([]),[s]=(0,n.useState)(!1),[o]=(0,n.useState)("");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reports"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Generate and view system reports and analytics"})]}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Generate Report"})]})]})}),0===a.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reports found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by generating your first report. This will help you analyze loan data, track performance, and monitor system metrics."}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Generate First Report"})]})]}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Generated"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200"})]})})})]})},$=e=>{let{onSelectSetting:t,onCreateNew:r}=e;const[a]=(0,n.useState)([]),[s]=(0,n.useState)(!1),[o]=(0,n.useState)("");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Configure system settings and preferences"})]}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Add Setting"})]})]})}),0===a.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No settings configured"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Get started by configuring your first system setting. This will help you customize the application behavior and preferences."}),(0,l.jsxs)("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Configure First Setting"})]})]}):(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Setting"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200"})]})})})]})},G=e=>{let{user:t,token:r}=e;const[a,s]=(0,n.useState)({username:"",email:"",firstName:"",lastName:"",phone:"",department:"Administration",role:"Administrator",lastLogin:"",accountCreated:""});return(0,n.useEffect)(()=>{console.log("AdminProfile received user:",t),t&&(s(e=>w(w({},e),{},{username:t.username||"",email:t.user_email||t.email||"",firstName:t.firstName||"",lastName:t.lastName||"",phone:t.phone||"",lastLogin:t.lastLogin||(new Date).toLocaleDateString(),accountCreated:t.accountCreated||(new Date).toLocaleDateString()})),console.log("AdminProfile set profile with email:",t.user_email||t.email||""))},[t]),(0,n.useEffect)(()=>{(async()=>{try{if(r&&(!a.email||!a.firstName||!a.lastName)){try{const e="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",t=await fetch("".concat(e,"/wp/v2/settings"),{method:"GET",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},mode:"cors"});if(t.ok){const n=await t.json(),a=(null===n||void 0===n?void 0:n.email)||(null===n||void 0===n?void 0:n.admin_email)||"";if(a){s(e=>w(w({},e),{},{email:a}));try{const t=await fetch("".concat(e,"/wp/v2/users/me?context=edit"),{method:"GET",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},mode:"cors"});if(t.ok){const e=await t.json(),r=e.first_name||e.firstName||"",n=e.last_name||e.lastName||"";s(e=>w(w({},e),{},{firstName:r,lastName:n}))}}catch(o){}}}}catch(o){}try{const a=String(r).split(".");if(3===a.length){var e,t,n;const r=JSON.parse(atob(a[1])),l=(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.user_email)||(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.user_email)||(null===r||void 0===r?void 0:r.user_email)||(null===r||void 0===r?void 0:r.email)||"";if(l){s(e=>w(w({},e),{},{email:l}));try{const e=localStorage.getItem("user");if(e){const t=w(w({},JSON.parse(e)),{},{user_email:l,email:l});localStorage.setItem("user",JSON.stringify(t))}}catch(o){}return}}}catch(o){}const a="undefined"!==typeof window&&window.REACT_APP_API_URL||"https://echovault.space/wp-json",i=await fetch("".concat(a,"/wp/v2/users/me?context=edit"),{method:"GET",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},mode:"cors"});if(i.ok){const e=await i.json(),t=e.email||e.user_email||"",r=e.first_name||e.firstName||"",n=e.last_name||e.lastName||"";s(e=>w(w({},e),{},{email:t||e.email,firstName:r,lastName:n}));try{const e=localStorage.getItem("user");if(e){const a=JSON.parse(e),l=w(w({},a),{},{user_email:t||a.user_email,email:t||a.email,firstName:r,lastName:n});localStorage.setItem("user",JSON.stringify(l))}}catch(o){}}else{const e=await fetch("".concat(a,"/jwt-auth/v1/token/validate"),{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},mode:"cors"});if(e.ok){var l;const t=await e.json(),r=(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.user_email)||(null===t||void 0===t?void 0:t.user_email)||"";r&&s(e=>w(w({},e),{},{email:r}))}}}}catch(i){}})()},[a.email,r]),(0,l.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden",children:(0,l.jsx)("img",{src:"https://echovault.space/wp-content/uploads/2025/10/monster-8.svg",alt:"Admin Avatar",className:"w-full h-full object-contain"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Profile"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"View your administrator account details"})]})]})}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Personal Information"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,l.jsx)("input",{type:"text",value:a.username,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,l.jsx)("input",{type:"email",value:a.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,l.jsx)("input",{type:"text",value:a.firstName,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,l.jsx)("input",{type:"text",value:a.lastName,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Account Information"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,l.jsx)("input",{type:"text",value:a.department,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,l.jsx)("input",{type:"text",value:a.role,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),(0,l.jsx)("input",{type:"text",value:a.lastLogin,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Created"}),(0,l.jsx)("input",{type:"text",value:a.accountCreated,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})]})]})})]})})};const Q=function(){const[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)("dashboard"),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)([]),[g,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(null),[j,w]=(0,n.useState)(null),[N,k]=(0,n.useState)(null),[_,L]=(0,n.useState)(null),[E,M]=(0,n.useState)(null);(0,n.useEffect)(()=>{const e=localStorage.getItem("jwt_token"),r=localStorage.getItem("borrowerProfile"),n=localStorage.getItem("user");e&&(a(e),t(!0),d(!!r),n&&w(JSON.parse(n)));try{const e=new URLSearchParams(window.location.search),t=e.get("view"),r=e.get("borrowerId"),n=e.get("loanId");t&&m(t),r&&L(r),n&&M(n)}catch(l){}},[]);const B=(e,r)=>{a(e),w(r),t(!0),d(!0)},z=()=>{m("create-borrower"),h(null)},P=()=>{m("loan-requests-create")},D=async()=>{if(r){b(!0),v(null);try{const e=await fetch("".concat("https://echovault.space/wp-json","/wp/v2/borrower-profile"),{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},mode:"cors"});if(e.ok){const t=await e.json();x(t)}else v("Failed to fetch borrowers")}catch(e){v("Network error occurred")}finally{b(!1)}}};return(0,n.useEffect)(()=>{e&&r&&D()},[e,r]),(0,n.useEffect)(()=>{if(_&&f&&f.length>0){const e=f.find(e=>String(e.id)===String(_));e&&(h(e),m("borrower-detail"),L(null))}},[_,f]),(0,n.useEffect)(()=>{E&&(k(String(E)),m("loan-detail"),M(null))},[E]),e?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(o,{currentView:u,setCurrentView:e=>{m(e),"borrowers"===e&&D()},onCreateNew:z}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,l.jsx)(i,{onLogout:()=>{localStorage.removeItem("jwt_token"),localStorage.removeItem("borrowerProfile"),localStorage.removeItem("user"),a(null),w(null),t(!1),d(!1),m("dashboard"),h(null),x([])},user:j,onNavigateToProfile:()=>{m("admin-profile")}}),"loans"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(C,{onCreateNew:z,setCurrentView:m})}),"loans-create"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(V,{token:r,setCurrentView:m,onOpenBorrower:e=>{const t="".concat(window.location.origin,"?view=borrower-detail&borrowerId=").concat(e);window.open(t,"_blank","noopener")}})}),"loans-active"===u&&(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loans"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Manage and view loan applications and approvals"})]}),(0,l.jsxs)("button",{onClick:()=>m("loans-create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create New Loan"})]})]})}),(0,l.jsx)(A,{token:r,setCurrentView:e=>{"object"===typeof e&&"loan-detail"===e.view?(k(e.loanId),m("loan-detail")):m(e)}})]}),"loan-detail"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(F,{token:r,loanId:N,onBack:()=>m("loans-active"),onOpenBorrower:e=>{const t="".concat(window.location.origin,"?view=borrower-detail&borrowerId=").concat(e);window.open(t,"_blank","noopener")}})}),"loan-requests"===u&&(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loan Requests"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Review and process incoming loan requests"})]}),(0,l.jsxs)("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 self-start sm:self-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create Loan Request"})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No loan requests"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"New loan requests submitted by borrowers will be listed here for your review."}),(0,l.jsxs)("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 mx-auto",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,l.jsx)("span",{children:"Create Loan Request"})]})]})]}),"loan-requests-create"===u&&(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Loan Request"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Start a new loan request for a borrower"})]})})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-8 4h10M7 8h10"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Form coming soon"}),(0,l.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"We will add the loan request form here with borrower selection and product details."})]})]}),"loan-calculator"===u&&(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loan Calculator"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Estimate repayments and terms"})]})})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h10M7 11h10M9 15h6M9 19h6"})})}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Calculator coming soon"}),(0,l.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"We will add repayment and term estimation here with inputs and instant results."})]})]}),"loan-products"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(O,{token:r})}),"loan-contract"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(W,{})}),"bank-accounts"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(H,{token:r,setCurrentView:m})}),"notes"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(U,{token:r})}),"reports"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(q,{})}),"settings"===u&&(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)($,{})}),"admin-profile"===u&&(0,l.jsx)(G,{user:j,token:r}),("dashboard"===u||"borrowers"===u||"create-borrower"===u||"borrower-detail"===u||"edit-borrower"===u)&&(0,l.jsx)(S,{currentView:u,borrowers:f,selectedBorrower:p,onSelectBorrower:e=>{h(e),m("borrower-detail")},onCreateNew:z,onEdit:e=>{h(e),m("edit-borrower")},onBack:()=>{"borrower-detail"===u||"edit-borrower"===u?(m("borrowers"),h(null),D()):"create-borrower"===u&&m("dashboard")},loading:g,error:y})]})]})}):(0,l.jsx)(s,{onLoginSuccess:B})};a.createRoot(document.getElementById("root")).render((0,l.jsx)(n.StrictMode,{children:(0,l.jsx)(Q,{})}))})();
//# sourceMappingURL=main.a47bdf63.js.map